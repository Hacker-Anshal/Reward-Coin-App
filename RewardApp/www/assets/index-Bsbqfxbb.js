var I0=n=>{throw TypeError(n)};var kp=(n,e,t)=>e.has(n)||I0("Cannot "+t);var te=(n,e,t)=>(kp(n,e,"read from private field"),t?t.call(n):e.get(n)),Xe=(n,e,t)=>e.has(n)?I0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ve=(n,e,t,r)=>(kp(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),rn=(n,e,t)=>(kp(n,e,"access private method"),t);var pd=(n,e,t,r)=>({set _(i){Ve(n,e,i,t)},get _(){return te(n,e,r)}});function EC(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function aE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Np={exports:{}},nu={},Op={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function TC(){if(C0)return Ue;C0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,A={};function x(U,X,ce){this.props=U,this.context=X,this.refs=A,this.updater=ce||I}x.prototype.isReactComponent={},x.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function M(){}M.prototype=x.prototype;function V(U,X,ce){this.props=U,this.context=X,this.refs=A,this.updater=ce||I}var $=V.prototype=new M;$.constructor=V,R($,x.prototype),$.isPureReactComponent=!0;var W=Array.isArray,Q=Object.prototype.hasOwnProperty,Z={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function P(U,X,ce){var xe,Pe={},Te=null,Fe=null;if(X!=null)for(xe in X.ref!==void 0&&(Fe=X.ref),X.key!==void 0&&(Te=""+X.key),X)Q.call(X,xe)&&!N.hasOwnProperty(xe)&&(Pe[xe]=X[xe]);var Le=arguments.length-2;if(Le===1)Pe.children=ce;else if(1<Le){for(var Be=Array(Le),et=0;et<Le;et++)Be[et]=arguments[et+2];Pe.children=Be}if(U&&U.defaultProps)for(xe in Le=U.defaultProps,Le)Pe[xe]===void 0&&(Pe[xe]=Le[xe]);return{$$typeof:n,type:U,key:Te,ref:Fe,props:Pe,_owner:Z.current}}function k(U,X){return{$$typeof:n,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function L(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function F(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ce){return X[ce]})}var j=/\/+/g;function O(U,X){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):X.toString(36)}function le(U,X,ce,xe,Pe){var Te=typeof U;(Te==="undefined"||Te==="boolean")&&(U=null);var Fe=!1;if(U===null)Fe=!0;else switch(Te){case"string":case"number":Fe=!0;break;case"object":switch(U.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=U,Pe=Pe(Fe),U=xe===""?"."+O(Fe,0):xe,W(Pe)?(ce="",U!=null&&(ce=U.replace(j,"$&/")+"/"),le(Pe,X,ce,"",function(et){return et})):Pe!=null&&(L(Pe)&&(Pe=k(Pe,ce+(!Pe.key||Fe&&Fe.key===Pe.key?"":(""+Pe.key).replace(j,"$&/")+"/")+U)),X.push(Pe)),1;if(Fe=0,xe=xe===""?".":xe+":",W(U))for(var Le=0;Le<U.length;Le++){Te=U[Le];var Be=xe+O(Te,Le);Fe+=le(Te,X,ce,Be,Pe)}else if(Be=w(U),typeof Be=="function")for(U=Be.call(U),Le=0;!(Te=U.next()).done;)Te=Te.value,Be=xe+O(Te,Le++),Fe+=le(Te,X,ce,Be,Pe);else if(Te==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Ie(U,X,ce){if(U==null)return U;var xe=[],Pe=0;return le(U,xe,"","",function(Te){return X.call(ce,Te,Pe++)}),xe}function we(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(ce){(U._status===0||U._status===-1)&&(U._status=1,U._result=ce)},function(ce){(U._status===0||U._status===-1)&&(U._status=2,U._result=ce)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var ye={current:null},K={transition:null},oe={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:K,ReactCurrentOwner:Z};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:Ie,forEach:function(U,X,ce){Ie(U,function(){X.apply(this,arguments)},ce)},count:function(U){var X=0;return Ie(U,function(){X++}),X},toArray:function(U){return Ie(U,function(X){return X})||[]},only:function(U){if(!L(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ue.Component=x,Ue.Fragment=t,Ue.Profiler=i,Ue.PureComponent=V,Ue.StrictMode=r,Ue.Suspense=f,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ue.act=ue,Ue.cloneElement=function(U,X,ce){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var xe=R({},U.props),Pe=U.key,Te=U.ref,Fe=U._owner;if(X!=null){if(X.ref!==void 0&&(Te=X.ref,Fe=Z.current),X.key!==void 0&&(Pe=""+X.key),U.type&&U.type.defaultProps)var Le=U.type.defaultProps;for(Be in X)Q.call(X,Be)&&!N.hasOwnProperty(Be)&&(xe[Be]=X[Be]===void 0&&Le!==void 0?Le[Be]:X[Be])}var Be=arguments.length-2;if(Be===1)xe.children=ce;else if(1<Be){Le=Array(Be);for(var et=0;et<Be;et++)Le[et]=arguments[et+2];xe.children=Le}return{$$typeof:n,type:U.type,key:Pe,ref:Te,props:xe,_owner:Fe}},Ue.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Ue.createElement=P,Ue.createFactory=function(U){var X=P.bind(null,U);return X.type=U,X},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(U){return{$$typeof:d,render:U}},Ue.isValidElement=L,Ue.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:we}},Ue.memo=function(U,X){return{$$typeof:p,type:U,compare:X===void 0?null:X}},Ue.startTransition=function(U){var X=K.transition;K.transition={};try{U()}finally{K.transition=X}},Ue.unstable_act=ue,Ue.useCallback=function(U,X){return ye.current.useCallback(U,X)},Ue.useContext=function(U){return ye.current.useContext(U)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(U){return ye.current.useDeferredValue(U)},Ue.useEffect=function(U,X){return ye.current.useEffect(U,X)},Ue.useId=function(){return ye.current.useId()},Ue.useImperativeHandle=function(U,X,ce){return ye.current.useImperativeHandle(U,X,ce)},Ue.useInsertionEffect=function(U,X){return ye.current.useInsertionEffect(U,X)},Ue.useLayoutEffect=function(U,X){return ye.current.useLayoutEffect(U,X)},Ue.useMemo=function(U,X){return ye.current.useMemo(U,X)},Ue.useReducer=function(U,X,ce){return ye.current.useReducer(U,X,ce)},Ue.useRef=function(U){return ye.current.useRef(U)},Ue.useState=function(U){return ye.current.useState(U)},Ue.useSyncExternalStore=function(U,X,ce){return ye.current.useSyncExternalStore(U,X,ce)},Ue.useTransition=function(){return ye.current.useTransition()},Ue.version="18.3.1",Ue}var A0;function eg(){return A0||(A0=1,Op.exports=TC()),Op.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function xC(){if(b0)return nu;b0=1;var n=eg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var v,_={},w=null,I=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(I=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(_[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)_[v]===void 0&&(_[v]=f[v]);return{$$typeof:e,type:d,key:w,ref:I,props:_,_owner:i.current}}return nu.Fragment=t,nu.jsx=u,nu.jsxs=u,nu}var R0;function SC(){return R0||(R0=1,Np.exports=xC()),Np.exports}var T=SC(),C=eg();const he=aE(C),lE=EC({__proto__:null,default:he},[C]),IC=1,CC=1e6;let Dp=0;function AC(){return Dp=(Dp+1)%Number.MAX_SAFE_INTEGER,Dp.toString()}const Mp=new Map,P0=n=>{if(Mp.has(n))return;const e=setTimeout(()=>{Mp.delete(n),uu({type:"REMOVE_TOAST",toastId:n})},CC);Mp.set(n,e)},bC=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,IC)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?P0(t):n.toasts.forEach(r=>{P0(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Od=[];let Dd={toasts:[]};function uu(n){Dd=bC(Dd,n),Od.forEach(e=>{e(Dd)})}function RC({...n}){const e=AC(),t=i=>uu({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>uu({type:"DISMISS_TOAST",toastId:e});return uu({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function Vu(){const[n,e]=C.useState(Dd);return C.useEffect(()=>(Od.push(e),()=>{const t=Od.indexOf(e);t>-1&&Od.splice(t,1)}),[n]),{...n,toast:RC,dismiss:t=>uu({type:"DISMISS_TOAST",toastId:t})}}var Lp={exports:{}},Nn={},Vp={exports:{}},jp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function PC(){return k0||(k0=1,function(n){function e(K,oe){var ue=K.length;K.push(oe);e:for(;0<ue;){var U=ue-1>>>1,X=K[U];if(0<i(X,oe))K[U]=oe,K[ue]=X,ue=U;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var oe=K[0],ue=K.pop();if(ue!==oe){K[0]=ue;e:for(var U=0,X=K.length,ce=X>>>1;U<ce;){var xe=2*(U+1)-1,Pe=K[xe],Te=xe+1,Fe=K[Te];if(0>i(Pe,ue))Te<X&&0>i(Fe,Pe)?(K[U]=Fe,K[Te]=ue,U=Te):(K[U]=Pe,K[xe]=ue,U=xe);else if(Te<X&&0>i(Fe,ue))K[U]=Fe,K[Te]=ue,U=Te;else break e}}return oe}function i(K,oe){var ue=K.sortIndex-oe.sortIndex;return ue!==0?ue:K.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],p=[],v=1,_=null,w=3,I=!1,R=!1,A=!1,x=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(K){for(var oe=t(p);oe!==null;){if(oe.callback===null)r(p);else if(oe.startTime<=K)r(p),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=t(p)}}function W(K){if(A=!1,$(K),!R)if(t(f)!==null)R=!0,we(Q);else{var oe=t(p);oe!==null&&ye(W,oe.startTime-K)}}function Q(K,oe){R=!1,A&&(A=!1,M(P),P=-1),I=!0;var ue=w;try{for($(oe),_=t(f);_!==null&&(!(_.expirationTime>oe)||K&&!F());){var U=_.callback;if(typeof U=="function"){_.callback=null,w=_.priorityLevel;var X=U(_.expirationTime<=oe);oe=n.unstable_now(),typeof X=="function"?_.callback=X:_===t(f)&&r(f),$(oe)}else r(f);_=t(f)}if(_!==null)var ce=!0;else{var xe=t(p);xe!==null&&ye(W,xe.startTime-oe),ce=!1}return ce}finally{_=null,w=ue,I=!1}}var Z=!1,N=null,P=-1,k=5,L=-1;function F(){return!(n.unstable_now()-L<k)}function j(){if(N!==null){var K=n.unstable_now();L=K;var oe=!0;try{oe=N(!0,K)}finally{oe?O():(Z=!1,N=null)}}else Z=!1}var O;if(typeof V=="function")O=function(){V(j)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Ie=le.port2;le.port1.onmessage=j,O=function(){Ie.postMessage(null)}}else O=function(){x(j,0)};function we(K){N=K,Z||(Z=!0,O())}function ye(K,oe){P=x(function(){K(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){R||I||(R=!0,we(Q))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(K){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var ue=w;w=oe;try{return K()}finally{w=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ue=w;w=K;try{return oe()}finally{w=ue}},n.unstable_scheduleCallback=function(K,oe,ue){var U=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?U+ue:U):ue=U,K){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ue+X,K={id:v++,callback:oe,priorityLevel:K,startTime:ue,expirationTime:X,sortIndex:-1},ue>U?(K.sortIndex=ue,e(p,K),t(f)===null&&K===t(p)&&(A?(M(P),P=-1):A=!0,ye(W,ue-U))):(K.sortIndex=X,e(f,K),R||I||(R=!0,we(Q))),K},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(K){var oe=w;return function(){var ue=w;w=oe;try{return K.apply(this,arguments)}finally{w=ue}}}}(jp)),jp}var N0;function kC(){return N0||(N0=1,Vp.exports=PC()),Vp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function NC(){if(O0)return Nn;O0=1;var n=eg(),e=kC();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function w(s){return f.call(_,s)?!0:f.call(v,s)?!1:p.test(s)?_[s]=!0:(v[s]=!0,!1)}function I(s,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function R(s,o,l,h){if(o===null||typeof o>"u"||I(s,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function A(s,o,l,h,m,y,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=S}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){x[s]=new A(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];x[o]=new A(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){x[s]=new A(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){x[s]=new A(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){x[s]=new A(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){x[s]=new A(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){x[s]=new A(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){x[s]=new A(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){x[s]=new A(s,5,!1,s.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(M,V);x[o]=new A(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(M,V);x[o]=new A(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(M,V);x[o]=new A(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){x[s]=new A(s,1,!1,s.toLowerCase(),null,!1,!1)}),x.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){x[s]=new A(s,1,!1,s.toLowerCase(),null,!0,!0)});function $(s,o,l,h){var m=x.hasOwnProperty(o)?x[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(R(o,l,m,h)&&(l=null),h||m===null?w(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):m.mustUseProperty?s[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?s.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?s.setAttributeNS(h,o,l):s.setAttribute(o,l))))}var W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),Z=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),F=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),K=Symbol.iterator;function oe(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var ue=Object.assign,U;function X(s){if(U===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+s}var ce=!1;function xe(s,o){if(!s||ce)return"";ce=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var h=Y}Reflect.construct(s,[],o)}else{try{o.call()}catch(Y){h=Y}s.call(o.prototype)}else{try{throw Error()}catch(Y){h=Y}s()}}catch(Y){if(Y&&h&&typeof Y.stack=="string"){for(var m=Y.stack.split(`
`),y=h.stack.split(`
`),S=m.length-1,D=y.length-1;1<=S&&0<=D&&m[S]!==y[D];)D--;for(;1<=S&&0<=D;S--,D--)if(m[S]!==y[D]){if(S!==1||D!==1)do if(S--,D--,0>D||m[S]!==y[D]){var z=`
`+m[S].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=S&&0<=D);break}}}finally{ce=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?X(s):""}function Pe(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=xe(s.type,!1),s;case 11:return s=xe(s.type.render,!1),s;case 1:return s=xe(s.type,!0),s;default:return""}}function Te(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case Z:return"Portal";case k:return"Profiler";case P:return"StrictMode";case O:return"Suspense";case le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case j:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ie:return o=s.displayName||null,o!==null?o:Te(s.type)||"Memo";case we:o=s._payload,s=s._init;try{return Te(s(o))}catch{}}return null}function Fe(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(o);case 8:return o===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Le(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Be(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function et(s){var o=Be(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){h=""+S,y.call(this,S)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Tn(s){s._valueTracker||(s._valueTracker=et(s))}function Mn(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return s&&(h=Be(s)?s.checked?"true":"false":s.value),s=h,s!==l?(o.setValue(s),!0):!1}function Xt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ln(s,o){var l=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function ur(s,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=Le(o.value!=null?o.value:l),s._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function xn(s,o){o=o.checked,o!=null&&$(s,"checked",o,!1)}function us(s,o){xn(s,o);var l=Le(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?ft(s,o.type,l):o.hasOwnProperty("defaultValue")&&ft(s,o.type,Le(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function js(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function ft(s,o,l){(o!=="number"||Xt(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Jt=Array.isArray;function cr(s,o,l,h){if(s=s.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=o.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&h&&(s[l].defaultSelected=!0)}else{for(l=""+Le(l),o=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Gi(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function dr(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Jt(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:Le(l)}}function Fs(s,o){var l=Le(o.value),h=Le(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),h!=null&&(s.defaultValue=""+h)}function Us(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function gt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?gt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Qn,Yn=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,l,h,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Qn=Qn||document.createElement("div"),Qn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Qn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function hr(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jr=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(s){jr.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),cs[o]=cs[s]})});function zs(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||cs.hasOwnProperty(s)&&cs[s]?(""+o).trim():o+"px"}function Ki(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=zs(l,o[l],h);l==="float"&&(l="cssFloat"),h?s.setProperty(l,m):s[l]=m}}var ds=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sn(s,o){if(o){if(ds[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Qi(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Qe(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ge=null,yt=null,xt=null;function fr(s){if(s=zl(s)){if(typeof Ge!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Rc(o),Ge(s.stateNode,s.type,o))}}function Xn(s){yt?xt?xt.push(s):xt=[s]:yt=s}function vl(){if(yt){var s=yt,o=xt;if(xt=yt=null,fr(s),o)for(s=0;s<o.length;s++)fr(o[s])}}function Yi(s,o){return s(o)}function wl(){}var hs=!1;function _l(s,o,l){if(hs)return s(o,l);hs=!0;try{return Yi(s,o,l)}finally{hs=!1,(yt!==null||xt!==null)&&(wl(),vl())}}function St(s,o){var l=s.stateNode;if(l===null)return null;var h=Rc(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Uo=!1;if(d)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{Uo=!1}function Xi(s,o,l,h,m,y,S,D,z){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(l,Y)}catch(se){this.onError(se)}}var Ji=!1,zo=null,mr=!1,El=null,sf={onError:function(s){Ji=!0,zo=s}};function $o(s,o,l,h,m,y,S,D,z){Ji=!1,zo=null,Xi.apply(sf,arguments)}function ec(s,o,l,h,m,y,S,D,z){if($o.apply(this,arguments),Ji){if(Ji){var Y=zo;Ji=!1,zo=null}else throw Error(t(198));mr||(mr=!0,El=Y)}}function gr(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function Zi(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function yr(s){if(gr(s)!==s)throw Error(t(188))}function tc(s){var o=s.alternate;if(!o){if(o=gr(s),o===null)throw Error(t(188));return o!==s?null:s}for(var l=s,h=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return yr(m),s;if(y===h)return yr(m),o;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=y;else{for(var S=!1,D=m.child;D;){if(D===l){S=!0,l=m,h=y;break}if(D===h){S=!0,h=m,l=y;break}D=D.sibling}if(!S){for(D=y.child;D;){if(D===l){S=!0,l=y,h=m;break}if(D===h){S=!0,h=y,l=m;break}D=D.sibling}if(!S)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:o}function Tl(s){return s=tc(s),s!==null?Bo(s):null}function Bo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Bo(s);if(o!==null)return o;s=s.sibling}return null}var Wo=e.unstable_scheduleCallback,xl=e.unstable_cancelCallback,nc=e.unstable_shouldYield,of=e.unstable_requestPaint,st=e.unstable_now,rc=e.unstable_getCurrentPriorityLevel,eo=e.unstable_ImmediatePriority,$s=e.unstable_UserBlockingPriority,Jn=e.unstable_NormalPriority,Sl=e.unstable_LowPriority,sc=e.unstable_IdlePriority,to=null,Vn=null;function ic(s){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(to,s,void 0,(s.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:ac,Il=Math.log,oc=Math.LN2;function ac(s){return s>>>=0,s===0?32:31-(Il(s)/oc|0)|0}var Ho=64,qo=4194304;function Bs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function no(s,o){var l=s.pendingLanes;if(l===0)return 0;var h=0,m=s.suspendedLanes,y=s.pingedLanes,S=l&268435455;if(S!==0){var D=S&~m;D!==0?h=Bs(D):(y&=S,y!==0&&(h=Bs(y)))}else S=l&~m,S!==0?h=Bs(S):y!==0&&(h=Bs(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)l=31-fn(o),m=1<<l,h|=s[l],o&=~m;return h}function af(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fs(s,o){for(var l=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var S=31-fn(y),D=1<<S,z=m[S];z===-1?((D&l)===0||(D&h)!==0)&&(m[S]=af(D,o)):z<=o&&(s.expiredLanes|=D),y&=~D}}function jn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ro(){var s=Ho;return Ho<<=1,(Ho&4194240)===0&&(Ho=64),s}function Ws(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function Hs(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-fn(o),s[o]=l}function tt(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<l;){var m=31-fn(l),y=1<<m;o[m]=0,h[m]=-1,s[m]=-1,l&=~y}}function qs(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var h=31-fn(l),m=1<<h;m&o|s[h]&o&&(s[h]|=o),l&=~m}}var We=0;function Gs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var lc,Go,uc,cc,dc,Cl=!1,Fr=[],Wt=null,vr=null,wr=null,Ks=new Map,Zn=new Map,Ur=[],lf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hc(s,o){switch(s){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Ks.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(o.pointerId)}}function In(s,o,l,h,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=zl(o),o!==null&&Go(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function uf(s,o,l,h,m){switch(o){case"focusin":return Wt=In(Wt,s,o,l,h,m),!0;case"dragenter":return vr=In(vr,s,o,l,h,m),!0;case"mouseover":return wr=In(wr,s,o,l,h,m),!0;case"pointerover":var y=m.pointerId;return Ks.set(y,In(Ks.get(y)||null,s,o,l,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Zn.set(y,In(Zn.get(y)||null,s,o,l,h,m)),!0}return!1}function fc(s){var o=lo(s.target);if(o!==null){var l=gr(o);if(l!==null){if(o=l.tag,o===13){if(o=Zi(l),o!==null){s.blockedOn=o,dc(s.priority,function(){uc(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ps(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=Ko(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);be=h,l.target.dispatchEvent(h),be=null}else return o=zl(l),o!==null&&Go(o),s.blockedOn=l,!1;o.shift()}return!0}function so(s,o,l){ps(s)&&l.delete(o)}function pc(){Cl=!1,Wt!==null&&ps(Wt)&&(Wt=null),vr!==null&&ps(vr)&&(vr=null),wr!==null&&ps(wr)&&(wr=null),Ks.forEach(so),Zn.forEach(so)}function _r(s,o){s.blockedOn===o&&(s.blockedOn=null,Cl||(Cl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pc)))}function Er(s){function o(m){return _r(m,s)}if(0<Fr.length){_r(Fr[0],s);for(var l=1;l<Fr.length;l++){var h=Fr[l];h.blockedOn===s&&(h.blockedOn=null)}}for(Wt!==null&&_r(Wt,s),vr!==null&&_r(vr,s),wr!==null&&_r(wr,s),Ks.forEach(o),Zn.forEach(o),l=0;l<Ur.length;l++)h=Ur[l],h.blockedOn===s&&(h.blockedOn=null);for(;0<Ur.length&&(l=Ur[0],l.blockedOn===null);)fc(l),l.blockedOn===null&&Ur.shift()}var ms=W.ReactCurrentBatchConfig,Qs=!0;function pt(s,o,l,h){var m=We,y=ms.transition;ms.transition=null;try{We=1,Al(s,o,l,h)}finally{We=m,ms.transition=y}}function cf(s,o,l,h){var m=We,y=ms.transition;ms.transition=null;try{We=4,Al(s,o,l,h)}finally{We=m,ms.transition=y}}function Al(s,o,l,h){if(Qs){var m=Ko(s,o,l,h);if(m===null)Ef(s,o,h,io,l),hc(s,h);else if(uf(m,s,o,l,h))h.stopPropagation();else if(hc(s,h),o&4&&-1<lf.indexOf(s)){for(;m!==null;){var y=zl(m);if(y!==null&&lc(y),y=Ko(s,o,l,h),y===null&&Ef(s,o,h,io,l),y===m)break;m=y}m!==null&&h.stopPropagation()}else Ef(s,o,h,null,l)}}var io=null;function Ko(s,o,l,h){if(io=null,s=Qe(h),s=lo(s),s!==null)if(o=gr(s),o===null)s=null;else if(l=o.tag,l===13){if(s=Zi(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return io=s,null}function bl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rc()){case eo:return 1;case $s:return 4;case Jn:case Sl:return 16;case sc:return 536870912;default:return 16}default:return 16}}var Fn=null,Qo=null,Cn=null;function Rl(){if(Cn)return Cn;var s,o=Qo,l=o.length,h,m="value"in Fn?Fn.value:Fn.textContent,y=m.length;for(s=0;s<l&&o[s]===m[s];s++);var S=l-s;for(h=1;h<=S&&o[l-h]===m[y-h];h++);return Cn=m.slice(s,1<h?1-h:void 0)}function Yo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function zr(){return!0}function Pl(){return!1}function Ht(s){function o(l,h,m,y,S){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(l=s[D],this[D]=l?l(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?zr:Pl,this.isPropagationStopped=Pl,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),o}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=Ht(Tr),$r=ue({},Tr,{view:0,detail:0}),df=Ht($r),Jo,gs,Ys,oo=ue({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ys&&(Ys&&s.type==="mousemove"?(Jo=s.screenX-Ys.screenX,gs=s.screenY-Ys.screenY):gs=Jo=0,Ys=s),Jo)},movementY:function(s){return"movementY"in s?s.movementY:gs}}),Zo=Ht(oo),kl=ue({},oo,{dataTransfer:0}),mc=Ht(kl),ea=ue({},$r,{relatedTarget:0}),ta=Ht(ea),gc=ue({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),ys=Ht(gc),yc=ue({},Tr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),vc=Ht(yc),wc=ue({},Tr,{data:0}),Nl=Ht(wc),na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ec(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=_c[s])?!!o[s]:!1}function Br(){return Ec}var c=ue({},$r,{key:function(s){if(s.key){var o=na[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Yo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?pn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(s){return s.type==="keypress"?Yo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Yo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),g=Ht(c),E=ue({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b=Ht(E),H=ue({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),J=Ht(H),de=ue({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ze=Ht(de),Nt=ue({},oo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),He=Ht(Nt),Ft=[9,13,27,32],At=d&&"CompositionEvent"in window,er=null;d&&"documentMode"in document&&(er=document.documentMode);var Un=d&&"TextEvent"in window&&!er,ao=d&&(!At||er&&8<er&&11>=er),ra=" ",wy=!1;function _y(s,o){switch(s){case"keyup":return Ft.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ey(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var sa=!1;function vI(s,o){switch(s){case"compositionend":return Ey(o);case"keypress":return o.which!==32?null:(wy=!0,ra);case"textInput":return s=o.data,s===ra&&wy?null:s;default:return null}}function wI(s,o){if(sa)return s==="compositionend"||!At&&_y(s,o)?(s=Rl(),Cn=Qo=Fn=null,sa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ao&&o.locale!=="ko"?null:o.data;default:return null}}var _I={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ty(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!_I[s.type]:o==="textarea"}function xy(s,o,l,h){Xn(h),o=Cc(o,"onChange"),0<o.length&&(l=new Xo("onChange","change",null,l,h),s.push({event:l,listeners:o}))}var Ol=null,Dl=null;function EI(s){zy(s,0)}function Tc(s){var o=ua(s);if(Mn(o))return s}function TI(s,o){if(s==="change")return o}var Sy=!1;if(d){var hf;if(d){var ff="oninput"in document;if(!ff){var Iy=document.createElement("div");Iy.setAttribute("oninput","return;"),ff=typeof Iy.oninput=="function"}hf=ff}else hf=!1;Sy=hf&&(!document.documentMode||9<document.documentMode)}function Cy(){Ol&&(Ol.detachEvent("onpropertychange",Ay),Dl=Ol=null)}function Ay(s){if(s.propertyName==="value"&&Tc(Dl)){var o=[];xy(o,Dl,s,Qe(s)),_l(EI,o)}}function xI(s,o,l){s==="focusin"?(Cy(),Ol=o,Dl=l,Ol.attachEvent("onpropertychange",Ay)):s==="focusout"&&Cy()}function SI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Tc(Dl)}function II(s,o){if(s==="click")return Tc(o)}function CI(s,o){if(s==="input"||s==="change")return Tc(o)}function AI(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var xr=typeof Object.is=="function"?Object.is:AI;function Ml(s,o){if(xr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(o,m)||!xr(s[m],o[m]))return!1}return!0}function by(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ry(s,o){var l=by(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=o&&h>=o)return{node:l,offset:o-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=by(l)}}function Py(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Py(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function ky(){for(var s=window,o=Xt();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Xt(s.document)}return o}function pf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function bI(s){var o=ky(),l=s.focusedElem,h=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&Py(l.ownerDocument.documentElement,l)){if(h!==null&&pf(l)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=l.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!s.extend&&y>h&&(m=h,h=y,y=m),m=Ry(l,y);var S=Ry(l,h);m&&S&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),y>h?(s.addRange(o),s.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var RI=d&&"documentMode"in document&&11>=document.documentMode,ia=null,mf=null,Ll=null,gf=!1;function Ny(s,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gf||ia==null||ia!==Xt(h)||(h=ia,"selectionStart"in h&&pf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ll&&Ml(Ll,h)||(Ll=h,h=Cc(mf,"onSelect"),0<h.length&&(o=new Xo("onSelect","select",null,o,l),s.push({event:o,listeners:h}),o.target=ia)))}function xc(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var oa={animationend:xc("Animation","AnimationEnd"),animationiteration:xc("Animation","AnimationIteration"),animationstart:xc("Animation","AnimationStart"),transitionend:xc("Transition","TransitionEnd")},yf={},Oy={};d&&(Oy=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function Sc(s){if(yf[s])return yf[s];if(!oa[s])return s;var o=oa[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Oy)return yf[s]=o[l];return s}var Dy=Sc("animationend"),My=Sc("animationiteration"),Ly=Sc("animationstart"),Vy=Sc("transitionend"),jy=new Map,Fy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(s,o){jy.set(s,o),a(o,[s])}for(var vf=0;vf<Fy.length;vf++){var wf=Fy[vf],PI=wf.toLowerCase(),kI=wf[0].toUpperCase()+wf.slice(1);Xs(PI,"on"+kI)}Xs(Dy,"onAnimationEnd"),Xs(My,"onAnimationIteration"),Xs(Ly,"onAnimationStart"),Xs("dblclick","onDoubleClick"),Xs("focusin","onFocus"),Xs("focusout","onBlur"),Xs(Vy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vl));function Uy(s,o,l){var h=s.type||"unknown-event";s.currentTarget=l,ec(h,o,void 0,s),s.currentTarget=null}function zy(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var S=h.length-1;0<=S;S--){var D=h[S],z=D.instance,Y=D.currentTarget;if(D=D.listener,z!==y&&m.isPropagationStopped())break e;Uy(m,D,Y),y=z}else for(S=0;S<h.length;S++){if(D=h[S],z=D.instance,Y=D.currentTarget,D=D.listener,z!==y&&m.isPropagationStopped())break e;Uy(m,D,Y),y=z}}}if(mr)throw s=El,mr=!1,El=null,s}function lt(s,o){var l=o[Af];l===void 0&&(l=o[Af]=new Set);var h=s+"__bubble";l.has(h)||($y(o,s,2,!1),l.add(h))}function _f(s,o,l){var h=0;o&&(h|=4),$y(l,s,h,o)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function jl(s){if(!s[Ic]){s[Ic]=!0,r.forEach(function(l){l!=="selectionchange"&&(NI.has(l)||_f(l,!1,s),_f(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Ic]||(o[Ic]=!0,_f("selectionchange",!1,o))}}function $y(s,o,l,h){switch(bl(o)){case 1:var m=pt;break;case 4:m=cf;break;default:m=Al}l=m.bind(null,o,l,s),m=void 0,!Uo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,l,{capture:!0,passive:m}):s.addEventListener(o,l,!0):m!==void 0?s.addEventListener(o,l,{passive:m}):s.addEventListener(o,l,!1)}function Ef(s,o,l,h,m){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var D=h.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(S===4)for(S=h.return;S!==null;){var z=S.tag;if((z===3||z===4)&&(z=S.stateNode.containerInfo,z===m||z.nodeType===8&&z.parentNode===m))return;S=S.return}for(;D!==null;){if(S=lo(D),S===null)return;if(z=S.tag,z===5||z===6){h=y=S;continue e}D=D.parentNode}}h=h.return}_l(function(){var Y=y,se=Qe(l),ie=[];e:{var re=jy.get(s);if(re!==void 0){var fe=Xo,ge=s;switch(s){case"keypress":if(Yo(l)===0)break e;case"keydown":case"keyup":fe=g;break;case"focusin":ge="focus",fe=ta;break;case"focusout":ge="blur",fe=ta;break;case"beforeblur":case"afterblur":fe=ta;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=J;break;case Dy:case My:case Ly:fe=ys;break;case Vy:fe=Ze;break;case"scroll":fe=df;break;case"wheel":fe=He;break;case"copy":case"cut":case"paste":fe=vc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=b}var ve=(o&4)!==0,It=!ve&&s==="scroll",q=ve?re!==null?re+"Capture":null:re;ve=[];for(var B=Y,G;B!==null;){G=B;var ae=G.stateNode;if(G.tag===5&&ae!==null&&(G=ae,q!==null&&(ae=St(B,q),ae!=null&&ve.push(Fl(B,ae,G)))),It)break;B=B.return}0<ve.length&&(re=new fe(re,ge,null,l,se),ie.push({event:re,listeners:ve}))}}if((o&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",re&&l!==be&&(ge=l.relatedTarget||l.fromElement)&&(lo(ge)||ge[vs]))break e;if((fe||re)&&(re=se.window===se?se:(re=se.ownerDocument)?re.defaultView||re.parentWindow:window,fe?(ge=l.relatedTarget||l.toElement,fe=Y,ge=ge?lo(ge):null,ge!==null&&(It=gr(ge),ge!==It||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(fe=null,ge=Y),fe!==ge)){if(ve=Zo,ae="onMouseLeave",q="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(ve=b,ae="onPointerLeave",q="onPointerEnter",B="pointer"),It=fe==null?re:ua(fe),G=ge==null?re:ua(ge),re=new ve(ae,B+"leave",fe,l,se),re.target=It,re.relatedTarget=G,ae=null,lo(se)===Y&&(ve=new ve(q,B+"enter",ge,l,se),ve.target=G,ve.relatedTarget=It,ae=ve),It=ae,fe&&ge)t:{for(ve=fe,q=ge,B=0,G=ve;G;G=aa(G))B++;for(G=0,ae=q;ae;ae=aa(ae))G++;for(;0<B-G;)ve=aa(ve),B--;for(;0<G-B;)q=aa(q),G--;for(;B--;){if(ve===q||q!==null&&ve===q.alternate)break t;ve=aa(ve),q=aa(q)}ve=null}else ve=null;fe!==null&&By(ie,re,fe,ve,!1),ge!==null&&It!==null&&By(ie,It,ge,ve,!0)}}e:{if(re=Y?ua(Y):window,fe=re.nodeName&&re.nodeName.toLowerCase(),fe==="select"||fe==="input"&&re.type==="file")var _e=TI;else if(Ty(re))if(Sy)_e=CI;else{_e=SI;var Ce=xI}else(fe=re.nodeName)&&fe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(_e=II);if(_e&&(_e=_e(s,Y))){xy(ie,_e,l,se);break e}Ce&&Ce(s,re,Y),s==="focusout"&&(Ce=re._wrapperState)&&Ce.controlled&&re.type==="number"&&ft(re,"number",re.value)}switch(Ce=Y?ua(Y):window,s){case"focusin":(Ty(Ce)||Ce.contentEditable==="true")&&(ia=Ce,mf=Y,Ll=null);break;case"focusout":Ll=mf=ia=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,Ny(ie,l,se);break;case"selectionchange":if(RI)break;case"keydown":case"keyup":Ny(ie,l,se)}var Ae;if(At)e:{switch(s){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else sa?_y(s,l)&&(ke="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(ao&&l.locale!=="ko"&&(sa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&sa&&(Ae=Rl()):(Fn=se,Qo="value"in Fn?Fn.value:Fn.textContent,sa=!0)),Ce=Cc(Y,ke),0<Ce.length&&(ke=new Nl(ke,s,null,l,se),ie.push({event:ke,listeners:Ce}),Ae?ke.data=Ae:(Ae=Ey(l),Ae!==null&&(ke.data=Ae)))),(Ae=Un?vI(s,l):wI(s,l))&&(Y=Cc(Y,"onBeforeInput"),0<Y.length&&(se=new Nl("onBeforeInput","beforeinput",null,l,se),ie.push({event:se,listeners:Y}),se.data=Ae))}zy(ie,o)})}function Fl(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Cc(s,o){for(var l=o+"Capture",h=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=St(s,l),y!=null&&h.unshift(Fl(s,y,m)),y=St(s,o),y!=null&&h.push(Fl(s,y,m))),s=s.return}return h}function aa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function By(s,o,l,h,m){for(var y=o._reactName,S=[];l!==null&&l!==h;){var D=l,z=D.alternate,Y=D.stateNode;if(z!==null&&z===h)break;D.tag===5&&Y!==null&&(D=Y,m?(z=St(l,y),z!=null&&S.unshift(Fl(l,z,D))):m||(z=St(l,y),z!=null&&S.push(Fl(l,z,D)))),l=l.return}S.length!==0&&s.push({event:o,listeners:S})}var OI=/\r\n?/g,DI=/\u0000|\uFFFD/g;function Wy(s){return(typeof s=="string"?s:""+s).replace(OI,`
`).replace(DI,"")}function Ac(s,o,l){if(o=Wy(o),Wy(s)!==o&&l)throw Error(t(425))}function bc(){}var Tf=null,xf=null;function Sf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var If=typeof setTimeout=="function"?setTimeout:void 0,MI=typeof clearTimeout=="function"?clearTimeout:void 0,Hy=typeof Promise=="function"?Promise:void 0,LI=typeof queueMicrotask=="function"?queueMicrotask:typeof Hy<"u"?function(s){return Hy.resolve(null).then(s).catch(VI)}:If;function VI(s){setTimeout(function(){throw s})}function Cf(s,o){var l=o,h=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){s.removeChild(m),Er(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Er(o)}function Js(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function qy(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var la=Math.random().toString(36).slice(2),Wr="__reactFiber$"+la,Ul="__reactProps$"+la,vs="__reactContainer$"+la,Af="__reactEvents$"+la,jI="__reactListeners$"+la,FI="__reactHandles$"+la;function lo(s){var o=s[Wr];if(o)return o;for(var l=s.parentNode;l;){if(o=l[vs]||l[Wr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=qy(s);s!==null;){if(l=s[Wr])return l;s=qy(s)}return o}s=l,l=s.parentNode}return null}function zl(s){return s=s[Wr]||s[vs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ua(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Rc(s){return s[Ul]||null}var bf=[],ca=-1;function Zs(s){return{current:s}}function ut(s){0>ca||(s.current=bf[ca],bf[ca]=null,ca--)}function it(s,o){ca++,bf[ca]=s.current,s.current=o}var ei={},Zt=Zs(ei),An=Zs(!1),uo=ei;function da(s,o){var l=s.type.contextTypes;if(!l)return ei;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=o[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function bn(s){return s=s.childContextTypes,s!=null}function Pc(){ut(An),ut(Zt)}function Gy(s,o,l){if(Zt.current!==ei)throw Error(t(168));it(Zt,o),it(An,l)}function Ky(s,o,l){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,Fe(s)||"Unknown",m));return ue({},l,h)}function kc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ei,uo=Zt.current,it(Zt,s),it(An,An.current),!0}function Qy(s,o,l){var h=s.stateNode;if(!h)throw Error(t(169));l?(s=Ky(s,o,uo),h.__reactInternalMemoizedMergedChildContext=s,ut(An),ut(Zt),it(Zt,s)):ut(An),it(An,l)}var ws=null,Nc=!1,Rf=!1;function Yy(s){ws===null?ws=[s]:ws.push(s)}function UI(s){Nc=!0,Yy(s)}function ti(){if(!Rf&&ws!==null){Rf=!0;var s=0,o=We;try{var l=ws;for(We=1;s<l.length;s++){var h=l[s];do h=h(!0);while(h!==null)}ws=null,Nc=!1}catch(m){throw ws!==null&&(ws=ws.slice(s+1)),Wo(eo,ti),m}finally{We=o,Rf=!1}}return null}var ha=[],fa=0,Oc=null,Dc=0,tr=[],nr=0,co=null,_s=1,Es="";function ho(s,o){ha[fa++]=Dc,ha[fa++]=Oc,Oc=s,Dc=o}function Xy(s,o,l){tr[nr++]=_s,tr[nr++]=Es,tr[nr++]=co,co=s;var h=_s;s=Es;var m=32-fn(h)-1;h&=~(1<<m),l+=1;var y=32-fn(o)+m;if(30<y){var S=m-m%5;y=(h&(1<<S)-1).toString(32),h>>=S,m-=S,_s=1<<32-fn(o)+m|l<<m|h,Es=y+s}else _s=1<<y|l<<m|h,Es=s}function Pf(s){s.return!==null&&(ho(s,1),Xy(s,1,0))}function kf(s){for(;s===Oc;)Oc=ha[--fa],ha[fa]=null,Dc=ha[--fa],ha[fa]=null;for(;s===co;)co=tr[--nr],tr[nr]=null,Es=tr[--nr],tr[nr]=null,_s=tr[--nr],tr[nr]=null}var zn=null,$n=null,mt=!1,Sr=null;function Jy(s,o){var l=or(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function Zy(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,zn=s,$n=Js(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,zn=s,$n=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=co!==null?{id:_s,overflow:Es}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=or(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,zn=s,$n=null,!0):!1;default:return!1}}function Nf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Of(s){if(mt){var o=$n;if(o){var l=o;if(!Zy(s,o)){if(Nf(s))throw Error(t(418));o=Js(l.nextSibling);var h=zn;o&&Zy(s,o)?Jy(h,l):(s.flags=s.flags&-4097|2,mt=!1,zn=s)}}else{if(Nf(s))throw Error(t(418));s.flags=s.flags&-4097|2,mt=!1,zn=s}}}function ev(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;zn=s}function Mc(s){if(s!==zn)return!1;if(!mt)return ev(s),mt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Sf(s.type,s.memoizedProps)),o&&(o=$n)){if(Nf(s))throw tv(),Error(t(418));for(;o;)Jy(s,o),o=Js(o.nextSibling)}if(ev(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){$n=Js(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}$n=null}}else $n=zn?Js(s.stateNode.nextSibling):null;return!0}function tv(){for(var s=$n;s;)s=Js(s.nextSibling)}function pa(){$n=zn=null,mt=!1}function Df(s){Sr===null?Sr=[s]:Sr.push(s)}var zI=W.ReactCurrentBatchConfig;function $l(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,s));var m=h,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(S){var D=m.refs;S===null?delete D[y]:D[y]=S},o._stringRef=y,o)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function Lc(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function nv(s){var o=s._init;return o(s._payload)}function rv(s){function o(q,B){if(s){var G=q.deletions;G===null?(q.deletions=[B],q.flags|=16):G.push(B)}}function l(q,B){if(!s)return null;for(;B!==null;)o(q,B),B=B.sibling;return null}function h(q,B){for(q=new Map;B!==null;)B.key!==null?q.set(B.key,B):q.set(B.index,B),B=B.sibling;return q}function m(q,B){return q=ui(q,B),q.index=0,q.sibling=null,q}function y(q,B,G){return q.index=G,s?(G=q.alternate,G!==null?(G=G.index,G<B?(q.flags|=2,B):G):(q.flags|=2,B)):(q.flags|=1048576,B)}function S(q){return s&&q.alternate===null&&(q.flags|=2),q}function D(q,B,G,ae){return B===null||B.tag!==6?(B=Ip(G,q.mode,ae),B.return=q,B):(B=m(B,G),B.return=q,B)}function z(q,B,G,ae){var _e=G.type;return _e===N?se(q,B,G.props.children,ae,G.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===we&&nv(_e)===B.type)?(ae=m(B,G.props),ae.ref=$l(q,B,G),ae.return=q,ae):(ae=od(G.type,G.key,G.props,null,q.mode,ae),ae.ref=$l(q,B,G),ae.return=q,ae)}function Y(q,B,G,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=Cp(G,q.mode,ae),B.return=q,B):(B=m(B,G.children||[]),B.return=q,B)}function se(q,B,G,ae,_e){return B===null||B.tag!==7?(B=_o(G,q.mode,ae,_e),B.return=q,B):(B=m(B,G),B.return=q,B)}function ie(q,B,G){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Ip(""+B,q.mode,G),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Q:return G=od(B.type,B.key,B.props,null,q.mode,G),G.ref=$l(q,null,B),G.return=q,G;case Z:return B=Cp(B,q.mode,G),B.return=q,B;case we:var ae=B._init;return ie(q,ae(B._payload),G)}if(Jt(B)||oe(B))return B=_o(B,q.mode,G,null),B.return=q,B;Lc(q,B)}return null}function re(q,B,G,ae){var _e=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return _e!==null?null:D(q,B,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:return G.key===_e?z(q,B,G,ae):null;case Z:return G.key===_e?Y(q,B,G,ae):null;case we:return _e=G._init,re(q,B,_e(G._payload),ae)}if(Jt(G)||oe(G))return _e!==null?null:se(q,B,G,ae,null);Lc(q,G)}return null}function fe(q,B,G,ae,_e){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return q=q.get(G)||null,D(B,q,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case Q:return q=q.get(ae.key===null?G:ae.key)||null,z(B,q,ae,_e);case Z:return q=q.get(ae.key===null?G:ae.key)||null,Y(B,q,ae,_e);case we:var Ce=ae._init;return fe(q,B,G,Ce(ae._payload),_e)}if(Jt(ae)||oe(ae))return q=q.get(G)||null,se(B,q,ae,_e,null);Lc(B,ae)}return null}function ge(q,B,G,ae){for(var _e=null,Ce=null,Ae=B,ke=B=0,$t=null;Ae!==null&&ke<G.length;ke++){Ae.index>ke?($t=Ae,Ae=null):$t=Ae.sibling;var Ye=re(q,Ae,G[ke],ae);if(Ye===null){Ae===null&&(Ae=$t);break}s&&Ae&&Ye.alternate===null&&o(q,Ae),B=y(Ye,B,ke),Ce===null?_e=Ye:Ce.sibling=Ye,Ce=Ye,Ae=$t}if(ke===G.length)return l(q,Ae),mt&&ho(q,ke),_e;if(Ae===null){for(;ke<G.length;ke++)Ae=ie(q,G[ke],ae),Ae!==null&&(B=y(Ae,B,ke),Ce===null?_e=Ae:Ce.sibling=Ae,Ce=Ae);return mt&&ho(q,ke),_e}for(Ae=h(q,Ae);ke<G.length;ke++)$t=fe(Ae,q,ke,G[ke],ae),$t!==null&&(s&&$t.alternate!==null&&Ae.delete($t.key===null?ke:$t.key),B=y($t,B,ke),Ce===null?_e=$t:Ce.sibling=$t,Ce=$t);return s&&Ae.forEach(function(ci){return o(q,ci)}),mt&&ho(q,ke),_e}function ve(q,B,G,ae){var _e=oe(G);if(typeof _e!="function")throw Error(t(150));if(G=_e.call(G),G==null)throw Error(t(151));for(var Ce=_e=null,Ae=B,ke=B=0,$t=null,Ye=G.next();Ae!==null&&!Ye.done;ke++,Ye=G.next()){Ae.index>ke?($t=Ae,Ae=null):$t=Ae.sibling;var ci=re(q,Ae,Ye.value,ae);if(ci===null){Ae===null&&(Ae=$t);break}s&&Ae&&ci.alternate===null&&o(q,Ae),B=y(ci,B,ke),Ce===null?_e=ci:Ce.sibling=ci,Ce=ci,Ae=$t}if(Ye.done)return l(q,Ae),mt&&ho(q,ke),_e;if(Ae===null){for(;!Ye.done;ke++,Ye=G.next())Ye=ie(q,Ye.value,ae),Ye!==null&&(B=y(Ye,B,ke),Ce===null?_e=Ye:Ce.sibling=Ye,Ce=Ye);return mt&&ho(q,ke),_e}for(Ae=h(q,Ae);!Ye.done;ke++,Ye=G.next())Ye=fe(Ae,q,ke,Ye.value,ae),Ye!==null&&(s&&Ye.alternate!==null&&Ae.delete(Ye.key===null?ke:Ye.key),B=y(Ye,B,ke),Ce===null?_e=Ye:Ce.sibling=Ye,Ce=Ye);return s&&Ae.forEach(function(_C){return o(q,_C)}),mt&&ho(q,ke),_e}function It(q,B,G,ae){if(typeof G=="object"&&G!==null&&G.type===N&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:e:{for(var _e=G.key,Ce=B;Ce!==null;){if(Ce.key===_e){if(_e=G.type,_e===N){if(Ce.tag===7){l(q,Ce.sibling),B=m(Ce,G.props.children),B.return=q,q=B;break e}}else if(Ce.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===we&&nv(_e)===Ce.type){l(q,Ce.sibling),B=m(Ce,G.props),B.ref=$l(q,Ce,G),B.return=q,q=B;break e}l(q,Ce);break}else o(q,Ce);Ce=Ce.sibling}G.type===N?(B=_o(G.props.children,q.mode,ae,G.key),B.return=q,q=B):(ae=od(G.type,G.key,G.props,null,q.mode,ae),ae.ref=$l(q,B,G),ae.return=q,q=ae)}return S(q);case Z:e:{for(Ce=G.key;B!==null;){if(B.key===Ce)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){l(q,B.sibling),B=m(B,G.children||[]),B.return=q,q=B;break e}else{l(q,B);break}else o(q,B);B=B.sibling}B=Cp(G,q.mode,ae),B.return=q,q=B}return S(q);case we:return Ce=G._init,It(q,B,Ce(G._payload),ae)}if(Jt(G))return ge(q,B,G,ae);if(oe(G))return ve(q,B,G,ae);Lc(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,B!==null&&B.tag===6?(l(q,B.sibling),B=m(B,G),B.return=q,q=B):(l(q,B),B=Ip(G,q.mode,ae),B.return=q,q=B),S(q)):l(q,B)}return It}var ma=rv(!0),sv=rv(!1),Vc=Zs(null),jc=null,ga=null,Mf=null;function Lf(){Mf=ga=jc=null}function Vf(s){var o=Vc.current;ut(Vc),s._currentValue=o}function jf(s,o,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===l)break;s=s.return}}function ya(s,o){jc=s,Mf=ga=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Rn=!0),s.firstContext=null)}function rr(s){var o=s._currentValue;if(Mf!==s)if(s={context:s,memoizedValue:o,next:null},ga===null){if(jc===null)throw Error(t(308));ga=s,jc.dependencies={lanes:0,firstContext:s}}else ga=ga.next=s;return o}var fo=null;function Ff(s){fo===null?fo=[s]:fo.push(s)}function iv(s,o,l,h){var m=o.interleaved;return m===null?(l.next=l,Ff(o)):(l.next=m.next,m.next=l),o.interleaved=l,Ts(s,h)}function Ts(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var ni=!1;function Uf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ov(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function xs(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function ri(s,o,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Ke&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Ts(s,l)}return m=h.interleaved,m===null?(o.next=o,Ff(h)):(o.next=m.next,m.next=o),h.interleaved=o,Ts(s,l)}function Fc(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,l|=h,o.lanes=l,qs(s,l)}}function av(s,o){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function Uc(s,o,l,h){var m=s.updateQueue;ni=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var z=D,Y=z.next;z.next=null,S===null?y=Y:S.next=Y,S=z;var se=s.alternate;se!==null&&(se=se.updateQueue,D=se.lastBaseUpdate,D!==S&&(D===null?se.firstBaseUpdate=Y:D.next=Y,se.lastBaseUpdate=z))}if(y!==null){var ie=m.baseState;S=0,se=Y=z=null,D=y;do{var re=D.lane,fe=D.eventTime;if((h&re)===re){se!==null&&(se=se.next={eventTime:fe,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var ge=s,ve=D;switch(re=o,fe=l,ve.tag){case 1:if(ge=ve.payload,typeof ge=="function"){ie=ge.call(fe,ie,re);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ve.payload,re=typeof ge=="function"?ge.call(fe,ie,re):ge,re==null)break e;ie=ue({},ie,re);break e;case 2:ni=!0}}D.callback!==null&&D.lane!==0&&(s.flags|=64,re=m.effects,re===null?m.effects=[D]:re.push(D))}else fe={eventTime:fe,lane:re,tag:D.tag,payload:D.payload,callback:D.callback,next:null},se===null?(Y=se=fe,z=ie):se=se.next=fe,S|=re;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;re=D,D=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);if(se===null&&(z=ie),m.baseState=z,m.firstBaseUpdate=Y,m.lastBaseUpdate=se,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);go|=S,s.lanes=S,s.memoizedState=ie}}function lv(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var Bl={},Hr=Zs(Bl),Wl=Zs(Bl),Hl=Zs(Bl);function po(s){if(s===Bl)throw Error(t(174));return s}function zf(s,o){switch(it(Hl,o),it(Wl,s),it(Hr,Bl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:rt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=rt(o,s)}ut(Hr),it(Hr,o)}function va(){ut(Hr),ut(Wl),ut(Hl)}function uv(s){po(Hl.current);var o=po(Hr.current),l=rt(o,s.type);o!==l&&(it(Wl,s),it(Hr,l))}function $f(s){Wl.current===s&&(ut(Hr),ut(Wl))}var vt=Zs(0);function zc(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Bf=[];function Wf(){for(var s=0;s<Bf.length;s++)Bf[s]._workInProgressVersionPrimary=null;Bf.length=0}var $c=W.ReactCurrentDispatcher,Hf=W.ReactCurrentBatchConfig,mo=0,wt=null,Ot=null,Ut=null,Bc=!1,ql=!1,Gl=0,$I=0;function en(){throw Error(t(321))}function qf(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!xr(s[l],o[l]))return!1;return!0}function Gf(s,o,l,h,m,y){if(mo=y,wt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$c.current=s===null||s.memoizedState===null?qI:GI,s=l(h,m),ql){y=0;do{if(ql=!1,Gl=0,25<=y)throw Error(t(301));y+=1,Ut=Ot=null,o.updateQueue=null,$c.current=KI,s=l(h,m)}while(ql)}if($c.current=qc,o=Ot!==null&&Ot.next!==null,mo=0,Ut=Ot=wt=null,Bc=!1,o)throw Error(t(300));return s}function Kf(){var s=Gl!==0;return Gl=0,s}function qr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?wt.memoizedState=Ut=s:Ut=Ut.next=s,Ut}function sr(){if(Ot===null){var s=wt.alternate;s=s!==null?s.memoizedState:null}else s=Ot.next;var o=Ut===null?wt.memoizedState:Ut.next;if(o!==null)Ut=o,Ot=s;else{if(s===null)throw Error(t(310));Ot=s,s={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Ut===null?wt.memoizedState=Ut=s:Ut=Ut.next=s}return Ut}function Kl(s,o){return typeof o=="function"?o(s):o}function Qf(s){var o=sr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=Ot,m=h.baseQueue,y=l.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}h.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,h=h.baseState;var D=S=null,z=null,Y=y;do{var se=Y.lane;if((mo&se)===se)z!==null&&(z=z.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),h=Y.hasEagerState?Y.eagerState:s(h,Y.action);else{var ie={lane:se,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};z===null?(D=z=ie,S=h):z=z.next=ie,wt.lanes|=se,go|=se}Y=Y.next}while(Y!==null&&Y!==y);z===null?S=h:z.next=D,xr(h,o.memoizedState)||(Rn=!0),o.memoizedState=h,o.baseState=S,o.baseQueue=z,l.lastRenderedState=h}if(s=l.interleaved,s!==null){m=s;do y=m.lane,wt.lanes|=y,go|=y,m=m.next;while(m!==s)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Yf(s){var o=sr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do y=s(y,S.action),S=S.next;while(S!==m);xr(y,o.memoizedState)||(Rn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,h]}function cv(){}function dv(s,o){var l=wt,h=sr(),m=o(),y=!xr(h.memoizedState,m);if(y&&(h.memoizedState=m,Rn=!0),h=h.queue,Xf(pv.bind(null,l,h,s),[s]),h.getSnapshot!==o||y||Ut!==null&&Ut.memoizedState.tag&1){if(l.flags|=2048,Ql(9,fv.bind(null,l,h,m,o),void 0,null),zt===null)throw Error(t(349));(mo&30)!==0||hv(l,o,m)}return m}function hv(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=wt.updateQueue,o===null?(o={lastEffect:null,stores:null},wt.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function fv(s,o,l,h){o.value=l,o.getSnapshot=h,mv(o)&&gv(s)}function pv(s,o,l){return l(function(){mv(o)&&gv(s)})}function mv(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!xr(s,l)}catch{return!0}}function gv(s){var o=Ts(s,1);o!==null&&br(o,s,1,-1)}function yv(s){var o=qr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:s},o.queue=s,s=s.dispatch=HI.bind(null,wt,s),[o.memoizedState,s]}function Ql(s,o,l,h){return s={tag:s,create:o,destroy:l,deps:h,next:null},o=wt.updateQueue,o===null?(o={lastEffect:null,stores:null},wt.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,o.lastEffect=s)),s}function vv(){return sr().memoizedState}function Wc(s,o,l,h){var m=qr();wt.flags|=s,m.memoizedState=Ql(1|o,l,void 0,h===void 0?null:h)}function Hc(s,o,l,h){var m=sr();h=h===void 0?null:h;var y=void 0;if(Ot!==null){var S=Ot.memoizedState;if(y=S.destroy,h!==null&&qf(h,S.deps)){m.memoizedState=Ql(o,l,y,h);return}}wt.flags|=s,m.memoizedState=Ql(1|o,l,y,h)}function wv(s,o){return Wc(8390656,8,s,o)}function Xf(s,o){return Hc(2048,8,s,o)}function _v(s,o){return Hc(4,2,s,o)}function Ev(s,o){return Hc(4,4,s,o)}function Tv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function xv(s,o,l){return l=l!=null?l.concat([s]):null,Hc(4,4,Tv.bind(null,o,s),l)}function Jf(){}function Sv(s,o){var l=sr();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&qf(o,h[1])?h[0]:(l.memoizedState=[s,o],s)}function Iv(s,o){var l=sr();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&qf(o,h[1])?h[0]:(s=s(),l.memoizedState=[s,o],s)}function Cv(s,o,l){return(mo&21)===0?(s.baseState&&(s.baseState=!1,Rn=!0),s.memoizedState=l):(xr(l,o)||(l=ro(),wt.lanes|=l,go|=l,s.baseState=!0),o)}function BI(s,o){var l=We;We=l!==0&&4>l?l:4,s(!0);var h=Hf.transition;Hf.transition={};try{s(!1),o()}finally{We=l,Hf.transition=h}}function Av(){return sr().memoizedState}function WI(s,o,l){var h=ai(s);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},bv(s))Rv(o,l);else if(l=iv(s,o,l,h),l!==null){var m=gn();br(l,s,h,m),Pv(l,o,h)}}function HI(s,o,l){var h=ai(s),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(bv(s))Rv(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,D=y(S,l);if(m.hasEagerState=!0,m.eagerState=D,xr(D,S)){var z=o.interleaved;z===null?(m.next=m,Ff(o)):(m.next=z.next,z.next=m),o.interleaved=m;return}}catch{}finally{}l=iv(s,o,m,h),l!==null&&(m=gn(),br(l,s,h,m),Pv(l,o,h))}}function bv(s){var o=s.alternate;return s===wt||o!==null&&o===wt}function Rv(s,o){ql=Bc=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function Pv(s,o,l){if((l&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,l|=h,o.lanes=l,qs(s,l)}}var qc={readContext:rr,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},qI={readContext:rr,useCallback:function(s,o){return qr().memoizedState=[s,o===void 0?null:o],s},useContext:rr,useEffect:wv,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,Wc(4194308,4,Tv.bind(null,o,s),l)},useLayoutEffect:function(s,o){return Wc(4194308,4,s,o)},useInsertionEffect:function(s,o){return Wc(4,2,s,o)},useMemo:function(s,o){var l=qr();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var h=qr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=WI.bind(null,wt,s),[h.memoizedState,s]},useRef:function(s){var o=qr();return s={current:s},o.memoizedState=s},useState:yv,useDebugValue:Jf,useDeferredValue:function(s){return qr().memoizedState=s},useTransition:function(){var s=yv(!1),o=s[0];return s=BI.bind(null,s[1]),qr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var h=wt,m=qr();if(mt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),zt===null)throw Error(t(349));(mo&30)!==0||hv(h,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,wv(pv.bind(null,h,y,s),[s]),h.flags|=2048,Ql(9,fv.bind(null,h,y,l,o),void 0,null),l},useId:function(){var s=qr(),o=zt.identifierPrefix;if(mt){var l=Es,h=_s;l=(h&~(1<<32-fn(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=Gl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=$I++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},GI={readContext:rr,useCallback:Sv,useContext:rr,useEffect:Xf,useImperativeHandle:xv,useInsertionEffect:_v,useLayoutEffect:Ev,useMemo:Iv,useReducer:Qf,useRef:vv,useState:function(){return Qf(Kl)},useDebugValue:Jf,useDeferredValue:function(s){var o=sr();return Cv(o,Ot.memoizedState,s)},useTransition:function(){var s=Qf(Kl)[0],o=sr().memoizedState;return[s,o]},useMutableSource:cv,useSyncExternalStore:dv,useId:Av,unstable_isNewReconciler:!1},KI={readContext:rr,useCallback:Sv,useContext:rr,useEffect:Xf,useImperativeHandle:xv,useInsertionEffect:_v,useLayoutEffect:Ev,useMemo:Iv,useReducer:Yf,useRef:vv,useState:function(){return Yf(Kl)},useDebugValue:Jf,useDeferredValue:function(s){var o=sr();return Ot===null?o.memoizedState=s:Cv(o,Ot.memoizedState,s)},useTransition:function(){var s=Yf(Kl)[0],o=sr().memoizedState;return[s,o]},useMutableSource:cv,useSyncExternalStore:dv,useId:Av,unstable_isNewReconciler:!1};function Ir(s,o){if(s&&s.defaultProps){o=ue({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function Zf(s,o,l,h){o=s.memoizedState,l=l(h,o),l=l==null?o:ue({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Gc={isMounted:function(s){return(s=s._reactInternals)?gr(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var h=gn(),m=ai(s),y=xs(h,m);y.payload=o,l!=null&&(y.callback=l),o=ri(s,y,m),o!==null&&(br(o,s,m,h),Fc(o,s,m))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var h=gn(),m=ai(s),y=xs(h,m);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=ri(s,y,m),o!==null&&(br(o,s,m,h),Fc(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=gn(),h=ai(s),m=xs(l,h);m.tag=2,o!=null&&(m.callback=o),o=ri(s,m,h),o!==null&&(br(o,s,h,l),Fc(o,s,h))}};function kv(s,o,l,h,m,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,S):o.prototype&&o.prototype.isPureReactComponent?!Ml(l,h)||!Ml(m,y):!0}function Nv(s,o,l){var h=!1,m=ei,y=o.contextType;return typeof y=="object"&&y!==null?y=rr(y):(m=bn(o)?uo:Zt.current,h=o.contextTypes,y=(h=h!=null)?da(s,m):ei),o=new o(l,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Gc,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),o}function Ov(s,o,l,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==s&&Gc.enqueueReplaceState(o,o.state,null)}function ep(s,o,l,h){var m=s.stateNode;m.props=l,m.state=s.memoizedState,m.refs={},Uf(s);var y=o.contextType;typeof y=="object"&&y!==null?m.context=rr(y):(y=bn(o)?uo:Zt.current,m.context=da(s,y)),m.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Zf(s,o,y,l),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Gc.enqueueReplaceState(m,m.state,null),Uc(s,l,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function wa(s,o){try{var l="",h=o;do l+=Pe(h),h=h.return;while(h);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:m,digest:null}}function tp(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function np(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var QI=typeof WeakMap=="function"?WeakMap:Map;function Dv(s,o,l){l=xs(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){ed||(ed=!0,yp=h),np(s,o)},l}function Mv(s,o,l){l=xs(-1,l),l.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){np(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){np(s,o),typeof h!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),l}function Lv(s,o,l){var h=s.pingCache;if(h===null){h=s.pingCache=new QI;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),s=uC.bind(null,s,o,l),o.then(s,s))}function Vv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function jv(s,o,l,h,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=xs(-1,1),o.tag=2,ri(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var YI=W.ReactCurrentOwner,Rn=!1;function mn(s,o,l,h){o.child=s===null?sv(o,null,l,h):ma(o,s.child,l,h)}function Fv(s,o,l,h,m){l=l.render;var y=o.ref;return ya(o,m),h=Gf(s,o,l,h,y,m),l=Kf(),s!==null&&!Rn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Ss(s,o,m)):(mt&&l&&Pf(o),o.flags|=1,mn(s,o,h,m),o.child)}function Uv(s,o,l,h,m){if(s===null){var y=l.type;return typeof y=="function"&&!Sp(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,zv(s,o,y,h,m)):(s=od(l.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&m)===0){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ml,l(S,h)&&s.ref===o.ref)return Ss(s,o,m)}return o.flags|=1,s=ui(y,h),s.ref=o.ref,s.return=o,o.child=s}function zv(s,o,l,h,m){if(s!==null){var y=s.memoizedProps;if(Ml(y,h)&&s.ref===o.ref)if(Rn=!1,o.pendingProps=h=y,(s.lanes&m)!==0)(s.flags&131072)!==0&&(Rn=!0);else return o.lanes=s.lanes,Ss(s,o,m)}return rp(s,o,l,h,m)}function $v(s,o,l){var h=o.pendingProps,m=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Ea,Bn),Bn|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,it(Ea,Bn),Bn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,it(Ea,Bn),Bn|=h}else y!==null?(h=y.baseLanes|l,o.memoizedState=null):h=l,it(Ea,Bn),Bn|=h;return mn(s,o,m,l),o.child}function Bv(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function rp(s,o,l,h,m){var y=bn(l)?uo:Zt.current;return y=da(o,y),ya(o,m),l=Gf(s,o,l,h,y,m),h=Kf(),s!==null&&!Rn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Ss(s,o,m)):(mt&&h&&Pf(o),o.flags|=1,mn(s,o,l,m),o.child)}function Wv(s,o,l,h,m){if(bn(l)){var y=!0;kc(o)}else y=!1;if(ya(o,m),o.stateNode===null)Qc(s,o),Nv(o,l,h),ep(o,l,h,m),h=!0;else if(s===null){var S=o.stateNode,D=o.memoizedProps;S.props=D;var z=S.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=rr(Y):(Y=bn(l)?uo:Zt.current,Y=da(o,Y));var se=l.getDerivedStateFromProps,ie=typeof se=="function"||typeof S.getSnapshotBeforeUpdate=="function";ie||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==h||z!==Y)&&Ov(o,S,h,Y),ni=!1;var re=o.memoizedState;S.state=re,Uc(o,h,S,m),z=o.memoizedState,D!==h||re!==z||An.current||ni?(typeof se=="function"&&(Zf(o,l,se,h),z=o.memoizedState),(D=ni||kv(o,l,D,h,re,z,Y))?(ie||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=z),S.props=h,S.state=z,S.context=Y,h=D):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{S=o.stateNode,ov(s,o),D=o.memoizedProps,Y=o.type===o.elementType?D:Ir(o.type,D),S.props=Y,ie=o.pendingProps,re=S.context,z=l.contextType,typeof z=="object"&&z!==null?z=rr(z):(z=bn(l)?uo:Zt.current,z=da(o,z));var fe=l.getDerivedStateFromProps;(se=typeof fe=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==ie||re!==z)&&Ov(o,S,h,z),ni=!1,re=o.memoizedState,S.state=re,Uc(o,h,S,m);var ge=o.memoizedState;D!==ie||re!==ge||An.current||ni?(typeof fe=="function"&&(Zf(o,l,fe,h),ge=o.memoizedState),(Y=ni||kv(o,l,Y,h,re,ge,z)||!1)?(se||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,ge,z),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,ge,z)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ge),S.props=h,S.state=ge,S.context=z,h=Y):(typeof S.componentDidUpdate!="function"||D===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),h=!1)}return sp(s,o,l,h,y,m)}function sp(s,o,l,h,m,y){Bv(s,o);var S=(o.flags&128)!==0;if(!h&&!S)return m&&Qy(o,l,!1),Ss(s,o,y);h=o.stateNode,YI.current=o;var D=S&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&S?(o.child=ma(o,s.child,null,y),o.child=ma(o,null,D,y)):mn(s,o,D,y),o.memoizedState=h.state,m&&Qy(o,l,!0),o.child}function Hv(s){var o=s.stateNode;o.pendingContext?Gy(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Gy(s,o.context,!1),zf(s,o.containerInfo)}function qv(s,o,l,h,m){return pa(),Df(m),o.flags|=256,mn(s,o,l,h),o.child}var ip={dehydrated:null,treeContext:null,retryLane:0};function op(s){return{baseLanes:s,cachePool:null,transitions:null}}function Gv(s,o,l){var h=o.pendingProps,m=vt.current,y=!1,S=(o.flags&128)!==0,D;if((D=S)||(D=s!==null&&s.memoizedState===null?!1:(m&2)!==0),D?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),it(vt,m&1),s===null)return Of(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=h.children,s=h.fallback,y?(h=o.mode,y=o.child,S={mode:"hidden",children:S},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=S):y=ad(S,h,0,null),s=_o(s,h,l,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=op(l),o.memoizedState=ip,s):ap(o,S));if(m=s.memoizedState,m!==null&&(D=m.dehydrated,D!==null))return XI(s,o,S,h,D,m,l);if(y){y=h.fallback,S=o.mode,m=s.child,D=m.sibling;var z={mode:"hidden",children:h.children};return(S&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=z,o.deletions=null):(h=ui(m,z),h.subtreeFlags=m.subtreeFlags&14680064),D!==null?y=ui(D,y):(y=_o(y,S,l,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,S=s.child.memoizedState,S=S===null?op(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=s.childLanes&~l,o.memoizedState=ip,h}return y=s.child,s=y.sibling,h=ui(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=h,o.memoizedState=null,h}function ap(s,o){return o=ad({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Kc(s,o,l,h){return h!==null&&Df(h),ma(o,s.child,null,l),s=ap(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function XI(s,o,l,h,m,y,S){if(l)return o.flags&256?(o.flags&=-257,h=tp(Error(t(422))),Kc(s,o,S,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=ad({mode:"visible",children:h.children},m,0,null),y=_o(y,m,S,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&ma(o,s.child,null,S),o.child.memoizedState=op(S),o.memoizedState=ip,y);if((o.mode&1)===0)return Kc(s,o,S,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var D=h.dgst;return h=D,y=Error(t(419)),h=tp(y,h,void 0),Kc(s,o,S,h)}if(D=(S&s.childLanes)!==0,Rn||D){if(h=zt,h!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|S))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Ts(s,m),br(h,s,m,-1))}return xp(),h=tp(Error(t(421))),Kc(s,o,S,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=cC.bind(null,s),m._reactRetry=o,null):(s=y.treeContext,$n=Js(m.nextSibling),zn=o,mt=!0,Sr=null,s!==null&&(tr[nr++]=_s,tr[nr++]=Es,tr[nr++]=co,_s=s.id,Es=s.overflow,co=o),o=ap(o,h.children),o.flags|=4096,o)}function Kv(s,o,l){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),jf(s.return,o,l)}function lp(s,o,l,h,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=m)}function Qv(s,o,l){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(mn(s,o,h.children,l),h=vt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Kv(s,l,o);else if(s.tag===19)Kv(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(it(vt,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)s=l.alternate,s!==null&&zc(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),lp(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&zc(s)===null){o.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}lp(o,!0,l,null,y);break;case"together":lp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Qc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ss(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),go|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,l=ui(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=ui(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function JI(s,o,l){switch(o.tag){case 3:Hv(o),pa();break;case 5:uv(o);break;case 1:bn(o.type)&&kc(o);break;case 4:zf(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;it(Vc,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(it(vt,vt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Gv(s,o,l):(it(vt,vt.current&1),s=Ss(s,o,l),s!==null?s.sibling:null);it(vt,vt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(s.flags&128)!==0){if(h)return Qv(s,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),it(vt,vt.current),h)break;return null;case 22:case 23:return o.lanes=0,$v(s,o,l)}return Ss(s,o,l)}var Yv,up,Xv,Jv;Yv=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},up=function(){},Xv=function(s,o,l,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,po(Hr.current);var y=null;switch(l){case"input":m=Ln(s,m),h=Ln(s,h),y=[];break;case"select":m=ue({},m,{value:void 0}),h=ue({},h,{value:void 0}),y=[];break;case"textarea":m=Gi(s,m),h=Gi(s,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=bc)}Sn(l,h);var S;l=null;for(Y in m)if(!h.hasOwnProperty(Y)&&m.hasOwnProperty(Y)&&m[Y]!=null)if(Y==="style"){var D=m[Y];for(S in D)D.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?y||(y=[]):(y=y||[]).push(Y,null));for(Y in h){var z=h[Y];if(D=m!=null?m[Y]:void 0,h.hasOwnProperty(Y)&&z!==D&&(z!=null||D!=null))if(Y==="style")if(D){for(S in D)!D.hasOwnProperty(S)||z&&z.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in z)z.hasOwnProperty(S)&&D[S]!==z[S]&&(l||(l={}),l[S]=z[S])}else l||(y||(y=[]),y.push(Y,l)),l=z;else Y==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,D=D?D.__html:void 0,z!=null&&D!==z&&(y=y||[]).push(Y,z)):Y==="children"?typeof z!="string"&&typeof z!="number"||(y=y||[]).push(Y,""+z):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(z!=null&&Y==="onScroll"&&lt("scroll",s),y||D===z||(y=[])):(y=y||[]).push(Y,z))}l&&(y=y||[]).push("style",l);var Y=y;(o.updateQueue=Y)&&(o.flags|=4)}},Jv=function(s,o,l,h){l!==h&&(o.flags|=4)};function Yl(s,o){if(!mt)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function tn(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(o)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=l,o}function ZI(s,o,l){var h=o.pendingProps;switch(kf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(o),null;case 1:return bn(o.type)&&Pc(),tn(o),null;case 3:return h=o.stateNode,va(),ut(An),ut(Zt),Wf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Mc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Sr!==null&&(_p(Sr),Sr=null))),up(s,o),tn(o),null;case 5:$f(o);var m=po(Hl.current);if(l=o.type,s!==null&&o.stateNode!=null)Xv(s,o,l,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return tn(o),null}if(s=po(Hr.current),Mc(o)){h=o.stateNode,l=o.type;var y=o.memoizedProps;switch(h[Wr]=o,h[Ul]=y,s=(o.mode&1)!==0,l){case"dialog":lt("cancel",h),lt("close",h);break;case"iframe":case"object":case"embed":lt("load",h);break;case"video":case"audio":for(m=0;m<Vl.length;m++)lt(Vl[m],h);break;case"source":lt("error",h);break;case"img":case"image":case"link":lt("error",h),lt("load",h);break;case"details":lt("toggle",h);break;case"input":ur(h,y),lt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},lt("invalid",h);break;case"textarea":dr(h,y),lt("invalid",h)}Sn(l,y),m=null;for(var S in y)if(y.hasOwnProperty(S)){var D=y[S];S==="children"?typeof D=="string"?h.textContent!==D&&(y.suppressHydrationWarning!==!0&&Ac(h.textContent,D,s),m=["children",D]):typeof D=="number"&&h.textContent!==""+D&&(y.suppressHydrationWarning!==!0&&Ac(h.textContent,D,s),m=["children",""+D]):i.hasOwnProperty(S)&&D!=null&&S==="onScroll"&&lt("scroll",h)}switch(l){case"input":Tn(h),js(h,y,!0);break;case"textarea":Tn(h),Us(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=bc)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=gt(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=S.createElement(l,{is:h.is}):(s=S.createElement(l),l==="select"&&(S=s,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):s=S.createElementNS(s,l),s[Wr]=o,s[Ul]=h,Yv(s,o,!1,!1),o.stateNode=s;e:{switch(S=Qi(l,h),l){case"dialog":lt("cancel",s),lt("close",s),m=h;break;case"iframe":case"object":case"embed":lt("load",s),m=h;break;case"video":case"audio":for(m=0;m<Vl.length;m++)lt(Vl[m],s);m=h;break;case"source":lt("error",s),m=h;break;case"img":case"image":case"link":lt("error",s),lt("load",s),m=h;break;case"details":lt("toggle",s),m=h;break;case"input":ur(s,h),m=Ln(s,h),lt("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=ue({},h,{value:void 0}),lt("invalid",s);break;case"textarea":dr(s,h),m=Gi(s,h),lt("invalid",s);break;default:m=h}Sn(l,m),D=m;for(y in D)if(D.hasOwnProperty(y)){var z=D[y];y==="style"?Ki(s,z):y==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Yn(s,z)):y==="children"?typeof z=="string"?(l!=="textarea"||z!=="")&&hr(s,z):typeof z=="number"&&hr(s,""+z):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?z!=null&&y==="onScroll"&&lt("scroll",s):z!=null&&$(s,y,z,S))}switch(l){case"input":Tn(s),js(s,h,!1);break;case"textarea":Tn(s),Us(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Le(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?cr(s,!!h.multiple,y,!1):h.defaultValue!=null&&cr(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=bc)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return tn(o),null;case 6:if(s&&o.stateNode!=null)Jv(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=po(Hl.current),po(Hr.current),Mc(o)){if(h=o.stateNode,l=o.memoizedProps,h[Wr]=o,(y=h.nodeValue!==l)&&(s=zn,s!==null))switch(s.tag){case 3:Ac(h.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ac(h.nodeValue,l,(s.mode&1)!==0)}y&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Wr]=o,o.stateNode=h}return tn(o),null;case 13:if(ut(vt),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(mt&&$n!==null&&(o.mode&1)!==0&&(o.flags&128)===0)tv(),pa(),o.flags|=98560,y=!1;else if(y=Mc(o),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Wr]=o}else pa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;tn(o),y=!1}else Sr!==null&&(_p(Sr),Sr=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(vt.current&1)!==0?Dt===0&&(Dt=3):xp())),o.updateQueue!==null&&(o.flags|=4),tn(o),null);case 4:return va(),up(s,o),s===null&&jl(o.stateNode.containerInfo),tn(o),null;case 10:return Vf(o.type._context),tn(o),null;case 17:return bn(o.type)&&Pc(),tn(o),null;case 19:if(ut(vt),y=o.memoizedState,y===null)return tn(o),null;if(h=(o.flags&128)!==0,S=y.rendering,S===null)if(h)Yl(y,!1);else{if(Dt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(S=zc(s),S!==null){for(o.flags|=128,Yl(y,!1),h=S.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)y=l,s=h,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,s=S.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return it(vt,vt.current&1|2),o.child}s=s.sibling}y.tail!==null&&st()>Ta&&(o.flags|=128,h=!0,Yl(y,!1),o.lanes=4194304)}else{if(!h)if(s=zc(S),s!==null){if(o.flags|=128,h=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Yl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!mt)return tn(o),null}else 2*st()-y.renderingStartTime>Ta&&l!==1073741824&&(o.flags|=128,h=!0,Yl(y,!1),o.lanes=4194304);y.isBackwards?(S.sibling=o.child,o.child=S):(l=y.last,l!==null?l.sibling=S:o.child=S,y.last=S)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=st(),o.sibling=null,l=vt.current,it(vt,h?l&1|2:l&1),o):(tn(o),null);case 22:case 23:return Tp(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Bn&1073741824)!==0&&(tn(o),o.subtreeFlags&6&&(o.flags|=8192)):tn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function eC(s,o){switch(kf(o),o.tag){case 1:return bn(o.type)&&Pc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return va(),ut(An),ut(Zt),Wf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return $f(o),null;case 13:if(ut(vt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));pa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ut(vt),null;case 4:return va(),null;case 10:return Vf(o.type._context),null;case 22:case 23:return Tp(),null;case 24:return null;default:return null}}var Yc=!1,nn=!1,tC=typeof WeakSet=="function"?WeakSet:Set,me=null;function _a(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Et(s,o,h)}else l.current=null}function cp(s,o,l){try{l()}catch(h){Et(s,o,h)}}var Zv=!1;function nC(s,o){if(Tf=Qs,s=ky(),pf(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,D=-1,z=-1,Y=0,se=0,ie=s,re=null;t:for(;;){for(var fe;ie!==l||m!==0&&ie.nodeType!==3||(D=S+m),ie!==y||h!==0&&ie.nodeType!==3||(z=S+h),ie.nodeType===3&&(S+=ie.nodeValue.length),(fe=ie.firstChild)!==null;)re=ie,ie=fe;for(;;){if(ie===s)break t;if(re===l&&++Y===m&&(D=S),re===y&&++se===h&&(z=S),(fe=ie.nextSibling)!==null)break;ie=re,re=ie.parentNode}ie=fe}l=D===-1||z===-1?null:{start:D,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(xf={focusedElem:s,selectionRange:l},Qs=!1,me=o;me!==null;)if(o=me,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,me=s;else for(;me!==null;){o=me;try{var ge=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ve=ge.memoizedProps,It=ge.memoizedState,q=o.stateNode,B=q.getSnapshotBeforeUpdate(o.elementType===o.type?ve:Ir(o.type,ve),It);q.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){Et(o,o.return,ae)}if(s=o.sibling,s!==null){s.return=o.return,me=s;break}me=o.return}return ge=Zv,Zv=!1,ge}function Xl(s,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&cp(o,l,y)}m=m.next}while(m!==h)}}function Xc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function dp(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function e0(s){var o=s.alternate;o!==null&&(s.alternate=null,e0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Wr],delete o[Ul],delete o[Af],delete o[jI],delete o[FI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function t0(s){return s.tag===5||s.tag===3||s.tag===4}function n0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||t0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function hp(s,o,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=bc));else if(h!==4&&(s=s.child,s!==null))for(hp(s,o,l),s=s.sibling;s!==null;)hp(s,o,l),s=s.sibling}function fp(s,o,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(fp(s,o,l),s=s.sibling;s!==null;)fp(s,o,l),s=s.sibling}var qt=null,Cr=!1;function si(s,o,l){for(l=l.child;l!==null;)r0(s,o,l),l=l.sibling}function r0(s,o,l){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(to,l)}catch{}switch(l.tag){case 5:nn||_a(l,o);case 6:var h=qt,m=Cr;qt=null,si(s,o,l),qt=h,Cr=m,qt!==null&&(Cr?(s=qt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):qt.removeChild(l.stateNode));break;case 18:qt!==null&&(Cr?(s=qt,l=l.stateNode,s.nodeType===8?Cf(s.parentNode,l):s.nodeType===1&&Cf(s,l),Er(s)):Cf(qt,l.stateNode));break;case 4:h=qt,m=Cr,qt=l.stateNode.containerInfo,Cr=!0,si(s,o,l),qt=h,Cr=m;break;case 0:case 11:case 14:case 15:if(!nn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,S=y.destroy;y=y.tag,S!==void 0&&((y&2)!==0||(y&4)!==0)&&cp(l,o,S),m=m.next}while(m!==h)}si(s,o,l);break;case 1:if(!nn&&(_a(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(D){Et(l,o,D)}si(s,o,l);break;case 21:si(s,o,l);break;case 22:l.mode&1?(nn=(h=nn)||l.memoizedState!==null,si(s,o,l),nn=h):si(s,o,l);break;default:si(s,o,l)}}function s0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new tC),o.forEach(function(h){var m=dC.bind(null,s,h);l.has(h)||(l.add(h),h.then(m,m))})}}function Ar(s,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var y=s,S=o,D=S;e:for(;D!==null;){switch(D.tag){case 5:qt=D.stateNode,Cr=!1;break e;case 3:qt=D.stateNode.containerInfo,Cr=!0;break e;case 4:qt=D.stateNode.containerInfo,Cr=!0;break e}D=D.return}if(qt===null)throw Error(t(160));r0(y,S,m),qt=null,Cr=!1;var z=m.alternate;z!==null&&(z.return=null),m.return=null}catch(Y){Et(m,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)i0(o,s),o=o.sibling}function i0(s,o){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ar(o,s),Gr(s),h&4){try{Xl(3,s,s.return),Xc(3,s)}catch(ve){Et(s,s.return,ve)}try{Xl(5,s,s.return)}catch(ve){Et(s,s.return,ve)}}break;case 1:Ar(o,s),Gr(s),h&512&&l!==null&&_a(l,l.return);break;case 5:if(Ar(o,s),Gr(s),h&512&&l!==null&&_a(l,l.return),s.flags&32){var m=s.stateNode;try{hr(m,"")}catch(ve){Et(s,s.return,ve)}}if(h&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,S=l!==null?l.memoizedProps:y,D=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{D==="input"&&y.type==="radio"&&y.name!=null&&xn(m,y),Qi(D,S);var Y=Qi(D,y);for(S=0;S<z.length;S+=2){var se=z[S],ie=z[S+1];se==="style"?Ki(m,ie):se==="dangerouslySetInnerHTML"?Yn(m,ie):se==="children"?hr(m,ie):$(m,se,ie,Y)}switch(D){case"input":us(m,y);break;case"textarea":Fs(m,y);break;case"select":var re=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var fe=y.value;fe!=null?cr(m,!!y.multiple,fe,!1):re!==!!y.multiple&&(y.defaultValue!=null?cr(m,!!y.multiple,y.defaultValue,!0):cr(m,!!y.multiple,y.multiple?[]:"",!1))}m[Ul]=y}catch(ve){Et(s,s.return,ve)}}break;case 6:if(Ar(o,s),Gr(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(ve){Et(s,s.return,ve)}}break;case 3:if(Ar(o,s),Gr(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Er(o.containerInfo)}catch(ve){Et(s,s.return,ve)}break;case 4:Ar(o,s),Gr(s);break;case 13:Ar(o,s),Gr(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(gp=st())),h&4&&s0(s);break;case 22:if(se=l!==null&&l.memoizedState!==null,s.mode&1?(nn=(Y=nn)||se,Ar(o,s),nn=Y):Ar(o,s),Gr(s),h&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!se&&(s.mode&1)!==0)for(me=s,se=s.child;se!==null;){for(ie=me=se;me!==null;){switch(re=me,fe=re.child,re.tag){case 0:case 11:case 14:case 15:Xl(4,re,re.return);break;case 1:_a(re,re.return);var ge=re.stateNode;if(typeof ge.componentWillUnmount=="function"){h=re,l=re.return;try{o=h,ge.props=o.memoizedProps,ge.state=o.memoizedState,ge.componentWillUnmount()}catch(ve){Et(h,l,ve)}}break;case 5:_a(re,re.return);break;case 22:if(re.memoizedState!==null){l0(ie);continue}}fe!==null?(fe.return=re,me=fe):l0(ie)}se=se.sibling}e:for(se=null,ie=s;;){if(ie.tag===5){if(se===null){se=ie;try{m=ie.stateNode,Y?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(D=ie.stateNode,z=ie.memoizedProps.style,S=z!=null&&z.hasOwnProperty("display")?z.display:null,D.style.display=zs("display",S))}catch(ve){Et(s,s.return,ve)}}}else if(ie.tag===6){if(se===null)try{ie.stateNode.nodeValue=Y?"":ie.memoizedProps}catch(ve){Et(s,s.return,ve)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===s)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===s)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===s)break e;se===ie&&(se=null),ie=ie.return}se===ie&&(se=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Ar(o,s),Gr(s),h&4&&s0(s);break;case 21:break;default:Ar(o,s),Gr(s)}}function Gr(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(t0(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(hr(m,""),h.flags&=-33);var y=n0(s);fp(s,y,m);break;case 3:case 4:var S=h.stateNode.containerInfo,D=n0(s);hp(s,D,S);break;default:throw Error(t(161))}}catch(z){Et(s,s.return,z)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function rC(s,o,l){me=s,o0(s)}function o0(s,o,l){for(var h=(s.mode&1)!==0;me!==null;){var m=me,y=m.child;if(m.tag===22&&h){var S=m.memoizedState!==null||Yc;if(!S){var D=m.alternate,z=D!==null&&D.memoizedState!==null||nn;D=Yc;var Y=nn;if(Yc=S,(nn=z)&&!Y)for(me=m;me!==null;)S=me,z=S.child,S.tag===22&&S.memoizedState!==null?u0(m):z!==null?(z.return=S,me=z):u0(m);for(;y!==null;)me=y,o0(y),y=y.sibling;me=m,Yc=D,nn=Y}a0(s)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,me=y):a0(s)}}function a0(s){for(;me!==null;){var o=me;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:nn||Xc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!nn)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Ir(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&lv(o,y,h);break;case 3:var S=o.updateQueue;if(S!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}lv(o,S,l)}break;case 5:var D=o.stateNode;if(l===null&&o.flags&4){l=D;var z=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&l.focus();break;case"img":z.src&&(l.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var se=Y.memoizedState;if(se!==null){var ie=se.dehydrated;ie!==null&&Er(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}nn||o.flags&512&&dp(o)}catch(re){Et(o,o.return,re)}}if(o===s){me=null;break}if(l=o.sibling,l!==null){l.return=o.return,me=l;break}me=o.return}}function l0(s){for(;me!==null;){var o=me;if(o===s){me=null;break}var l=o.sibling;if(l!==null){l.return=o.return,me=l;break}me=o.return}}function u0(s){for(;me!==null;){var o=me;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Xc(4,o)}catch(z){Et(o,l,z)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(z){Et(o,m,z)}}var y=o.return;try{dp(o)}catch(z){Et(o,y,z)}break;case 5:var S=o.return;try{dp(o)}catch(z){Et(o,S,z)}}}catch(z){Et(o,o.return,z)}if(o===s){me=null;break}var D=o.sibling;if(D!==null){D.return=o.return,me=D;break}me=o.return}}var sC=Math.ceil,Jc=W.ReactCurrentDispatcher,pp=W.ReactCurrentOwner,ir=W.ReactCurrentBatchConfig,Ke=0,zt=null,bt=null,Gt=0,Bn=0,Ea=Zs(0),Dt=0,Jl=null,go=0,Zc=0,mp=0,Zl=null,Pn=null,gp=0,Ta=1/0,Is=null,ed=!1,yp=null,ii=null,td=!1,oi=null,nd=0,eu=0,vp=null,rd=-1,sd=0;function gn(){return(Ke&6)!==0?st():rd!==-1?rd:rd=st()}function ai(s){return(s.mode&1)===0?1:(Ke&2)!==0&&Gt!==0?Gt&-Gt:zI.transition!==null?(sd===0&&(sd=ro()),sd):(s=We,s!==0||(s=window.event,s=s===void 0?16:bl(s.type)),s)}function br(s,o,l,h){if(50<eu)throw eu=0,vp=null,Error(t(185));Hs(s,l,h),((Ke&2)===0||s!==zt)&&(s===zt&&((Ke&2)===0&&(Zc|=l),Dt===4&&li(s,Gt)),kn(s,h),l===1&&Ke===0&&(o.mode&1)===0&&(Ta=st()+500,Nc&&ti()))}function kn(s,o){var l=s.callbackNode;fs(s,o);var h=no(s,s===zt?Gt:0);if(h===0)l!==null&&xl(l),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(l!=null&&xl(l),o===1)s.tag===0?UI(d0.bind(null,s)):Yy(d0.bind(null,s)),LI(function(){(Ke&6)===0&&ti()}),l=null;else{switch(Gs(h)){case 1:l=eo;break;case 4:l=$s;break;case 16:l=Jn;break;case 536870912:l=sc;break;default:l=Jn}l=w0(l,c0.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function c0(s,o){if(rd=-1,sd=0,(Ke&6)!==0)throw Error(t(327));var l=s.callbackNode;if(xa()&&s.callbackNode!==l)return null;var h=no(s,s===zt?Gt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=id(s,h);else{o=h;var m=Ke;Ke|=2;var y=f0();(zt!==s||Gt!==o)&&(Is=null,Ta=st()+500,vo(s,o));do try{aC();break}catch(D){h0(s,D)}while(!0);Lf(),Jc.current=y,Ke=m,bt!==null?o=0:(zt=null,Gt=0,o=Dt)}if(o!==0){if(o===2&&(m=jn(s),m!==0&&(h=m,o=wp(s,m))),o===1)throw l=Jl,vo(s,0),li(s,h),kn(s,st()),l;if(o===6)li(s,h);else{if(m=s.current.alternate,(h&30)===0&&!iC(m)&&(o=id(s,h),o===2&&(y=jn(s),y!==0&&(h=y,o=wp(s,y))),o===1))throw l=Jl,vo(s,0),li(s,h),kn(s,st()),l;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:wo(s,Pn,Is);break;case 3:if(li(s,h),(h&130023424)===h&&(o=gp+500-st(),10<o)){if(no(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){gn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=If(wo.bind(null,s,Pn,Is),o);break}wo(s,Pn,Is);break;case 4:if(li(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var S=31-fn(h);y=1<<S,S=o[S],S>m&&(m=S),h&=~y}if(h=m,h=st()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*sC(h/1960))-h,10<h){s.timeoutHandle=If(wo.bind(null,s,Pn,Is),h);break}wo(s,Pn,Is);break;case 5:wo(s,Pn,Is);break;default:throw Error(t(329))}}}return kn(s,st()),s.callbackNode===l?c0.bind(null,s):null}function wp(s,o){var l=Zl;return s.current.memoizedState.isDehydrated&&(vo(s,o).flags|=256),s=id(s,o),s!==2&&(o=Pn,Pn=l,o!==null&&_p(o)),s}function _p(s){Pn===null?Pn=s:Pn.push.apply(Pn,s)}function iC(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],y=m.getSnapshot;m=m.value;try{if(!xr(y(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function li(s,o){for(o&=~mp,o&=~Zc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-fn(o),h=1<<l;s[l]=-1,o&=~h}}function d0(s){if((Ke&6)!==0)throw Error(t(327));xa();var o=no(s,0);if((o&1)===0)return kn(s,st()),null;var l=id(s,o);if(s.tag!==0&&l===2){var h=jn(s);h!==0&&(o=h,l=wp(s,h))}if(l===1)throw l=Jl,vo(s,0),li(s,o),kn(s,st()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,wo(s,Pn,Is),kn(s,st()),null}function Ep(s,o){var l=Ke;Ke|=1;try{return s(o)}finally{Ke=l,Ke===0&&(Ta=st()+500,Nc&&ti())}}function yo(s){oi!==null&&oi.tag===0&&(Ke&6)===0&&xa();var o=Ke;Ke|=1;var l=ir.transition,h=We;try{if(ir.transition=null,We=1,s)return s()}finally{We=h,ir.transition=l,Ke=o,(Ke&6)===0&&ti()}}function Tp(){Bn=Ea.current,ut(Ea)}function vo(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,MI(l)),bt!==null)for(l=bt.return;l!==null;){var h=l;switch(kf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Pc();break;case 3:va(),ut(An),ut(Zt),Wf();break;case 5:$f(h);break;case 4:va();break;case 13:ut(vt);break;case 19:ut(vt);break;case 10:Vf(h.type._context);break;case 22:case 23:Tp()}l=l.return}if(zt=s,bt=s=ui(s.current,null),Gt=Bn=o,Dt=0,Jl=null,mp=Zc=go=0,Pn=Zl=null,fo!==null){for(o=0;o<fo.length;o++)if(l=fo[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,y=l.pending;if(y!==null){var S=y.next;y.next=m,h.next=S}l.pending=h}fo=null}return s}function h0(s,o){do{var l=bt;try{if(Lf(),$c.current=qc,Bc){for(var h=wt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Bc=!1}if(mo=0,Ut=Ot=wt=null,ql=!1,Gl=0,pp.current=null,l===null||l.return===null){Dt=1,Jl=o,bt=null;break}e:{var y=s,S=l.return,D=l,z=o;if(o=Gt,D.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Y=z,se=D,ie=se.tag;if((se.mode&1)===0&&(ie===0||ie===11||ie===15)){var re=se.alternate;re?(se.updateQueue=re.updateQueue,se.memoizedState=re.memoizedState,se.lanes=re.lanes):(se.updateQueue=null,se.memoizedState=null)}var fe=Vv(S);if(fe!==null){fe.flags&=-257,jv(fe,S,D,y,o),fe.mode&1&&Lv(y,Y,o),o=fe,z=Y;var ge=o.updateQueue;if(ge===null){var ve=new Set;ve.add(z),o.updateQueue=ve}else ge.add(z);break e}else{if((o&1)===0){Lv(y,Y,o),xp();break e}z=Error(t(426))}}else if(mt&&D.mode&1){var It=Vv(S);if(It!==null){(It.flags&65536)===0&&(It.flags|=256),jv(It,S,D,y,o),Df(wa(z,D));break e}}y=z=wa(z,D),Dt!==4&&(Dt=2),Zl===null?Zl=[y]:Zl.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var q=Dv(y,z,o);av(y,q);break e;case 1:D=z;var B=y.type,G=y.stateNode;if((y.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(ii===null||!ii.has(G)))){y.flags|=65536,o&=-o,y.lanes|=o;var ae=Mv(y,D,o);av(y,ae);break e}}y=y.return}while(y!==null)}m0(l)}catch(_e){o=_e,bt===l&&l!==null&&(bt=l=l.return);continue}break}while(!0)}function f0(){var s=Jc.current;return Jc.current=qc,s===null?qc:s}function xp(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),zt===null||(go&268435455)===0&&(Zc&268435455)===0||li(zt,Gt)}function id(s,o){var l=Ke;Ke|=2;var h=f0();(zt!==s||Gt!==o)&&(Is=null,vo(s,o));do try{oC();break}catch(m){h0(s,m)}while(!0);if(Lf(),Ke=l,Jc.current=h,bt!==null)throw Error(t(261));return zt=null,Gt=0,Dt}function oC(){for(;bt!==null;)p0(bt)}function aC(){for(;bt!==null&&!nc();)p0(bt)}function p0(s){var o=v0(s.alternate,s,Bn);s.memoizedProps=s.pendingProps,o===null?m0(s):bt=o,pp.current=null}function m0(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=ZI(l,o,Bn),l!==null){bt=l;return}}else{if(l=eC(l,o),l!==null){l.flags&=32767,bt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Dt=6,bt=null;return}}if(o=o.sibling,o!==null){bt=o;return}bt=o=s}while(o!==null);Dt===0&&(Dt=5)}function wo(s,o,l){var h=We,m=ir.transition;try{ir.transition=null,We=1,lC(s,o,l,h)}finally{ir.transition=m,We=h}return null}function lC(s,o,l,h){do xa();while(oi!==null);if((Ke&6)!==0)throw Error(t(327));l=s.finishedWork;var m=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(tt(s,y),s===zt&&(bt=zt=null,Gt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||td||(td=!0,w0(Jn,function(){return xa(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=ir.transition,ir.transition=null;var S=We;We=1;var D=Ke;Ke|=4,pp.current=null,nC(s,l),i0(l,s),bI(xf),Qs=!!Tf,xf=Tf=null,s.current=l,rC(l),of(),Ke=D,We=S,ir.transition=y}else s.current=l;if(td&&(td=!1,oi=s,nd=m),y=s.pendingLanes,y===0&&(ii=null),ic(l.stateNode),kn(s,st()),o!==null)for(h=s.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(ed)throw ed=!1,s=yp,yp=null,s;return(nd&1)!==0&&s.tag!==0&&xa(),y=s.pendingLanes,(y&1)!==0?s===vp?eu++:(eu=0,vp=s):eu=0,ti(),null}function xa(){if(oi!==null){var s=Gs(nd),o=ir.transition,l=We;try{if(ir.transition=null,We=16>s?16:s,oi===null)var h=!1;else{if(s=oi,oi=null,nd=0,(Ke&6)!==0)throw Error(t(331));var m=Ke;for(Ke|=4,me=s.current;me!==null;){var y=me,S=y.child;if((me.flags&16)!==0){var D=y.deletions;if(D!==null){for(var z=0;z<D.length;z++){var Y=D[z];for(me=Y;me!==null;){var se=me;switch(se.tag){case 0:case 11:case 15:Xl(8,se,y)}var ie=se.child;if(ie!==null)ie.return=se,me=ie;else for(;me!==null;){se=me;var re=se.sibling,fe=se.return;if(e0(se),se===Y){me=null;break}if(re!==null){re.return=fe,me=re;break}me=fe}}}var ge=y.alternate;if(ge!==null){var ve=ge.child;if(ve!==null){ge.child=null;do{var It=ve.sibling;ve.sibling=null,ve=It}while(ve!==null)}}me=y}}if((y.subtreeFlags&2064)!==0&&S!==null)S.return=y,me=S;else e:for(;me!==null;){if(y=me,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Xl(9,y,y.return)}var q=y.sibling;if(q!==null){q.return=y.return,me=q;break e}me=y.return}}var B=s.current;for(me=B;me!==null;){S=me;var G=S.child;if((S.subtreeFlags&2064)!==0&&G!==null)G.return=S,me=G;else e:for(S=B;me!==null;){if(D=me,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Xc(9,D)}}catch(_e){Et(D,D.return,_e)}if(D===S){me=null;break e}var ae=D.sibling;if(ae!==null){ae.return=D.return,me=ae;break e}me=D.return}}if(Ke=m,ti(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(to,s)}catch{}h=!0}return h}finally{We=l,ir.transition=o}}return!1}function g0(s,o,l){o=wa(l,o),o=Dv(s,o,1),s=ri(s,o,1),o=gn(),s!==null&&(Hs(s,1,o),kn(s,o))}function Et(s,o,l){if(s.tag===3)g0(s,s,l);else for(;o!==null;){if(o.tag===3){g0(o,s,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ii===null||!ii.has(h))){s=wa(l,s),s=Mv(o,s,1),o=ri(o,s,1),s=gn(),o!==null&&(Hs(o,1,s),kn(o,s));break}}o=o.return}}function uC(s,o,l){var h=s.pingCache;h!==null&&h.delete(o),o=gn(),s.pingedLanes|=s.suspendedLanes&l,zt===s&&(Gt&l)===l&&(Dt===4||Dt===3&&(Gt&130023424)===Gt&&500>st()-gp?vo(s,0):mp|=l),kn(s,o)}function y0(s,o){o===0&&((s.mode&1)===0?o=1:(o=qo,qo<<=1,(qo&130023424)===0&&(qo=4194304)));var l=gn();s=Ts(s,o),s!==null&&(Hs(s,o,l),kn(s,l))}function cC(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),y0(s,l)}function dC(s,o){var l=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),y0(s,l)}var v0;v0=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||An.current)Rn=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return Rn=!1,JI(s,o,l);Rn=(s.flags&131072)!==0}else Rn=!1,mt&&(o.flags&1048576)!==0&&Xy(o,Dc,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Qc(s,o),s=o.pendingProps;var m=da(o,Zt.current);ya(o,l),m=Gf(null,o,h,s,m,l);var y=Kf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,bn(h)?(y=!0,kc(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Uf(o),m.updater=Gc,o.stateNode=m,m._reactInternals=o,ep(o,h,s,l),o=sp(null,o,h,!0,y,l)):(o.tag=0,mt&&y&&Pf(o),mn(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Qc(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=fC(h),s=Ir(h,s),m){case 0:o=rp(null,o,h,s,l);break e;case 1:o=Wv(null,o,h,s,l);break e;case 11:o=Fv(null,o,h,s,l);break e;case 14:o=Uv(null,o,h,Ir(h.type,s),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Ir(h,m),rp(s,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Ir(h,m),Wv(s,o,h,m,l);case 3:e:{if(Hv(o),s===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,m=y.element,ov(s,o),Uc(o,h,null,l);var S=o.memoizedState;if(h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=wa(Error(t(423)),o),o=qv(s,o,h,l,m);break e}else if(h!==m){m=wa(Error(t(424)),o),o=qv(s,o,h,l,m);break e}else for($n=Js(o.stateNode.containerInfo.firstChild),zn=o,mt=!0,Sr=null,l=sv(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(pa(),h===m){o=Ss(s,o,l);break e}mn(s,o,h,l)}o=o.child}return o;case 5:return uv(o),s===null&&Of(o),h=o.type,m=o.pendingProps,y=s!==null?s.memoizedProps:null,S=m.children,Sf(h,m)?S=null:y!==null&&Sf(h,y)&&(o.flags|=32),Bv(s,o),mn(s,o,S,l),o.child;case 6:return s===null&&Of(o),null;case 13:return Gv(s,o,l);case 4:return zf(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=ma(o,null,h,l):mn(s,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Ir(h,m),Fv(s,o,h,m,l);case 7:return mn(s,o,o.pendingProps,l),o.child;case 8:return mn(s,o,o.pendingProps.children,l),o.child;case 12:return mn(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,S=m.value,it(Vc,h._currentValue),h._currentValue=S,y!==null)if(xr(y.value,S)){if(y.children===m.children&&!An.current){o=Ss(s,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var D=y.dependencies;if(D!==null){S=y.child;for(var z=D.firstContext;z!==null;){if(z.context===h){if(y.tag===1){z=xs(-1,l&-l),z.tag=2;var Y=y.updateQueue;if(Y!==null){Y=Y.shared;var se=Y.pending;se===null?z.next=z:(z.next=se.next,se.next=z),Y.pending=z}}y.lanes|=l,z=y.alternate,z!==null&&(z.lanes|=l),jf(y.return,l,o),D.lanes|=l;break}z=z.next}}else if(y.tag===10)S=y.type===o.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(t(341));S.lanes|=l,D=S.alternate,D!==null&&(D.lanes|=l),jf(S,l,o),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===o){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}mn(s,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,ya(o,l),m=rr(m),h=h(m),o.flags|=1,mn(s,o,h,l),o.child;case 14:return h=o.type,m=Ir(h,o.pendingProps),m=Ir(h.type,m),Uv(s,o,h,m,l);case 15:return zv(s,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Ir(h,m),Qc(s,o),o.tag=1,bn(h)?(s=!0,kc(o)):s=!1,ya(o,l),Nv(o,h,m),ep(o,h,m,l),sp(null,o,h,!0,s,l);case 19:return Qv(s,o,l);case 22:return $v(s,o,l)}throw Error(t(156,o.tag))};function w0(s,o){return Wo(s,o)}function hC(s,o,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(s,o,l,h){return new hC(s,o,l,h)}function Sp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function fC(s){if(typeof s=="function")return Sp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===j)return 11;if(s===Ie)return 14}return 2}function ui(s,o){var l=s.alternate;return l===null?(l=or(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function od(s,o,l,h,m,y){var S=2;if(h=s,typeof s=="function")Sp(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case N:return _o(l.children,m,y,o);case P:S=8,m|=8;break;case k:return s=or(12,l,o,m|2),s.elementType=k,s.lanes=y,s;case O:return s=or(13,l,o,m),s.elementType=O,s.lanes=y,s;case le:return s=or(19,l,o,m),s.elementType=le,s.lanes=y,s;case ye:return ad(l,m,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:S=10;break e;case F:S=9;break e;case j:S=11;break e;case Ie:S=14;break e;case we:S=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=or(S,l,o,m),o.elementType=s,o.type=h,o.lanes=y,o}function _o(s,o,l,h){return s=or(7,s,h,o),s.lanes=l,s}function ad(s,o,l,h){return s=or(22,s,h,o),s.elementType=ye,s.lanes=l,s.stateNode={isHidden:!1},s}function Ip(s,o,l){return s=or(6,s,null,o),s.lanes=l,s}function Cp(s,o,l){return o=or(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function pC(s,o,l,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ws(0),this.expirationTimes=Ws(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ws(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Ap(s,o,l,h,m,y,S,D,z){return s=new pC(s,o,l,D,z),o===1?(o=1,y===!0&&(o|=8)):o=0,y=or(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uf(y),s}function mC(s,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:h==null?null:""+h,children:s,containerInfo:o,implementation:l}}function _0(s){if(!s)return ei;s=s._reactInternals;e:{if(gr(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(bn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(bn(l))return Ky(s,l,o)}return o}function E0(s,o,l,h,m,y,S,D,z){return s=Ap(l,h,!0,s,m,y,S,D,z),s.context=_0(null),l=s.current,h=gn(),m=ai(l),y=xs(h,m),y.callback=o??null,ri(l,y,m),s.current.lanes=m,Hs(s,m,h),kn(s,h),s}function ld(s,o,l,h){var m=o.current,y=gn(),S=ai(m);return l=_0(l),o.context===null?o.context=l:o.pendingContext=l,o=xs(y,S),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=ri(m,o,S),s!==null&&(br(s,m,S,y),Fc(s,m,S)),S}function ud(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function T0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function bp(s,o){T0(s,o),(s=s.alternate)&&T0(s,o)}function gC(){return null}var x0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Rp(s){this._internalRoot=s}cd.prototype.render=Rp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));ld(s,o,null,null)},cd.prototype.unmount=Rp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;yo(function(){ld(null,s,null,null)}),o[vs]=null}};function cd(s){this._internalRoot=s}cd.prototype.unstable_scheduleHydration=function(s){if(s){var o=cc();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Ur.length&&o!==0&&o<Ur[l].priority;l++);Ur.splice(l,0,s),l===0&&fc(s)}};function Pp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function dd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function S0(){}function yC(s,o,l,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var Y=ud(S);y.call(Y)}}var S=E0(o,h,s,0,null,!1,!1,"",S0);return s._reactRootContainer=S,s[vs]=S.current,jl(s.nodeType===8?s.parentNode:s),yo(),S}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var D=h;h=function(){var Y=ud(z);D.call(Y)}}var z=Ap(s,0,!1,null,null,!1,!1,"",S0);return s._reactRootContainer=z,s[vs]=z.current,jl(s.nodeType===8?s.parentNode:s),yo(function(){ld(o,z,l,h)}),z}function hd(s,o,l,h,m){var y=l._reactRootContainer;if(y){var S=y;if(typeof m=="function"){var D=m;m=function(){var z=ud(S);D.call(z)}}ld(o,S,s,m)}else S=yC(l,o,s,m,h);return ud(S)}lc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=Bs(o.pendingLanes);l!==0&&(qs(o,l|1),kn(o,st()),(Ke&6)===0&&(Ta=st()+500,ti()))}break;case 13:yo(function(){var h=Ts(s,1);if(h!==null){var m=gn();br(h,s,1,m)}}),bp(s,1)}},Go=function(s){if(s.tag===13){var o=Ts(s,134217728);if(o!==null){var l=gn();br(o,s,134217728,l)}bp(s,134217728)}},uc=function(s){if(s.tag===13){var o=ai(s),l=Ts(s,o);if(l!==null){var h=gn();br(l,s,o,h)}bp(s,o)}},cc=function(){return We},dc=function(s,o){var l=We;try{return We=s,o()}finally{We=l}},Ge=function(s,o,l){switch(o){case"input":if(us(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==s&&h.form===s.form){var m=Rc(h);if(!m)throw Error(t(90));Mn(h),us(h,m)}}}break;case"textarea":Fs(s,l);break;case"select":o=l.value,o!=null&&cr(s,!!l.multiple,o,!1)}},Yi=Ep,wl=yo;var vC={usingClientEntryPoint:!1,Events:[zl,ua,Rc,Xn,vl,Ep]},tu={findFiberByHostInstance:lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wC={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Tl(s),s===null?null:s.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||gC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{to=fd.inject(wC),Vn=fd}catch{}}return Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vC,Nn.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pp(o))throw Error(t(200));return mC(s,o,null,l)},Nn.createRoot=function(s,o){if(!Pp(s))throw Error(t(299));var l=!1,h="",m=x0;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Ap(s,1,!1,null,null,l,!1,h,m),s[vs]=o.current,jl(s.nodeType===8?s.parentNode:s),new Rp(o)},Nn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Tl(o),s=s===null?null:s.stateNode,s},Nn.flushSync=function(s){return yo(s)},Nn.hydrate=function(s,o,l){if(!dd(o))throw Error(t(200));return hd(null,s,o,!0,l)},Nn.hydrateRoot=function(s,o,l){if(!Pp(s))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,y="",S=x0;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),o=E0(o,null,s,1,l??null,m,!1,y,S),s[vs]=o.current,jl(s),h)for(s=0;s<h.length;s++)l=h[s],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new cd(o)},Nn.render=function(s,o,l){if(!dd(o))throw Error(t(200));return hd(null,s,o,!1,l)},Nn.unmountComponentAtNode=function(s){if(!dd(s))throw Error(t(40));return s._reactRootContainer?(yo(function(){hd(null,null,s,!1,function(){s._reactRootContainer=null,s[vs]=null})}),!0):!1},Nn.unstable_batchedUpdates=Ep,Nn.unstable_renderSubtreeIntoContainer=function(s,o,l,h){if(!dd(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return hd(s,o,l,!1,h)},Nn.version="18.3.1-next-f1338f8080-20240426",Nn}var D0;function uE(){if(D0)return Lp.exports;D0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Lp.exports=NC(),Lp.exports}var ju=uE();const tg=aE(ju);function nt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function OC(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function cE(...n){return e=>n.forEach(t=>OC(t,e))}function jt(...n){return C.useCallback(cE(...n),n)}function wh(n,e=[]){let t=[];function r(a,u){const d=C.createContext(u),f=t.length;t=[...t,u];function p(_){const{scope:w,children:I,...R}=_,A=(w==null?void 0:w[n][f])||d,x=C.useMemo(()=>R,Object.values(R));return T.jsx(A.Provider,{value:x,children:I})}function v(_,w){const I=(w==null?void 0:w[n][f])||d,R=C.useContext(I);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${a}\``)}return p.displayName=a+"Provider",[p,v]}const i=()=>{const a=t.map(u=>C.createContext(u));return function(d){const f=(d==null?void 0:d[n])||a;return C.useMemo(()=>({[`__scope${n}`]:{...d,[n]:f}}),[d,f])}};return i.scopeName=n,[r,DC(i,...e)]}function DC(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=r.reduce((d,{useScope:f,scopeName:p})=>{const _=f(a)[`__scope${p}`];return{...d,..._}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}var Qa=C.forwardRef((n,e)=>{const{children:t,...r}=n,i=C.Children.toArray(t),a=i.find(MC);if(a){const u=a.props.children,d=i.map(f=>f===a?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:f);return T.jsx(dm,{...r,ref:e,children:C.isValidElement(u)?C.cloneElement(u,void 0,d):null})}return T.jsx(dm,{...r,ref:e,children:t})});Qa.displayName="Slot";var dm=C.forwardRef((n,e)=>{const{children:t,...r}=n;if(C.isValidElement(t)){const i=VC(t);return C.cloneElement(t,{...LC(r,t.props),ref:e?cE(e,i):i})}return C.Children.count(t)>1?C.Children.only(null):null});dm.displayName="SlotClone";var dE=({children:n})=>T.jsx(T.Fragment,{children:n});function MC(n){return C.isValidElement(n)&&n.type===dE}function LC(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...d)=>{a(...d),i(...d)}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function VC(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function jC(n){const e=n+"CollectionProvider",[t,r]=wh(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=I=>{const{scope:R,children:A}=I,x=he.useRef(null),M=he.useRef(new Map).current;return T.jsx(i,{scope:R,itemMap:M,collectionRef:x,children:A})};u.displayName=e;const d=n+"CollectionSlot",f=he.forwardRef((I,R)=>{const{scope:A,children:x}=I,M=a(d,A),V=jt(R,M.collectionRef);return T.jsx(Qa,{ref:V,children:x})});f.displayName=d;const p=n+"CollectionItemSlot",v="data-radix-collection-item",_=he.forwardRef((I,R)=>{const{scope:A,children:x,...M}=I,V=he.useRef(null),$=jt(R,V),W=a(p,A);return he.useEffect(()=>(W.itemMap.set(V,{ref:V,...M}),()=>void W.itemMap.delete(V))),T.jsx(Qa,{[v]:"",ref:$,children:x})});_.displayName=p;function w(I){const R=a(n+"CollectionConsumer",I);return he.useCallback(()=>{const x=R.collectionRef.current;if(!x)return[];const M=Array.from(x.querySelectorAll(`[${v}]`));return Array.from(R.itemMap.values()).sort((W,Q)=>M.indexOf(W.ref.current)-M.indexOf(Q.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:u,Slot:f,ItemSlot:_},w,r]}var FC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],at=FC.reduce((n,e)=>{const t=C.forwardRef((r,i)=>{const{asChild:a,...u}=r,d=a?Qa:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(d,{...u,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function ng(n,e){n&&ju.flushSync(()=>n.dispatchEvent(e))}function wn(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n}),C.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function hE(n,e=globalThis==null?void 0:globalThis.document){const t=wn(n);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var UC="DismissableLayer",hm="dismissableLayer.update",zC="dismissableLayer.pointerDownOutside",$C="dismissableLayer.focusOutside",M0,fE=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pE=C.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...f}=n,p=C.useContext(fE),[v,_]=C.useState(null),w=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,I]=C.useState({}),R=jt(e,N=>_(N)),A=Array.from(p.layers),[x]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),M=A.indexOf(x),V=v?A.indexOf(v):-1,$=p.layersWithOutsidePointerEventsDisabled.size>0,W=V>=M,Q=WC(N=>{const P=N.target,k=[...p.branches].some(L=>L.contains(P));!W||k||(i==null||i(N),u==null||u(N),N.defaultPrevented||d==null||d())},w),Z=HC(N=>{const P=N.target;[...p.branches].some(L=>L.contains(P))||(a==null||a(N),u==null||u(N),N.defaultPrevented||d==null||d())},w);return hE(N=>{V===p.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&d&&(N.preventDefault(),d()))},w),C.useEffect(()=>{if(v)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(M0=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),L0(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=M0)}},[v,w,t,p]),C.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),L0())},[v,p]),C.useEffect(()=>{const N=()=>I({});return document.addEventListener(hm,N),()=>document.removeEventListener(hm,N)},[]),T.jsx(at.div,{...f,ref:R,style:{pointerEvents:$?W?"auto":"none":void 0,...n.style},onFocusCapture:nt(n.onFocusCapture,Z.onFocusCapture),onBlurCapture:nt(n.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:nt(n.onPointerDownCapture,Q.onPointerDownCapture)})});pE.displayName=UC;var BC="DismissableLayerBranch",mE=C.forwardRef((n,e)=>{const t=C.useContext(fE),r=C.useRef(null),i=jt(e,r);return C.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),T.jsx(at.div,{...n,ref:i})});mE.displayName=BC;function WC(n,e=globalThis==null?void 0:globalThis.document){const t=wn(n),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const a=d=>{if(d.target&&!r.current){let f=function(){gE(zC,t,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function HC(n,e=globalThis==null?void 0:globalThis.document){const t=wn(n),r=C.useRef(!1);return C.useEffect(()=>{const i=a=>{a.target&&!r.current&&gE($C,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function L0(){const n=new CustomEvent(hm);document.dispatchEvent(n)}function gE(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?ng(i,a):i.dispatchEvent(a)}var qC=pE,GC=mE,_n=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},KC="Portal",yE=C.forwardRef((n,e)=>{var d;const{container:t,...r}=n,[i,a]=C.useState(!1);_n(()=>a(!0),[]);const u=t||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?tg.createPortal(T.jsx(at.div,{...r,ref:e}),u):null});yE.displayName=KC;function QC(n,e){return C.useReducer((t,r)=>e[t][r]??t,n)}var vE=n=>{const{present:e,children:t}=n,r=YC(e),i=typeof t=="function"?t({present:r.isPresent}):C.Children.only(t),a=jt(r.ref,XC(i));return typeof t=="function"||r.isPresent?C.cloneElement(i,{ref:a}):null};vE.displayName="Presence";function YC(n){const[e,t]=C.useState(),r=C.useRef({}),i=C.useRef(n),a=C.useRef("none"),u=n?"mounted":"unmounted",[d,f]=QC(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=md(r.current);a.current=d==="mounted"?p:"none"},[d]),_n(()=>{const p=r.current,v=i.current;if(v!==n){const w=a.current,I=md(p);n?f("MOUNT"):I==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(v&&w!==I?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),_n(()=>{if(e){const p=_=>{const I=md(r.current).includes(_.animationName);_.target===e&&I&&ju.flushSync(()=>f("ANIMATION_END"))},v=_=>{_.target===e&&(a.current=md(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:C.useCallback(p=>{p&&(r.current=getComputedStyle(p)),t(p)},[])}}function md(n){return(n==null?void 0:n.animationName)||"none"}function XC(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function wE({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=JC({defaultProp:e,onChange:t}),a=n!==void 0,u=a?n:r,d=wn(t),f=C.useCallback(p=>{if(a){const _=typeof p=="function"?p(n):p;_!==n&&d(_)}else i(p)},[a,n,i,d]);return[u,f]}function JC({defaultProp:n,onChange:e}){const t=C.useState(n),[r]=t,i=C.useRef(r),a=wn(e);return C.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),t}var ZC="VisuallyHidden",_h=C.forwardRef((n,e)=>T.jsx(at.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));_h.displayName=ZC;var eA=_h,rg="ToastProvider",[sg,tA,nA]=jC("Toast"),[_E,Vj]=wh("Toast",[nA]),[rA,Eh]=_E(rg),EE=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:u}=n,[d,f]=C.useState(null),[p,v]=C.useState(0),_=C.useRef(!1),w=C.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${rg}\`. Expected non-empty \`string\`.`),T.jsx(sg.Provider,{scope:e,children:T.jsx(rA,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:p,viewport:d,onViewportChange:f,onToastAdd:C.useCallback(()=>v(I=>I+1),[]),onToastRemove:C.useCallback(()=>v(I=>I-1),[]),isFocusedToastEscapeKeyDownRef:_,isClosePausedRef:w,children:u})})};EE.displayName=rg;var TE="ToastViewport",sA=["F8"],fm="toast.viewportPause",pm="toast.viewportResume",xE=C.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=sA,label:i="Notifications ({hotkey})",...a}=n,u=Eh(TE,t),d=tA(t),f=C.useRef(null),p=C.useRef(null),v=C.useRef(null),_=C.useRef(null),w=jt(e,_,u.onViewportChange),I=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=u.toastCount>0;C.useEffect(()=>{const x=M=>{var $;r.every(W=>M[W]||M.code===W)&&(($=_.current)==null||$.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),C.useEffect(()=>{const x=f.current,M=_.current;if(R&&x&&M){const V=()=>{if(!u.isClosePausedRef.current){const Z=new CustomEvent(fm);M.dispatchEvent(Z),u.isClosePausedRef.current=!0}},$=()=>{if(u.isClosePausedRef.current){const Z=new CustomEvent(pm);M.dispatchEvent(Z),u.isClosePausedRef.current=!1}},W=Z=>{!x.contains(Z.relatedTarget)&&$()},Q=()=>{x.contains(document.activeElement)||$()};return x.addEventListener("focusin",V),x.addEventListener("focusout",W),x.addEventListener("pointermove",V),x.addEventListener("pointerleave",Q),window.addEventListener("blur",V),window.addEventListener("focus",$),()=>{x.removeEventListener("focusin",V),x.removeEventListener("focusout",W),x.removeEventListener("pointermove",V),x.removeEventListener("pointerleave",Q),window.removeEventListener("blur",V),window.removeEventListener("focus",$)}}},[R,u.isClosePausedRef]);const A=C.useCallback(({tabbingDirection:x})=>{const V=d().map($=>{const W=$.ref.current,Q=[W,...yA(W)];return x==="forwards"?Q:Q.reverse()});return(x==="forwards"?V.reverse():V).flat()},[d]);return C.useEffect(()=>{const x=_.current;if(x){const M=V=>{var Q,Z,N;const $=V.altKey||V.ctrlKey||V.metaKey;if(V.key==="Tab"&&!$){const P=document.activeElement,k=V.shiftKey;if(V.target===x&&k){(Q=p.current)==null||Q.focus();return}const j=A({tabbingDirection:k?"backwards":"forwards"}),O=j.findIndex(le=>le===P);Fp(j.slice(O+1))?V.preventDefault():k?(Z=p.current)==null||Z.focus():(N=v.current)==null||N.focus()}};return x.addEventListener("keydown",M),()=>x.removeEventListener("keydown",M)}},[d,A]),T.jsxs(GC,{ref:f,role:"region","aria-label":i.replace("{hotkey}",I),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&T.jsx(mm,{ref:p,onFocusFromOutsideViewport:()=>{const x=A({tabbingDirection:"forwards"});Fp(x)}}),T.jsx(sg.Slot,{scope:t,children:T.jsx(at.ol,{tabIndex:-1,...a,ref:w})}),R&&T.jsx(mm,{ref:v,onFocusFromOutsideViewport:()=>{const x=A({tabbingDirection:"backwards"});Fp(x)}})]})});xE.displayName=TE;var SE="ToastFocusProxy",mm=C.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,a=Eh(SE,t);return T.jsx(_h,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:u=>{var p;const d=u.relatedTarget;!((p=a.viewport)!=null&&p.contains(d))&&r()}})});mm.displayName=SE;var Th="Toast",iA="toast.swipeStart",oA="toast.swipeMove",aA="toast.swipeCancel",lA="toast.swipeEnd",IE=C.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:a,...u}=n,[d=!0,f]=wE({prop:r,defaultProp:i,onChange:a});return T.jsx(vE,{present:t||d,children:T.jsx(dA,{open:d,...u,ref:e,onClose:()=>f(!1),onPause:wn(n.onPause),onResume:wn(n.onResume),onSwipeStart:nt(n.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:nt(n.onSwipeMove,p=>{const{x:v,y:_}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${_}px`)}),onSwipeCancel:nt(n.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:nt(n.onSwipeEnd,p=>{const{x:v,y:_}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${_}px`),f(!1)})})})});IE.displayName=Th;var[uA,cA]=_E(Th,{onClose(){}}),dA=C.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:a,onClose:u,onEscapeKeyDown:d,onPause:f,onResume:p,onSwipeStart:v,onSwipeMove:_,onSwipeCancel:w,onSwipeEnd:I,...R}=n,A=Eh(Th,t),[x,M]=C.useState(null),V=jt(e,le=>M(le)),$=C.useRef(null),W=C.useRef(null),Q=i||A.duration,Z=C.useRef(0),N=C.useRef(Q),P=C.useRef(0),{onToastAdd:k,onToastRemove:L}=A,F=wn(()=>{var Ie;(x==null?void 0:x.contains(document.activeElement))&&((Ie=A.viewport)==null||Ie.focus()),u()}),j=C.useCallback(le=>{!le||le===1/0||(window.clearTimeout(P.current),Z.current=new Date().getTime(),P.current=window.setTimeout(F,le))},[F]);C.useEffect(()=>{const le=A.viewport;if(le){const Ie=()=>{j(N.current),p==null||p()},we=()=>{const ye=new Date().getTime()-Z.current;N.current=N.current-ye,window.clearTimeout(P.current),f==null||f()};return le.addEventListener(fm,we),le.addEventListener(pm,Ie),()=>{le.removeEventListener(fm,we),le.removeEventListener(pm,Ie)}}},[A.viewport,Q,f,p,j]),C.useEffect(()=>{a&&!A.isClosePausedRef.current&&j(Q)},[a,Q,A.isClosePausedRef,j]),C.useEffect(()=>(k(),()=>L()),[k,L]);const O=C.useMemo(()=>x?NE(x):null,[x]);return A.viewport?T.jsxs(T.Fragment,{children:[O&&T.jsx(hA,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),T.jsx(uA,{scope:t,onClose:F,children:ju.createPortal(T.jsx(sg.ItemSlot,{scope:t,children:T.jsx(qC,{asChild:!0,onEscapeKeyDown:nt(d,()=>{A.isFocusedToastEscapeKeyDownRef.current||F(),A.isFocusedToastEscapeKeyDownRef.current=!1}),children:T.jsx(at.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":A.swipeDirection,...R,ref:V,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:nt(n.onKeyDown,le=>{le.key==="Escape"&&(d==null||d(le.nativeEvent),le.nativeEvent.defaultPrevented||(A.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:nt(n.onPointerDown,le=>{le.button===0&&($.current={x:le.clientX,y:le.clientY})}),onPointerMove:nt(n.onPointerMove,le=>{if(!$.current)return;const Ie=le.clientX-$.current.x,we=le.clientY-$.current.y,ye=!!W.current,K=["left","right"].includes(A.swipeDirection),oe=["left","up"].includes(A.swipeDirection)?Math.min:Math.max,ue=K?oe(0,Ie):0,U=K?0:oe(0,we),X=le.pointerType==="touch"?10:2,ce={x:ue,y:U},xe={originalEvent:le,delta:ce};ye?(W.current=ce,gd(oA,_,xe,{discrete:!1})):V0(ce,A.swipeDirection,X)?(W.current=ce,gd(iA,v,xe,{discrete:!1}),le.target.setPointerCapture(le.pointerId)):(Math.abs(Ie)>X||Math.abs(we)>X)&&($.current=null)}),onPointerUp:nt(n.onPointerUp,le=>{const Ie=W.current,we=le.target;if(we.hasPointerCapture(le.pointerId)&&we.releasePointerCapture(le.pointerId),W.current=null,$.current=null,Ie){const ye=le.currentTarget,K={originalEvent:le,delta:Ie};V0(Ie,A.swipeDirection,A.swipeThreshold)?gd(lA,I,K,{discrete:!0}):gd(aA,w,K,{discrete:!0}),ye.addEventListener("click",oe=>oe.preventDefault(),{once:!0})}})})})}),A.viewport)})]}):null}),hA=n=>{const{__scopeToast:e,children:t,...r}=n,i=Eh(Th,e),[a,u]=C.useState(!1),[d,f]=C.useState(!1);return mA(()=>u(!0)),C.useEffect(()=>{const p=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(p)},[]),d?null:T.jsx(yE,{asChild:!0,children:T.jsx(_h,{...r,children:a&&T.jsxs(T.Fragment,{children:[i.label," ",t]})})})},fA="ToastTitle",CE=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return T.jsx(at.div,{...r,ref:e})});CE.displayName=fA;var pA="ToastDescription",AE=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return T.jsx(at.div,{...r,ref:e})});AE.displayName=pA;var bE="ToastAction",RE=C.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?T.jsx(kE,{altText:t,asChild:!0,children:T.jsx(ig,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${bE}\`. Expected non-empty \`string\`.`),null)});RE.displayName=bE;var PE="ToastClose",ig=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=cA(PE,t);return T.jsx(kE,{asChild:!0,children:T.jsx(at.button,{type:"button",...r,ref:e,onClick:nt(n.onClick,i.onClose)})})});ig.displayName=PE;var kE=C.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return T.jsx(at.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function NE(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),gA(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const u=r.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...NE(r))}}),e}function gd(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?ng(i,a):i.dispatchEvent(a)}var V0=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),a=r>i;return e==="left"||e==="right"?a&&r>t:!a&&i>t};function mA(n=()=>{}){const e=wn(n);_n(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function gA(n){return n.nodeType===n.ELEMENT_NODE}function yA(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Fp(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var vA=EE,OE=xE,DE=IE,ME=CE,LE=AE,VE=RE,jE=ig;function FE(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=FE(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function UE(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=FE(n))&&(r&&(r+=" "),r+=e);return r}const j0=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,F0=UE,og=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return F0(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,u=Object.keys(i).map(p=>{const v=t==null?void 0:t[p],_=a==null?void 0:a[p];if(v===null)return null;const w=j0(v)||j0(_);return i[p][w]}),d=t&&Object.entries(t).reduce((p,v)=>{let[_,w]=v;return w===void 0||(p[_]=w),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,v)=>{let{class:_,className:w,...I}=v;return Object.entries(I).every(R=>{let[A,x]=R;return Array.isArray(x)?x.includes({...a,...d}[A]):{...a,...d}[A]===x})?[...p,_,w]:p},[]);return F0(n,u,f,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zE=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _A={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:u,...d},f)=>C.createElement("svg",{ref:f,..._A,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:zE("lucide",i),...d},[...u.map(([p,v])=>C.createElement(p,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=(n,e)=>{const t=C.forwardRef(({className:r,...i},a)=>C.createElement(EA,{ref:a,iconNode:e,className:zE(`lucide-${wA(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=En("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=En("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=En("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=En("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=En("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=En("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=En("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=En("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=En("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=En("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=En("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=En("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=En("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=En("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=En("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ag="-",PA=n=>{const e=NA(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const d=u.split(ag);return d[0]===""&&d.length!==1&&d.shift(),HE(d,e)||kA(u)},getConflictingClassGroupIds:(u,d)=>{const f=t[u]||[];return d&&r[u]?[...f,...r[u]]:f}}},HE=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?HE(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(ag);return(u=e.validators.find(({validator:d})=>d(a)))==null?void 0:u.classGroupId},U0=/^\[(.+)\]$/,kA=n=>{if(U0.test(n)){const e=U0.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},NA=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return DA(Object.entries(n.classGroups),t).forEach(([a,u])=>{ym(u,r,a,e)}),r},ym=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:z0(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(OA(i)){ym(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,u])=>{ym(u,z0(e,a),t,r)})})},z0=(n,e)=>{let t=n;return e.split(ag).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},OA=n=>n.isThemeGetter,DA=(n,e)=>e?n.map(([t,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,d])=>[e+u,d])):a);return[t,i]}):n,MA=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,u)=>{t.set(a,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let u=t.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return i(a,u),u},set(a,u){t.has(a)?t.set(a,u):i(a,u)}}},qE="!",LA=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],a=e.length,u=d=>{const f=[];let p=0,v=0,_;for(let x=0;x<d.length;x++){let M=d[x];if(p===0){if(M===i&&(r||d.slice(x,x+a)===e)){f.push(d.slice(v,x)),v=x+a;continue}if(M==="/"){_=x;continue}}M==="["?p++:M==="]"&&p--}const w=f.length===0?d:d.substring(v),I=w.startsWith(qE),R=I?w.substring(1):w,A=_&&_>v?_-v:void 0;return{modifiers:f,hasImportantModifier:I,baseClassName:R,maybePostfixModifierPosition:A}};return t?d=>t({className:d,parseClassName:u}):u},VA=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},jA=n=>({cache:MA(n.cacheSize),parseClassName:LA(n),...PA(n)}),FA=/\s+/,UA=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],u=n.trim().split(FA);let d="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{modifiers:v,hasImportantModifier:_,baseClassName:w,maybePostfixModifierPosition:I}=t(p);let R=!!I,A=r(R?w.substring(0,I):w);if(!A){if(!R){d=p+(d.length>0?" "+d:d);continue}if(A=r(w),!A){d=p+(d.length>0?" "+d:d);continue}R=!1}const x=VA(v).join(":"),M=_?x+qE:x,V=M+A;if(a.includes(V))continue;a.push(V);const $=i(A,R);for(let W=0;W<$.length;++W){const Q=$[W];a.push(M+Q)}d=p+(d.length>0?" "+d:d)}return d};function zA(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=GE(e))&&(r&&(r+=" "),r+=t);return r}const GE=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=GE(n[r]))&&(t&&(t+=" "),t+=e);return t};function $A(n,...e){let t,r,i,a=u;function u(f){const p=e.reduce((v,_)=>_(v),n());return t=jA(p),r=t.cache.get,i=t.cache.set,a=d,d(f)}function d(f){const p=r(f);if(p)return p;const v=UA(f,t);return i(f,v),v}return function(){return a(zA.apply(null,arguments))}}const ct=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},KE=/^\[(?:([a-z-]+):)?(.+)\]$/i,BA=/^\d+\/\d+$/,WA=new Set(["px","full","screen"]),HA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,KA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cs=n=>Oa(n)||WA.has(n)||BA.test(n),di=n=>ol(n,"length",rb),Oa=n=>!!n&&!Number.isNaN(Number(n)),Up=n=>ol(n,"number",Oa),ru=n=>!!n&&Number.isInteger(Number(n)),YA=n=>n.endsWith("%")&&Oa(n.slice(0,-1)),Me=n=>KE.test(n),hi=n=>HA.test(n),XA=new Set(["length","size","percentage"]),JA=n=>ol(n,XA,QE),ZA=n=>ol(n,"position",QE),eb=new Set(["image","url"]),tb=n=>ol(n,eb,ib),nb=n=>ol(n,"",sb),su=()=>!0,ol=(n,e,t)=>{const r=KE.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},rb=n=>qA.test(n)&&!GA.test(n),QE=()=>!1,sb=n=>KA.test(n),ib=n=>QA.test(n),ob=()=>{const n=ct("colors"),e=ct("spacing"),t=ct("blur"),r=ct("brightness"),i=ct("borderColor"),a=ct("borderRadius"),u=ct("borderSpacing"),d=ct("borderWidth"),f=ct("contrast"),p=ct("grayscale"),v=ct("hueRotate"),_=ct("invert"),w=ct("gap"),I=ct("gradientColorStops"),R=ct("gradientColorStopPositions"),A=ct("inset"),x=ct("margin"),M=ct("opacity"),V=ct("padding"),$=ct("saturate"),W=ct("scale"),Q=ct("sepia"),Z=ct("skew"),N=ct("space"),P=ct("translate"),k=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Me,e],j=()=>[Me,e],O=()=>["",Cs,di],le=()=>["auto",Oa,Me],Ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],we=()=>["solid","dashed","dotted","double","none"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",Me],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Oa,Me];return{cacheSize:500,separator:":",theme:{colors:[su],spacing:[Cs,di],blur:["none","",hi,Me],brightness:U(),borderColor:[n],borderRadius:["none","","full",hi,Me],borderSpacing:j(),borderWidth:O(),contrast:U(),grayscale:oe(),hueRotate:U(),invert:oe(),gap:j(),gradientColorStops:[n],gradientColorStopPositions:[YA,di],inset:F(),margin:F(),opacity:U(),padding:j(),saturate:U(),scale:U(),sepia:oe(),skew:U(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[hi]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ie(),Me]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[A]}],"inset-x":[{"inset-x":[A]}],"inset-y":[{"inset-y":[A]}],start:[{start:[A]}],end:[{end:[A]}],top:[{top:[A]}],right:[{right:[A]}],bottom:[{bottom:[A]}],left:[{left:[A]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ru,Me]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",ru,Me]}],"grid-cols":[{"grid-cols":[su]}],"col-start-end":[{col:["auto",{span:["full",ru,Me]},Me]}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":[su]}],"row-start-end":[{row:["auto",{span:[ru,Me]},Me]}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[V]}],px:[{px:[V]}],py:[{py:[V]}],ps:[{ps:[V]}],pe:[{pe:[V]}],pt:[{pt:[V]}],pr:[{pr:[V]}],pb:[{pb:[V]}],pl:[{pl:[V]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,e]}],"min-w":[{"min-w":[Me,e,"min","max","fit"]}],"max-w":[{"max-w":[Me,e,"none","full","min","max","fit","prose",{screen:[hi]},hi]}],h:[{h:[Me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",hi,di]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Up]}],"font-family":[{font:[su]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",Oa,Up]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cs,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[M]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cs,di]}],"underline-offset":[{"underline-offset":["auto",Cs,Me]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[M]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ie(),ZA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tb]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[I]}],"gradient-via":[{via:[I]}],"gradient-to":[{to:[I]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[M]}],"border-style":[{border:[...we(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[M]}],"divide-style":[{divide:we()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...we()]}],"outline-offset":[{"outline-offset":[Cs,Me]}],"outline-w":[{outline:[Cs,di]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[M]}],"ring-offset-w":[{"ring-offset":[Cs,di]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",hi,nb]}],"shadow-color":[{shadow:[su]}],opacity:[{opacity:[M]}],"mix-blend":[{"mix-blend":[...ye(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ye()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",hi,Me]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[_]}],saturate:[{saturate:[$]}],sepia:[{sepia:[Q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[_]}],"backdrop-opacity":[{"backdrop-opacity":[M]}],"backdrop-saturate":[{"backdrop-saturate":[$]}],"backdrop-sepia":[{"backdrop-sepia":[Q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[W]}],"scale-x":[{"scale-x":[W]}],"scale-y":[{"scale-y":[W]}],rotate:[{rotate:[ru,Me]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Cs,di,Up]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ab=$A(ob);function ot(...n){return ab(UE(n))}const lb=vA,YE=C.forwardRef(({className:n,...e},t)=>T.jsx(OE,{ref:t,className:ot("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));YE.displayName=OE.displayName;const ub=og("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),XE=C.forwardRef(({className:n,variant:e,...t},r)=>T.jsx(DE,{ref:r,className:ot(ub({variant:e}),n),...t}));XE.displayName=DE.displayName;const cb=C.forwardRef(({className:n,...e},t)=>T.jsx(VE,{ref:t,className:ot("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));cb.displayName=VE.displayName;const JE=C.forwardRef(({className:n,...e},t)=>T.jsx(jE,{ref:t,className:ot("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:T.jsx(WE,{className:"h-4 w-4"})}));JE.displayName=jE.displayName;const ZE=C.forwardRef(({className:n,...e},t)=>T.jsx(ME,{ref:t,className:ot("text-sm font-semibold",n),...e}));ZE.displayName=ME.displayName;const eT=C.forwardRef(({className:n,...e},t)=>T.jsx(LE,{ref:t,className:ot("text-sm opacity-90",n),...e}));eT.displayName=LE.displayName;function db(){const{toasts:n}=Vu();return T.jsxs(lb,{children:[n.map(function({id:e,title:t,description:r,action:i,...a}){return T.jsxs(XE,{...a,children:[T.jsxs("div",{className:"grid gap-1",children:[t&&T.jsx(ZE,{children:t}),r&&T.jsx(eT,{children:r})]}),i,T.jsx(JE,{})]},e)}),T.jsx(YE,{})]})}var yd={},$0;function hb(){if($0)return yd;$0=1;var n=uE();return yd.createRoot=n.createRoot,yd.hydrateRoot=n.hydrateRoot,yd}var fb=hb(),B0=["light","dark"],pb="(prefers-color-scheme: dark)",mb=C.createContext(void 0),gb={setTheme:n=>{},themes:[]},yb=()=>{var n;return(n=C.useContext(mb))!=null?n:gb};C.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:u,attrs:d,nonce:f})=>{let p=a==="system",v=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${d.map(R=>`'${R}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,_=i?B0.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",w=(R,A=!1,x=!0)=>{let M=u?u[R]:R,V=A?R+"|| ''":`'${M}'`,$="";return i&&x&&!A&&B0.includes(R)&&($+=`d.style.colorScheme = '${R}';`),t==="class"?A||M?$+=`c.add(${V})`:$+="null":M&&($+=`d[s](n,${V})`),$},I=n?`!function(){${v}${w(n)}}()`:r?`!function(){try{${v}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${p})){var t='${pb}',m=window.matchMedia(t);if(m.media!==t||m.matches){${w("dark")}}else{${w("light")}}}else if(e){${u?`var x=${JSON.stringify(u)};`:""}${w(u?"x[e]":"e",!0)}}${p?"":"else{"+w(a,!1,!1)+"}"}${_}}catch(e){}}()`:`!function(){try{${v}var e=localStorage.getItem('${e}');if(e){${u?`var x=${JSON.stringify(u)};`:""}${w(u?"x[e]":"e",!0)}}else{${w(a,!1,!1)};}${_}}catch(t){}}();`;return C.createElement("script",{nonce:f,dangerouslySetInnerHTML:{__html:I}})});var vb=n=>{switch(n){case"success":return Eb;case"info":return xb;case"warning":return Tb;case"error":return Sb;default:return null}},wb=Array(12).fill(0),_b=({visible:n})=>he.createElement("div",{className:"sonner-loading-wrapper","data-visible":n},he.createElement("div",{className:"sonner-spinner"},wb.map((e,t)=>he.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),Eb=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Tb=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xb=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Sb=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ib=()=>{let[n,e]=he.useState(document.hidden);return he.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},vm=1,Cb=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:vm++,u=this.toasts.find(f=>f.id===a),d=e.dismissible===void 0?!0:e.dismissible;return u?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:r}),{...f,...e,id:a,dismissible:d,title:r}):f):this.addToast({title:r,...i,dismissible:d,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let i=e instanceof Promise?e:e(),a=r!==void 0;return i.then(async u=>{if(bb(u)&&!u.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${u.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${u.status}`):t.description;this.create({id:r,type:"error",message:d,description:f})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(u):t.success,f=typeof t.description=="function"?await t.description(u):t.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async u=>{if(t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(u):t.error,f=typeof t.description=="function"?await t.description(u):t.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var u;a&&(this.dismiss(r),r=void 0),(u=t.finally)==null||u.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||vm++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Hn=new Cb,Ab=(n,e)=>{let t=(e==null?void 0:e.id)||vm++;return Hn.addToast({title:n,...e,id:t}),t},bb=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Rb=Ab,Pb=()=>Hn.toasts;Object.assign(Rb,{success:Hn.success,info:Hn.info,warning:Hn.warning,error:Hn.error,custom:Hn.custom,message:Hn.message,promise:Hn.promise,dismiss:Hn.dismiss,loading:Hn.loading},{getHistory:Pb});function kb(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}kb(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function vd(n){return n.label!==void 0}var Nb=3,Ob="32px",Db=4e3,Mb=356,Lb=14,Vb=20,jb=200;function Fb(...n){return n.filter(Boolean).join(" ")}var Ub=n=>{var e,t,r,i,a,u,d,f,p,v;let{invert:_,toast:w,unstyled:I,interacting:R,setHeights:A,visibleToasts:x,heights:M,index:V,toasts:$,expanded:W,removeToast:Q,defaultRichColors:Z,closeButton:N,style:P,cancelButtonStyle:k,actionButtonStyle:L,className:F="",descriptionClassName:j="",duration:O,position:le,gap:Ie,loadingIcon:we,expandByDefault:ye,classNames:K,icons:oe,closeButtonAriaLabel:ue="Close toast",pauseWhenPageIsHidden:U,cn:X}=n,[ce,xe]=he.useState(!1),[Pe,Te]=he.useState(!1),[Fe,Le]=he.useState(!1),[Be,et]=he.useState(!1),[Tn,Mn]=he.useState(0),[Xt,Ln]=he.useState(0),ur=he.useRef(null),xn=he.useRef(null),us=V===0,js=V+1<=x,ft=w.type,Jt=w.dismissible!==!1,cr=w.className||"",Gi=w.descriptionClassName||"",dr=he.useMemo(()=>M.findIndex(be=>be.toastId===w.id)||0,[M,w.id]),Fs=he.useMemo(()=>{var be;return(be=w.closeButton)!=null?be:N},[w.closeButton,N]),Us=he.useMemo(()=>w.duration||O||Db,[w.duration,O]),gt=he.useRef(0),rt=he.useRef(0),Qn=he.useRef(0),Yn=he.useRef(null),[hr,cs]=le.split("-"),jr=he.useMemo(()=>M.reduce((be,Qe,Ge)=>Ge>=dr?be:be+Qe.height,0),[M,dr]),zs=Ib(),Ki=w.invert||_,ds=ft==="loading";rt.current=he.useMemo(()=>dr*Ie+jr,[dr,jr]),he.useEffect(()=>{xe(!0)},[]),he.useLayoutEffect(()=>{if(!ce)return;let be=xn.current,Qe=be.style.height;be.style.height="auto";let Ge=be.getBoundingClientRect().height;be.style.height=Qe,Ln(Ge),A(yt=>yt.find(xt=>xt.toastId===w.id)?yt.map(xt=>xt.toastId===w.id?{...xt,height:Ge}:xt):[{toastId:w.id,height:Ge,position:w.position},...yt])},[ce,w.title,w.description,A,w.id]);let Sn=he.useCallback(()=>{Te(!0),Mn(rt.current),A(be=>be.filter(Qe=>Qe.toastId!==w.id)),setTimeout(()=>{Q(w)},jb)},[w,Q,A,rt]);he.useEffect(()=>{if(w.promise&&ft==="loading"||w.duration===1/0||w.type==="loading")return;let be,Qe=Us;return W||R||U&&zs?(()=>{if(Qn.current<gt.current){let Ge=new Date().getTime()-gt.current;Qe=Qe-Ge}Qn.current=new Date().getTime()})():Qe!==1/0&&(gt.current=new Date().getTime(),be=setTimeout(()=>{var Ge;(Ge=w.onAutoClose)==null||Ge.call(w,w),Sn()},Qe)),()=>clearTimeout(be)},[W,R,ye,w,Us,Sn,w.promise,ft,U,zs]),he.useEffect(()=>{let be=xn.current;if(be){let Qe=be.getBoundingClientRect().height;return Ln(Qe),A(Ge=>[{toastId:w.id,height:Qe,position:w.position},...Ge]),()=>A(Ge=>Ge.filter(yt=>yt.toastId!==w.id))}},[A,w.id]),he.useEffect(()=>{w.delete&&Sn()},[Sn,w.delete]);function Qi(){return oe!=null&&oe.loading?he.createElement("div",{className:"sonner-loader","data-visible":ft==="loading"},oe.loading):we?he.createElement("div",{className:"sonner-loader","data-visible":ft==="loading"},we):he.createElement(_b,{visible:ft==="loading"})}return he.createElement("li",{"aria-live":w.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:xn,className:X(F,cr,K==null?void 0:K.toast,(e=w==null?void 0:w.classNames)==null?void 0:e.toast,K==null?void 0:K.default,K==null?void 0:K[ft],(t=w==null?void 0:w.classNames)==null?void 0:t[ft]),"data-sonner-toast":"","data-rich-colors":(r=w.richColors)!=null?r:Z,"data-styled":!(w.jsx||w.unstyled||I),"data-mounted":ce,"data-promise":!!w.promise,"data-removed":Pe,"data-visible":js,"data-y-position":hr,"data-x-position":cs,"data-index":V,"data-front":us,"data-swiping":Fe,"data-dismissible":Jt,"data-type":ft,"data-invert":Ki,"data-swipe-out":Be,"data-expanded":!!(W||ye&&ce),style:{"--index":V,"--toasts-before":V,"--z-index":$.length-V,"--offset":`${Pe?Tn:rt.current}px`,"--initial-height":ye?"auto":`${Xt}px`,...P,...w.style},onPointerDown:be=>{ds||!Jt||(ur.current=new Date,Mn(rt.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(Le(!0),Yn.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,Qe,Ge,yt;if(Be||!Jt)return;Yn.current=null;let xt=Number(((be=xn.current)==null?void 0:be.style.getPropertyValue("--swipe-amount").replace("px",""))||0),fr=new Date().getTime()-((Qe=ur.current)==null?void 0:Qe.getTime()),Xn=Math.abs(xt)/fr;if(Math.abs(xt)>=Vb||Xn>.11){Mn(rt.current),(Ge=w.onDismiss)==null||Ge.call(w,w),Sn(),et(!0);return}(yt=xn.current)==null||yt.style.setProperty("--swipe-amount","0px"),Le(!1)},onPointerMove:be=>{var Qe;if(!Yn.current||!Jt)return;let Ge=be.clientY-Yn.current.y,yt=be.clientX-Yn.current.x,xt=(hr==="top"?Math.min:Math.max)(0,Ge),fr=be.pointerType==="touch"?10:2;Math.abs(xt)>fr?(Qe=xn.current)==null||Qe.style.setProperty("--swipe-amount",`${Ge}px`):Math.abs(yt)>fr&&(Yn.current=null)}},Fs&&!w.jsx?he.createElement("button",{"aria-label":ue,"data-disabled":ds,"data-close-button":!0,onClick:ds||!Jt?()=>{}:()=>{var be;Sn(),(be=w.onDismiss)==null||be.call(w,w)},className:X(K==null?void 0:K.closeButton,(i=w==null?void 0:w.classNames)==null?void 0:i.closeButton)},he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},he.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),he.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,w.jsx||he.isValidElement(w.title)?w.jsx||w.title:he.createElement(he.Fragment,null,ft||w.icon||w.promise?he.createElement("div",{"data-icon":"",className:X(K==null?void 0:K.icon,(a=w==null?void 0:w.classNames)==null?void 0:a.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||Qi():null,w.type!=="loading"?w.icon||(oe==null?void 0:oe[ft])||vb(ft):null):null,he.createElement("div",{"data-content":"",className:X(K==null?void 0:K.content,(u=w==null?void 0:w.classNames)==null?void 0:u.content)},he.createElement("div",{"data-title":"",className:X(K==null?void 0:K.title,(d=w==null?void 0:w.classNames)==null?void 0:d.title)},w.title),w.description?he.createElement("div",{"data-description":"",className:X(j,Gi,K==null?void 0:K.description,(f=w==null?void 0:w.classNames)==null?void 0:f.description)},w.description):null),he.isValidElement(w.cancel)?w.cancel:w.cancel&&vd(w.cancel)?he.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||k,onClick:be=>{var Qe,Ge;vd(w.cancel)&&Jt&&((Ge=(Qe=w.cancel).onClick)==null||Ge.call(Qe,be),Sn())},className:X(K==null?void 0:K.cancelButton,(p=w==null?void 0:w.classNames)==null?void 0:p.cancelButton)},w.cancel.label):null,he.isValidElement(w.action)?w.action:w.action&&vd(w.action)?he.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||L,onClick:be=>{var Qe,Ge;vd(w.action)&&(be.defaultPrevented||((Ge=(Qe=w.action).onClick)==null||Ge.call(Qe,be),Sn()))},className:X(K==null?void 0:K.actionButton,(v=w==null?void 0:w.classNames)==null?void 0:v.actionButton)},w.action.label):null))};function W0(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}var zb=n=>{let{invert:e,position:t="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:a,className:u,offset:d,theme:f="light",richColors:p,duration:v,style:_,visibleToasts:w=Nb,toastOptions:I,dir:R=W0(),gap:A=Lb,loadingIcon:x,icons:M,containerAriaLabel:V="Notifications",pauseWhenPageIsHidden:$,cn:W=Fb}=n,[Q,Z]=he.useState([]),N=he.useMemo(()=>Array.from(new Set([t].concat(Q.filter(U=>U.position).map(U=>U.position)))),[Q,t]),[P,k]=he.useState([]),[L,F]=he.useState(!1),[j,O]=he.useState(!1),[le,Ie]=he.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),we=he.useRef(null),ye=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=he.useRef(null),oe=he.useRef(!1),ue=he.useCallback(U=>{var X;(X=Q.find(ce=>ce.id===U.id))!=null&&X.delete||Hn.dismiss(U.id),Z(ce=>ce.filter(({id:xe})=>xe!==U.id))},[Q]);return he.useEffect(()=>Hn.subscribe(U=>{if(U.dismiss){Z(X=>X.map(ce=>ce.id===U.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{tg.flushSync(()=>{Z(X=>{let ce=X.findIndex(xe=>xe.id===U.id);return ce!==-1?[...X.slice(0,ce),{...X[ce],...U},...X.slice(ce+1)]:[U,...X]})})})}),[]),he.useEffect(()=>{if(f!=="system"){Ie(f);return}f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ie("dark"):Ie("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:U})=>{Ie(U?"dark":"light")})},[f]),he.useEffect(()=>{Q.length<=1&&F(!1)},[Q]),he.useEffect(()=>{let U=X=>{var ce,xe;r.every(Pe=>X[Pe]||X.code===Pe)&&(F(!0),(ce=we.current)==null||ce.focus()),X.code==="Escape"&&(document.activeElement===we.current||(xe=we.current)!=null&&xe.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[r]),he.useEffect(()=>{if(we.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,oe.current=!1)}},[we.current]),Q.length?he.createElement("section",{"aria-label":`${V} ${ye}`,tabIndex:-1},N.map((U,X)=>{var ce;let[xe,Pe]=U.split("-");return he.createElement("ol",{key:U,dir:R==="auto"?W0():R,tabIndex:-1,ref:we,className:u,"data-sonner-toaster":!0,"data-theme":le,"data-y-position":xe,"data-x-position":Pe,style:{"--front-toast-height":`${((ce=P[0])==null?void 0:ce.height)||0}px`,"--offset":typeof d=="number"?`${d}px`:d||Ob,"--width":`${Mb}px`,"--gap":`${A}px`,..._},onBlur:Te=>{oe.current&&!Te.currentTarget.contains(Te.relatedTarget)&&(oe.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,K.current=Te.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{j||F(!1)},onPointerDown:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},Q.filter(Te=>!Te.position&&X===0||Te.position===U).map((Te,Fe)=>{var Le,Be;return he.createElement(Ub,{key:Te.id,icons:M,index:Fe,toast:Te,defaultRichColors:p,duration:(Le=I==null?void 0:I.duration)!=null?Le:v,className:I==null?void 0:I.className,descriptionClassName:I==null?void 0:I.descriptionClassName,invert:e,visibleToasts:w,closeButton:(Be=I==null?void 0:I.closeButton)!=null?Be:a,interacting:j,position:U,style:I==null?void 0:I.style,unstyled:I==null?void 0:I.unstyled,classNames:I==null?void 0:I.classNames,cancelButtonStyle:I==null?void 0:I.cancelButtonStyle,actionButtonStyle:I==null?void 0:I.actionButtonStyle,removeToast:ue,toasts:Q.filter(et=>et.position==Te.position),heights:P.filter(et=>et.position==Te.position),setHeights:k,expandByDefault:i,gap:A,loadingIcon:x,expanded:L,pauseWhenPageIsHidden:$,cn:W})}))})):null};const $b=({...n})=>{const{theme:e="system"}=yb();return T.jsx(zb,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};function Bb(n,e=[]){let t=[];function r(a,u){const d=C.createContext(u),f=t.length;t=[...t,u];const p=_=>{var M;const{scope:w,children:I,...R}=_,A=((M=w==null?void 0:w[n])==null?void 0:M[f])||d,x=C.useMemo(()=>R,Object.values(R));return T.jsx(A.Provider,{value:x,children:I})};p.displayName=a+"Provider";function v(_,w){var A;const I=((A=w==null?void 0:w[n])==null?void 0:A[f])||d,R=C.useContext(I);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${a}\``)}return[p,v]}const i=()=>{const a=t.map(u=>C.createContext(u));return function(d){const f=(d==null?void 0:d[n])||a;return C.useMemo(()=>({[`__scope${n}`]:{...d,[n]:f}}),[d,f])}};return i.scopeName=n,[r,Wb(i,...e)]}function Wb(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=r.reduce((d,{useScope:f,scopeName:p})=>{const _=f(a)[`__scope${p}`];return{...d,..._}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}var Hb="DismissableLayer",wm="dismissableLayer.update",qb="dismissableLayer.pointerDownOutside",Gb="dismissableLayer.focusOutside",H0,tT=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lg=C.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...f}=n,p=C.useContext(tT),[v,_]=C.useState(null),w=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,I]=C.useState({}),R=jt(e,N=>_(N)),A=Array.from(p.layers),[x]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),M=A.indexOf(x),V=v?A.indexOf(v):-1,$=p.layersWithOutsidePointerEventsDisabled.size>0,W=V>=M,Q=Yb(N=>{const P=N.target,k=[...p.branches].some(L=>L.contains(P));!W||k||(i==null||i(N),u==null||u(N),N.defaultPrevented||d==null||d())},w),Z=Xb(N=>{const P=N.target;[...p.branches].some(L=>L.contains(P))||(a==null||a(N),u==null||u(N),N.defaultPrevented||d==null||d())},w);return hE(N=>{V===p.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&d&&(N.preventDefault(),d()))},w),C.useEffect(()=>{if(v)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(H0=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),q0(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=H0)}},[v,w,t,p]),C.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),q0())},[v,p]),C.useEffect(()=>{const N=()=>I({});return document.addEventListener(wm,N),()=>document.removeEventListener(wm,N)},[]),T.jsx(at.div,{...f,ref:R,style:{pointerEvents:$?W?"auto":"none":void 0,...n.style},onFocusCapture:nt(n.onFocusCapture,Z.onFocusCapture),onBlurCapture:nt(n.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:nt(n.onPointerDownCapture,Q.onPointerDownCapture)})});lg.displayName=Hb;var Kb="DismissableLayerBranch",Qb=C.forwardRef((n,e)=>{const t=C.useContext(tT),r=C.useRef(null),i=jt(e,r);return C.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),T.jsx(at.div,{...n,ref:i})});Qb.displayName=Kb;function Yb(n,e=globalThis==null?void 0:globalThis.document){const t=wn(n),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const a=d=>{if(d.target&&!r.current){let f=function(){nT(qb,t,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Xb(n,e=globalThis==null?void 0:globalThis.document){const t=wn(n),r=C.useRef(!1);return C.useEffect(()=>{const i=a=>{a.target&&!r.current&&nT(Gb,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function q0(){const n=new CustomEvent(wm);document.dispatchEvent(n)}function nT(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?ng(i,a):i.dispatchEvent(a)}var Jb=lE.useId||(()=>{}),Zb=0;function zp(n){const[e,t]=C.useState(Jb());return _n(()=>{t(r=>r??String(Zb++))},[n]),n||(e?`radix-${e}`:"")}const eR=["top","right","bottom","left"],Oi=Math.min,qn=Math.max,Qd=Math.round,wd=Math.floor,Di=n=>({x:n,y:n}),tR={left:"right",right:"left",bottom:"top",top:"bottom"},nR={start:"end",end:"start"};function _m(n,e,t){return qn(n,Oi(e,t))}function ks(n,e){return typeof n=="function"?n(e):n}function Ns(n){return n.split("-")[0]}function al(n){return n.split("-")[1]}function ug(n){return n==="x"?"y":"x"}function cg(n){return n==="y"?"height":"width"}function Mi(n){return["top","bottom"].includes(Ns(n))?"y":"x"}function dg(n){return ug(Mi(n))}function rR(n,e,t){t===void 0&&(t=!1);const r=al(n),i=dg(n),a=cg(i);let u=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=Yd(u)),[u,Yd(u)]}function sR(n){const e=Yd(n);return[Em(n),e,Em(e)]}function Em(n){return n.replace(/start|end/g,e=>nR[e])}function iR(n,e,t){const r=["left","right"],i=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?a:u;default:return[]}}function oR(n,e,t,r){const i=al(n);let a=iR(Ns(n),t==="start",r);return i&&(a=a.map(u=>u+"-"+i),e&&(a=a.concat(a.map(Em)))),a}function Yd(n){return n.replace(/left|right|bottom|top/g,e=>tR[e])}function aR(n){return{top:0,right:0,bottom:0,left:0,...n}}function rT(n){return typeof n!="number"?aR(n):{top:n,right:n,bottom:n,left:n}}function Xd(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function G0(n,e,t){let{reference:r,floating:i}=n;const a=Mi(e),u=dg(e),d=cg(u),f=Ns(e),p=a==="y",v=r.x+r.width/2-i.width/2,_=r.y+r.height/2-i.height/2,w=r[d]/2-i[d]/2;let I;switch(f){case"top":I={x:v,y:r.y-i.height};break;case"bottom":I={x:v,y:r.y+r.height};break;case"right":I={x:r.x+r.width,y:_};break;case"left":I={x:r.x-i.width,y:_};break;default:I={x:r.x,y:r.y}}switch(al(e)){case"start":I[u]-=w*(t&&p?-1:1);break;case"end":I[u]+=w*(t&&p?-1:1);break}return I}const lR=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:u}=t,d=a.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:n,floating:e,strategy:i}),{x:v,y:_}=G0(p,r,f),w=r,I={},R=0;for(let A=0;A<d.length;A++){const{name:x,fn:M}=d[A],{x:V,y:$,data:W,reset:Q}=await M({x:v,y:_,initialPlacement:r,placement:w,strategy:i,middlewareData:I,rects:p,platform:u,elements:{reference:n,floating:e}});v=V??v,_=$??_,I={...I,[x]:{...I[x],...W}},Q&&R<=50&&(R++,typeof Q=="object"&&(Q.placement&&(w=Q.placement),Q.rects&&(p=Q.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:i}):Q.rects),{x:v,y:_}=G0(p,w,f)),A=-1)}return{x:v,y:_,placement:w,strategy:i,middlewareData:I}};async function vu(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:u,elements:d,strategy:f}=n,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:w=!1,padding:I=0}=ks(e,n),R=rT(I),x=d[w?_==="floating"?"reference":"floating":_],M=Xd(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(x)))==null||t?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:p,rootBoundary:v,strategy:f})),V=_==="floating"?{x:r,y:i,width:u.floating.width,height:u.floating.height}:u.reference,$=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),W=await(a.isElement==null?void 0:a.isElement($))?await(a.getScale==null?void 0:a.getScale($))||{x:1,y:1}:{x:1,y:1},Q=Xd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:V,offsetParent:$,strategy:f}):V);return{top:(M.top-Q.top+R.top)/W.y,bottom:(Q.bottom-M.bottom+R.bottom)/W.y,left:(M.left-Q.left+R.left)/W.x,right:(Q.right-M.right+R.right)/W.x}}const uR=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:u,elements:d,middlewareData:f}=e,{element:p,padding:v=0}=ks(n,e)||{};if(p==null)return{};const _=rT(v),w={x:t,y:r},I=dg(i),R=cg(I),A=await u.getDimensions(p),x=I==="y",M=x?"top":"left",V=x?"bottom":"right",$=x?"clientHeight":"clientWidth",W=a.reference[R]+a.reference[I]-w[I]-a.floating[R],Q=w[I]-a.reference[I],Z=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let N=Z?Z[$]:0;(!N||!await(u.isElement==null?void 0:u.isElement(Z)))&&(N=d.floating[$]||a.floating[R]);const P=W/2-Q/2,k=N/2-A[R]/2-1,L=Oi(_[M],k),F=Oi(_[V],k),j=L,O=N-A[R]-F,le=N/2-A[R]/2+P,Ie=_m(j,le,O),we=!f.arrow&&al(i)!=null&&le!==Ie&&a.reference[R]/2-(le<j?L:F)-A[R]/2<0,ye=we?le<j?le-j:le-O:0;return{[I]:w[I]+ye,data:{[I]:Ie,centerOffset:le-Ie-ye,...we&&{alignmentOffset:ye}},reset:we}}}),cR=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:a,rects:u,initialPlacement:d,platform:f,elements:p}=e,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:w,fallbackStrategy:I="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:A=!0,...x}=ks(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const M=Ns(i),V=Mi(d),$=Ns(d)===d,W=await(f.isRTL==null?void 0:f.isRTL(p.floating)),Q=w||($||!A?[Yd(d)]:sR(d)),Z=R!=="none";!w&&Z&&Q.push(...oR(d,A,R,W));const N=[d,...Q],P=await vu(e,x),k=[];let L=((r=a.flip)==null?void 0:r.overflows)||[];if(v&&k.push(P[M]),_){const le=rR(i,u,W);k.push(P[le[0]],P[le[1]])}if(L=[...L,{placement:i,overflows:k}],!k.every(le=>le<=0)){var F,j;const le=(((F=a.flip)==null?void 0:F.index)||0)+1,Ie=N[le];if(Ie)return{data:{index:le,overflows:L},reset:{placement:Ie}};let we=(j=L.filter(ye=>ye.overflows[0]<=0).sort((ye,K)=>ye.overflows[1]-K.overflows[1])[0])==null?void 0:j.placement;if(!we)switch(I){case"bestFit":{var O;const ye=(O=L.filter(K=>{if(Z){const oe=Mi(K.placement);return oe===V||oe==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(oe=>oe>0).reduce((oe,ue)=>oe+ue,0)]).sort((K,oe)=>K[1]-oe[1])[0])==null?void 0:O[0];ye&&(we=ye);break}case"initialPlacement":we=d;break}if(i!==we)return{reset:{placement:we}}}return{}}}};function K0(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Q0(n){return eR.some(e=>n[e]>=0)}const dR=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=ks(n,e);switch(r){case"referenceHidden":{const a=await vu(e,{...i,elementContext:"reference"}),u=K0(a,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Q0(u)}}}case"escaped":{const a=await vu(e,{...i,altBoundary:!0}),u=K0(a,t.floating);return{data:{escapedOffsets:u,escaped:Q0(u)}}}default:return{}}}}};async function hR(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),u=Ns(t),d=al(t),f=Mi(t)==="y",p=["left","top"].includes(u)?-1:1,v=a&&f?-1:1,_=ks(e,n);let{mainAxis:w,crossAxis:I,alignmentAxis:R}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return d&&typeof R=="number"&&(I=d==="end"?R*-1:R),f?{x:I*v,y:w*p}:{x:w*p,y:I*v}}const fR=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:a,placement:u,middlewareData:d}=e,f=await hR(e,n);return u===((t=d.offset)==null?void 0:t.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:a+f.y,data:{...f,placement:u}}}}},pR=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:d={fn:x=>{let{x:M,y:V}=x;return{x:M,y:V}}},...f}=ks(n,e),p={x:t,y:r},v=await vu(e,f),_=Mi(Ns(i)),w=ug(_);let I=p[w],R=p[_];if(a){const x=w==="y"?"top":"left",M=w==="y"?"bottom":"right",V=I+v[x],$=I-v[M];I=_m(V,I,$)}if(u){const x=_==="y"?"top":"left",M=_==="y"?"bottom":"right",V=R+v[x],$=R-v[M];R=_m(V,R,$)}const A=d.fn({...e,[w]:I,[_]:R});return{...A,data:{x:A.x-t,y:A.y-r,enabled:{[w]:a,[_]:u}}}}}},mR=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:a,middlewareData:u}=e,{offset:d=0,mainAxis:f=!0,crossAxis:p=!0}=ks(n,e),v={x:t,y:r},_=Mi(i),w=ug(_);let I=v[w],R=v[_];const A=ks(d,e),x=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(f){const $=w==="y"?"height":"width",W=a.reference[w]-a.floating[$]+x.mainAxis,Q=a.reference[w]+a.reference[$]-x.mainAxis;I<W?I=W:I>Q&&(I=Q)}if(p){var M,V;const $=w==="y"?"width":"height",W=["top","left"].includes(Ns(i)),Q=a.reference[_]-a.floating[$]+(W&&((M=u.offset)==null?void 0:M[_])||0)+(W?0:x.crossAxis),Z=a.reference[_]+a.reference[$]+(W?0:((V=u.offset)==null?void 0:V[_])||0)-(W?x.crossAxis:0);R<Q?R=Q:R>Z&&(R=Z)}return{[w]:I,[_]:R}}}},gR=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:a,platform:u,elements:d}=e,{apply:f=()=>{},...p}=ks(n,e),v=await vu(e,p),_=Ns(i),w=al(i),I=Mi(i)==="y",{width:R,height:A}=a.floating;let x,M;_==="top"||_==="bottom"?(x=_,M=w===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(M=_,x=w==="end"?"top":"bottom");const V=A-v.top-v.bottom,$=R-v.left-v.right,W=Oi(A-v[x],V),Q=Oi(R-v[M],$),Z=!e.middlewareData.shift;let N=W,P=Q;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(P=$),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=V),Z&&!w){const L=qn(v.left,0),F=qn(v.right,0),j=qn(v.top,0),O=qn(v.bottom,0);I?P=R-2*(L!==0||F!==0?L+F:qn(v.left,v.right)):N=A-2*(j!==0||O!==0?j+O:qn(v.top,v.bottom))}await f({...e,availableWidth:P,availableHeight:N});const k=await u.getDimensions(d.floating);return R!==k.width||A!==k.height?{reset:{rects:!0}}:{}}}};function xh(){return typeof window<"u"}function ll(n){return sT(n)?(n.nodeName||"").toLowerCase():"#document"}function Kn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ls(n){var e;return(e=(sT(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function sT(n){return xh()?n instanceof Node||n instanceof Kn(n).Node:!1}function Mr(n){return xh()?n instanceof Element||n instanceof Kn(n).Element:!1}function ss(n){return xh()?n instanceof HTMLElement||n instanceof Kn(n).HTMLElement:!1}function Y0(n){return!xh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Kn(n).ShadowRoot}function Fu(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Lr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function yR(n){return["table","td","th"].includes(ll(n))}function Sh(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function hg(n){const e=fg(),t=Mr(n)?Lr(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function vR(n){let e=Li(n);for(;ss(e)&&!Xa(e);){if(hg(e))return e;if(Sh(e))return null;e=Li(e)}return null}function fg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xa(n){return["html","body","#document"].includes(ll(n))}function Lr(n){return Kn(n).getComputedStyle(n)}function Ih(n){return Mr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Li(n){if(ll(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Y0(n)&&n.host||ls(n);return Y0(e)?e.host:e}function iT(n){const e=Li(n);return Xa(e)?n.ownerDocument?n.ownerDocument.body:n.body:ss(e)&&Fu(e)?e:iT(e)}function wu(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=iT(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),u=Kn(i);if(a){const d=Tm(u);return e.concat(u,u.visualViewport||[],Fu(i)?i:[],d&&t?wu(d):[])}return e.concat(i,wu(i,[],t))}function Tm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function oT(n){const e=Lr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ss(n),a=i?n.offsetWidth:t,u=i?n.offsetHeight:r,d=Qd(t)!==a||Qd(r)!==u;return d&&(t=a,r=u),{width:t,height:r,$:d}}function pg(n){return Mr(n)?n:n.contextElement}function Da(n){const e=pg(n);if(!ss(e))return Di(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=oT(e);let u=(a?Qd(t.width):t.width)/r,d=(a?Qd(t.height):t.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const wR=Di(0);function aT(n){const e=Kn(n);return!fg()||!e.visualViewport?wR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _R(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Kn(n)?!1:e}function ko(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=pg(n);let u=Di(1);e&&(r?Mr(r)&&(u=Da(r)):u=Da(n));const d=_R(a,t,r)?aT(a):Di(0);let f=(i.left+d.x)/u.x,p=(i.top+d.y)/u.y,v=i.width/u.x,_=i.height/u.y;if(a){const w=Kn(a),I=r&&Mr(r)?Kn(r):r;let R=w,A=Tm(R);for(;A&&r&&I!==R;){const x=Da(A),M=A.getBoundingClientRect(),V=Lr(A),$=M.left+(A.clientLeft+parseFloat(V.paddingLeft))*x.x,W=M.top+(A.clientTop+parseFloat(V.paddingTop))*x.y;f*=x.x,p*=x.y,v*=x.x,_*=x.y,f+=$,p+=W,R=Kn(A),A=Tm(R)}}return Xd({width:v,height:_,x:f,y:p})}function ER(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const a=i==="fixed",u=ls(r),d=e?Sh(e.floating):!1;if(r===u||d&&a)return t;let f={scrollLeft:0,scrollTop:0},p=Di(1);const v=Di(0),_=ss(r);if((_||!_&&!a)&&((ll(r)!=="body"||Fu(u))&&(f=Ih(r)),ss(r))){const w=ko(r);p=Da(r),v.x=w.x+r.clientLeft,v.y=w.y+r.clientTop}return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-f.scrollLeft*p.x+v.x,y:t.y*p.y-f.scrollTop*p.y+v.y}}function TR(n){return Array.from(n.getClientRects())}function xm(n,e){const t=Ih(n).scrollLeft;return e?e.left+t:ko(ls(n)).left+t}function xR(n){const e=ls(n),t=Ih(n),r=n.ownerDocument.body,i=qn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=qn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+xm(n);const d=-t.scrollTop;return Lr(r).direction==="rtl"&&(u+=qn(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:u,y:d}}function SR(n,e){const t=Kn(n),r=ls(n),i=t.visualViewport;let a=r.clientWidth,u=r.clientHeight,d=0,f=0;if(i){a=i.width,u=i.height;const p=fg();(!p||p&&e==="fixed")&&(d=i.offsetLeft,f=i.offsetTop)}return{width:a,height:u,x:d,y:f}}function IR(n,e){const t=ko(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=ss(n)?Da(n):Di(1),u=n.clientWidth*a.x,d=n.clientHeight*a.y,f=i*a.x,p=r*a.y;return{width:u,height:d,x:f,y:p}}function X0(n,e,t){let r;if(e==="viewport")r=SR(n,t);else if(e==="document")r=xR(ls(n));else if(Mr(e))r=IR(e,t);else{const i=aT(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return Xd(r)}function lT(n,e){const t=Li(n);return t===e||!Mr(t)||Xa(t)?!1:Lr(t).position==="fixed"||lT(t,e)}function CR(n,e){const t=e.get(n);if(t)return t;let r=wu(n,[],!1).filter(d=>Mr(d)&&ll(d)!=="body"),i=null;const a=Lr(n).position==="fixed";let u=a?Li(n):n;for(;Mr(u)&&!Xa(u);){const d=Lr(u),f=hg(u);!f&&d.position==="fixed"&&(i=null),(a?!f&&!i:!f&&d.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Fu(u)&&!f&&lT(n,u))?r=r.filter(v=>v!==u):i=d,u=Li(u)}return e.set(n,r),r}function AR(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const u=[...t==="clippingAncestors"?Sh(e)?[]:CR(e,this._c):[].concat(t),r],d=u[0],f=u.reduce((p,v)=>{const _=X0(e,v,i);return p.top=qn(_.top,p.top),p.right=Oi(_.right,p.right),p.bottom=Oi(_.bottom,p.bottom),p.left=qn(_.left,p.left),p},X0(e,d,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function bR(n){const{width:e,height:t}=oT(n);return{width:e,height:t}}function RR(n,e,t){const r=ss(e),i=ls(e),a=t==="fixed",u=ko(n,!0,a,e);let d={scrollLeft:0,scrollTop:0};const f=Di(0);if(r||!r&&!a)if((ll(e)!=="body"||Fu(i))&&(d=Ih(e)),r){const I=ko(e,!0,a,e);f.x=I.x+e.clientLeft,f.y=I.y+e.clientTop}else i&&(f.x=xm(i));let p=0,v=0;if(i&&!r&&!a){const I=i.getBoundingClientRect();v=I.top+d.scrollTop,p=I.left+d.scrollLeft-xm(i,I)}const _=u.left+d.scrollLeft-f.x-p,w=u.top+d.scrollTop-f.y-v;return{x:_,y:w,width:u.width,height:u.height}}function $p(n){return Lr(n).position==="static"}function J0(n,e){if(!ss(n)||Lr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ls(n)===t&&(t=t.ownerDocument.body),t}function uT(n,e){const t=Kn(n);if(Sh(n))return t;if(!ss(n)){let i=Li(n);for(;i&&!Xa(i);){if(Mr(i)&&!$p(i))return i;i=Li(i)}return t}let r=J0(n,e);for(;r&&yR(r)&&$p(r);)r=J0(r,e);return r&&Xa(r)&&$p(r)&&!hg(r)?t:r||vR(n)||t}const PR=async function(n){const e=this.getOffsetParent||uT,t=this.getDimensions,r=await t(n.floating);return{reference:RR(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kR(n){return Lr(n).direction==="rtl"}const NR={convertOffsetParentRelativeRectToViewportRelativeRect:ER,getDocumentElement:ls,getClippingRect:AR,getOffsetParent:uT,getElementRects:PR,getClientRects:TR,getDimensions:bR,getScale:Da,isElement:Mr,isRTL:kR};function OR(n,e){let t=null,r;const i=ls(n);function a(){var d;clearTimeout(r),(d=t)==null||d.disconnect(),t=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),a();const{left:p,top:v,width:_,height:w}=n.getBoundingClientRect();if(d||e(),!_||!w)return;const I=wd(v),R=wd(i.clientWidth-(p+_)),A=wd(i.clientHeight-(v+w)),x=wd(p),V={rootMargin:-I+"px "+-R+"px "+-A+"px "+-x+"px",threshold:qn(0,Oi(1,f))||1};let $=!0;function W(Q){const Z=Q[0].intersectionRatio;if(Z!==f){if(!$)return u();Z?u(!1,Z):r=setTimeout(()=>{u(!1,1e-7)},1e3)}$=!1}try{t=new IntersectionObserver(W,{...V,root:i.ownerDocument})}catch{t=new IntersectionObserver(W,V)}t.observe(n)}return u(!0),a}function DR(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=pg(n),v=i||a?[...p?wu(p):[],...wu(e)]:[];v.forEach(M=>{i&&M.addEventListener("scroll",t,{passive:!0}),a&&M.addEventListener("resize",t)});const _=p&&d?OR(p,t):null;let w=-1,I=null;u&&(I=new ResizeObserver(M=>{let[V]=M;V&&V.target===p&&I&&(I.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var $;($=I)==null||$.observe(e)})),t()}),p&&!f&&I.observe(p),I.observe(e));let R,A=f?ko(n):null;f&&x();function x(){const M=ko(n);A&&(M.x!==A.x||M.y!==A.y||M.width!==A.width||M.height!==A.height)&&t(),A=M,R=requestAnimationFrame(x)}return t(),()=>{var M;v.forEach(V=>{i&&V.removeEventListener("scroll",t),a&&V.removeEventListener("resize",t)}),_==null||_(),(M=I)==null||M.disconnect(),I=null,f&&cancelAnimationFrame(R)}}const MR=fR,LR=pR,VR=cR,jR=gR,FR=dR,Z0=uR,UR=mR,zR=(n,e,t)=>{const r=new Map,i={platform:NR,...t},a={...i.platform,_c:r};return lR(n,e,{...i,platform:a})};var Md=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Jd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Jd(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!Jd(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function cT(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function ew(n,e){const t=cT(n);return Math.round(e*t)/t}function Bp(n){const e=C.useRef(n);return Md(()=>{e.current=n}),e}function $R(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:u}={},transform:d=!0,whileElementsMounted:f,open:p}=n,[v,_]=C.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,I]=C.useState(r);Jd(w,r)||I(r);const[R,A]=C.useState(null),[x,M]=C.useState(null),V=C.useCallback(K=>{K!==Z.current&&(Z.current=K,A(K))},[]),$=C.useCallback(K=>{K!==N.current&&(N.current=K,M(K))},[]),W=a||R,Q=u||x,Z=C.useRef(null),N=C.useRef(null),P=C.useRef(v),k=f!=null,L=Bp(f),F=Bp(i),j=Bp(p),O=C.useCallback(()=>{if(!Z.current||!N.current)return;const K={placement:e,strategy:t,middleware:w};F.current&&(K.platform=F.current),zR(Z.current,N.current,K).then(oe=>{const ue={...oe,isPositioned:j.current!==!1};le.current&&!Jd(P.current,ue)&&(P.current=ue,ju.flushSync(()=>{_(ue)}))})},[w,e,t,F,j]);Md(()=>{p===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,_(K=>({...K,isPositioned:!1})))},[p]);const le=C.useRef(!1);Md(()=>(le.current=!0,()=>{le.current=!1}),[]),Md(()=>{if(W&&(Z.current=W),Q&&(N.current=Q),W&&Q){if(L.current)return L.current(W,Q,O);O()}},[W,Q,O,L,k]);const Ie=C.useMemo(()=>({reference:Z,floating:N,setReference:V,setFloating:$}),[V,$]),we=C.useMemo(()=>({reference:W,floating:Q}),[W,Q]),ye=C.useMemo(()=>{const K={position:t,left:0,top:0};if(!we.floating)return K;const oe=ew(we.floating,v.x),ue=ew(we.floating,v.y);return d?{...K,transform:"translate("+oe+"px, "+ue+"px)",...cT(we.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:oe,top:ue}},[t,d,we.floating,v.x,v.y]);return C.useMemo(()=>({...v,update:O,refs:Ie,elements:we,floatingStyles:ye}),[v,O,Ie,we,ye])}const BR=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Z0({element:r.current,padding:i}).fn(t):{}:r?Z0({element:r,padding:i}).fn(t):{}}}},WR=(n,e)=>({...MR(n),options:[n,e]}),HR=(n,e)=>({...LR(n),options:[n,e]}),qR=(n,e)=>({...UR(n),options:[n,e]}),GR=(n,e)=>({...VR(n),options:[n,e]}),KR=(n,e)=>({...jR(n),options:[n,e]}),QR=(n,e)=>({...FR(n),options:[n,e]}),YR=(n,e)=>({...BR(n),options:[n,e]});var XR="Arrow",dT=C.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...a}=n;return T.jsx(at.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:T.jsx("polygon",{points:"0,0 30,0 15,10"})})});dT.displayName=XR;var JR=dT;function ZR(n){const[e,t]=C.useState(void 0);return _n(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let u,d;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;u=p.inlineSize,d=p.blockSize}else u=n.offsetWidth,d=n.offsetHeight;t({width:u,height:d})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var hT="Popper",[fT,pT]=wh(hT),[Fj,mT]=fT(hT),gT="PopperAnchor",yT=C.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,a=mT(gT,t),u=C.useRef(null),d=jt(e,u);return C.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:T.jsx(at.div,{...i,ref:d})});yT.displayName=gT;var mg="PopperContent",[eP,tP]=fT(mg),vT=C.forwardRef((n,e)=>{var Fe,Le,Be,et,Tn,Mn;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:w=!1,updatePositionStrategy:I="optimized",onPlaced:R,...A}=n,x=mT(mg,t),[M,V]=C.useState(null),$=jt(e,Xt=>V(Xt)),[W,Q]=C.useState(null),Z=ZR(W),N=(Z==null?void 0:Z.width)??0,P=(Z==null?void 0:Z.height)??0,k=r+(a!=="center"?"-"+a:""),L=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},F=Array.isArray(p)?p:[p],j=F.length>0,O={padding:L,boundary:F.filter(rP),altBoundary:j},{refs:le,floatingStyles:Ie,placement:we,isPositioned:ye,middlewareData:K}=$R({strategy:"fixed",placement:k,whileElementsMounted:(...Xt)=>DR(...Xt,{animationFrame:I==="always"}),elements:{reference:x.anchor},middleware:[WR({mainAxis:i+P,alignmentAxis:u}),f&&HR({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?qR():void 0,...O}),f&&GR({...O}),KR({...O,apply:({elements:Xt,rects:Ln,availableWidth:ur,availableHeight:xn})=>{const{width:us,height:js}=Ln.reference,ft=Xt.floating.style;ft.setProperty("--radix-popper-available-width",`${ur}px`),ft.setProperty("--radix-popper-available-height",`${xn}px`),ft.setProperty("--radix-popper-anchor-width",`${us}px`),ft.setProperty("--radix-popper-anchor-height",`${js}px`)}}),W&&YR({element:W,padding:d}),sP({arrowWidth:N,arrowHeight:P}),w&&QR({strategy:"referenceHidden",...O})]}),[oe,ue]=ET(we),U=wn(R);_n(()=>{ye&&(U==null||U())},[ye,U]);const X=(Fe=K.arrow)==null?void 0:Fe.x,ce=(Le=K.arrow)==null?void 0:Le.y,xe=((Be=K.arrow)==null?void 0:Be.centerOffset)!==0,[Pe,Te]=C.useState();return _n(()=>{M&&Te(window.getComputedStyle(M).zIndex)},[M]),T.jsx("div",{ref:le.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ie,transform:ye?Ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(et=K.transformOrigin)==null?void 0:et.x,(Tn=K.transformOrigin)==null?void 0:Tn.y].join(" "),...((Mn=K.hide)==null?void 0:Mn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:T.jsx(eP,{scope:t,placedSide:oe,onArrowChange:Q,arrowX:X,arrowY:ce,shouldHideArrow:xe,children:T.jsx(at.div,{"data-side":oe,"data-align":ue,...A,ref:$,style:{...A.style,animation:ye?void 0:"none"}})})})});vT.displayName=mg;var wT="PopperArrow",nP={top:"bottom",right:"left",bottom:"top",left:"right"},_T=C.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,a=tP(wT,r),u=nP[a.placedSide];return T.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:T.jsx(JR,{...i,ref:t,style:{...i.style,display:"block"}})})});_T.displayName=wT;function rP(n){return n!==null}var sP=n=>({name:"transformOrigin",options:n,fn(e){var x,M,V;const{placement:t,rects:r,middlewareData:i}=e,u=((x=i.arrow)==null?void 0:x.centerOffset)!==0,d=u?0:n.arrowWidth,f=u?0:n.arrowHeight,[p,v]=ET(t),_={start:"0%",center:"50%",end:"100%"}[v],w=(((M=i.arrow)==null?void 0:M.x)??0)+d/2,I=(((V=i.arrow)==null?void 0:V.y)??0)+f/2;let R="",A="";return p==="bottom"?(R=u?_:`${w}px`,A=`${-f}px`):p==="top"?(R=u?_:`${w}px`,A=`${r.floating.height+f}px`):p==="right"?(R=`${-f}px`,A=u?_:`${I}px`):p==="left"&&(R=`${r.floating.width+f}px`,A=u?_:`${I}px`),{data:{x:R,y:A}}}});function ET(n){const[e,t="center"]=n.split("-");return[e,t]}var iP=yT,oP=vT,aP=_T,lP="Portal",TT=C.forwardRef((n,e)=>{var d;const{container:t,...r}=n,[i,a]=C.useState(!1);_n(()=>a(!0),[]);const u=t||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?tg.createPortal(T.jsx(at.div,{...r,ref:e}),u):null});TT.displayName=lP;function uP(n,e){return C.useReducer((t,r)=>e[t][r]??t,n)}var xT=n=>{const{present:e,children:t}=n,r=cP(e),i=typeof t=="function"?t({present:r.isPresent}):C.Children.only(t),a=jt(r.ref,dP(i));return typeof t=="function"||r.isPresent?C.cloneElement(i,{ref:a}):null};xT.displayName="Presence";function cP(n){const[e,t]=C.useState(),r=C.useRef({}),i=C.useRef(n),a=C.useRef("none"),u=n?"mounted":"unmounted",[d,f]=uP(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=_d(r.current);a.current=d==="mounted"?p:"none"},[d]),_n(()=>{const p=r.current,v=i.current;if(v!==n){const w=a.current,I=_d(p);n?f("MOUNT"):I==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(v&&w!==I?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),_n(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,_=I=>{const A=_d(r.current).includes(I.animationName);if(I.target===e&&A&&(f("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},w=I=>{I.target===e&&(a.current=_d(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:C.useCallback(p=>{p&&(r.current=getComputedStyle(p)),t(p)},[])}}function _d(n){return(n==null?void 0:n.animationName)||"none"}function dP(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var[Ch,Uj]=Bb("Tooltip",[pT]),gg=pT(),ST="TooltipProvider",hP=700,tw="tooltip.open",[fP,IT]=Ch(ST),CT=n=>{const{__scopeTooltip:e,delayDuration:t=hP,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=n,[u,d]=C.useState(!0),f=C.useRef(!1),p=C.useRef(0);return C.useEffect(()=>{const v=p.current;return()=>window.clearTimeout(v)},[]),T.jsx(fP,{scope:e,isOpenDelayed:u,delayDuration:t,onOpen:C.useCallback(()=>{window.clearTimeout(p.current),d(!1)},[]),onClose:C.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>d(!0),r)},[r]),isPointerInTransitRef:f,onPointerInTransitChange:C.useCallback(v=>{f.current=v},[]),disableHoverableContent:i,children:a})};CT.displayName=ST;var AT="Tooltip",[zj,Ah]=Ch(AT),Sm="TooltipTrigger",pP=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Ah(Sm,t),a=IT(Sm,t),u=gg(t),d=C.useRef(null),f=jt(e,d,i.onTriggerChange),p=C.useRef(!1),v=C.useRef(!1),_=C.useCallback(()=>p.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",_),[_]),T.jsx(iP,{asChild:!0,...u,children:T.jsx(at.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:f,onPointerMove:nt(n.onPointerMove,w=>{w.pointerType!=="touch"&&!v.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),v.current=!0)}),onPointerLeave:nt(n.onPointerLeave,()=>{i.onTriggerLeave(),v.current=!1}),onPointerDown:nt(n.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",_,{once:!0})}),onFocus:nt(n.onFocus,()=>{p.current||i.onOpen()}),onBlur:nt(n.onBlur,i.onClose),onClick:nt(n.onClick,i.onClose)})})});pP.displayName=Sm;var mP="TooltipPortal",[$j,gP]=Ch(mP,{forceMount:void 0}),Ja="TooltipContent",bT=C.forwardRef((n,e)=>{const t=gP(Ja,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...a}=n,u=Ah(Ja,n.__scopeTooltip);return T.jsx(xT,{present:r||u.open,children:u.disableHoverableContent?T.jsx(RT,{side:i,...a,ref:e}):T.jsx(yP,{side:i,...a,ref:e})})}),yP=C.forwardRef((n,e)=>{const t=Ah(Ja,n.__scopeTooltip),r=IT(Ja,n.__scopeTooltip),i=C.useRef(null),a=jt(e,i),[u,d]=C.useState(null),{trigger:f,onClose:p}=t,v=i.current,{onPointerInTransitChange:_}=r,w=C.useCallback(()=>{d(null),_(!1)},[_]),I=C.useCallback((R,A)=>{const x=R.currentTarget,M={x:R.clientX,y:R.clientY},V=EP(M,x.getBoundingClientRect()),$=TP(M,V),W=xP(A.getBoundingClientRect()),Q=IP([...$,...W]);d(Q),_(!0)},[_]);return C.useEffect(()=>()=>w(),[w]),C.useEffect(()=>{if(f&&v){const R=x=>I(x,v),A=x=>I(x,f);return f.addEventListener("pointerleave",R),v.addEventListener("pointerleave",A),()=>{f.removeEventListener("pointerleave",R),v.removeEventListener("pointerleave",A)}}},[f,v,I,w]),C.useEffect(()=>{if(u){const R=A=>{const x=A.target,M={x:A.clientX,y:A.clientY},V=(f==null?void 0:f.contains(x))||(v==null?void 0:v.contains(x)),$=!SP(M,u);V?w():$&&(w(),p())};return document.addEventListener("pointermove",R),()=>document.removeEventListener("pointermove",R)}},[f,v,u,p,w]),T.jsx(RT,{...n,ref:a})}),[vP,wP]=Ch(AT,{isInside:!1}),RT=C.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:u,...d}=n,f=Ah(Ja,t),p=gg(t),{onClose:v}=f;return C.useEffect(()=>(document.addEventListener(tw,v),()=>document.removeEventListener(tw,v)),[v]),C.useEffect(()=>{if(f.trigger){const _=w=>{const I=w.target;I!=null&&I.contains(f.trigger)&&v()};return window.addEventListener("scroll",_,{capture:!0}),()=>window.removeEventListener("scroll",_,{capture:!0})}},[f.trigger,v]),T.jsx(lg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:_=>_.preventDefault(),onDismiss:v,children:T.jsxs(oP,{"data-state":f.stateAttribute,...p,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[T.jsx(dE,{children:r}),T.jsx(vP,{scope:t,isInside:!0,children:T.jsx(eA,{id:f.contentId,role:"tooltip",children:i||r})})]})})});bT.displayName=Ja;var PT="TooltipArrow",_P=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=gg(t);return wP(PT,t).isInside?null:T.jsx(aP,{...i,...r,ref:e})});_P.displayName=PT;function EP(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,r,i,a)){case a:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function TP(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function xP(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function SP(n,e){const{x:t,y:r}=n;let i=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const d=e[a].x,f=e[a].y,p=e[u].x,v=e[u].y;f>r!=v>r&&t<(p-d)*(r-f)/(v-f)+d&&(i=!i)}return i}function IP(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),CP(e)}function CP(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const a=e[e.length-1],u=e[e.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var AP=CT,kT=bT;const bP=AP,RP=C.forwardRef(({className:n,sideOffset:e=4,...t},r)=>T.jsx(kT,{ref:r,sideOffset:e,className:ot("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));RP.displayName=kT.displayName;var bh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rh=typeof window>"u"||"Deno"in globalThis;function Rr(){}function PP(n,e){return typeof n=="function"?n(e):n}function kP(n){return typeof n=="number"&&n>=0&&n!==1/0}function NP(n,e){return Math.max(n+(e||0)-Date.now(),0)}function nw(n,e){return typeof n=="function"?n(e):n}function OP(n,e){return typeof n=="function"?n(e):n}function rw(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:a,queryKey:u,stale:d}=n;if(u){if(r){if(e.queryHash!==yg(u,e.options))return!1}else if(!Eu(e.queryKey,u))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||i&&i!==e.state.fetchStatus||a&&!a(e))}function sw(n,e){const{exact:t,status:r,predicate:i,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(_u(e.options.mutationKey)!==_u(a))return!1}else if(!Eu(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function yg(n,e){return((e==null?void 0:e.queryKeyHashFn)||_u)(n)}function _u(n){return JSON.stringify(n,(e,t)=>Im(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function Eu(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!Eu(n[t],e[t])):!1}function NT(n,e){if(n===e)return n;const t=iw(n)&&iw(e);if(t||Im(n)&&Im(e)){const r=t?n:Object.keys(n),i=r.length,a=t?e:Object.keys(e),u=a.length,d=t?[]:{};let f=0;for(let p=0;p<u;p++){const v=t?p:a[p];(!t&&r.includes(v)||t)&&n[v]===void 0&&e[v]===void 0?(d[v]=void 0,f++):(d[v]=NT(n[v],e[v]),d[v]===n[v]&&n[v]!==void 0&&f++)}return i===u&&f===i?n:d}return e}function iw(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Im(n){if(!ow(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!ow(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function ow(n){return Object.prototype.toString.call(n)==="[object Object]"}function DP(n){return new Promise(e=>{setTimeout(e,n)})}function MP(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?NT(n,e):e}function LP(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function VP(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var OT=Symbol();function DT(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===OT?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var So,wi,Ua,Z_,jP=(Z_=class extends bh{constructor(){super();Xe(this,So);Xe(this,wi);Xe(this,Ua);Ve(this,Ua,e=>{if(!Rh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){te(this,wi)||this.setEventListener(te(this,Ua))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,wi))==null||e.call(this),Ve(this,wi,void 0))}setEventListener(e){var t;Ve(this,Ua,e),(t=te(this,wi))==null||t.call(this),Ve(this,wi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){te(this,So)!==e&&(Ve(this,So,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof te(this,So)=="boolean"?te(this,So):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},So=new WeakMap,wi=new WeakMap,Ua=new WeakMap,Z_),MT=new jP,za,_i,$a,eE,FP=(eE=class extends bh{constructor(){super();Xe(this,za,!0);Xe(this,_i);Xe(this,$a);Ve(this,$a,e=>{if(!Rh&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){te(this,_i)||this.setEventListener(te(this,$a))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,_i))==null||e.call(this),Ve(this,_i,void 0))}setEventListener(e){var t;Ve(this,$a,e),(t=te(this,_i))==null||t.call(this),Ve(this,_i,e(this.setOnline.bind(this)))}setOnline(e){te(this,za)!==e&&(Ve(this,za,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return te(this,za)}},za=new WeakMap,_i=new WeakMap,$a=new WeakMap,eE),Zd=new FP;function UP(n){return Math.min(1e3*2**n,3e4)}function LT(n){return(n??"online")==="online"?Zd.isOnline():!0}var VT=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Wp(n){return n instanceof VT}function jT(n){let e=!1,t=0,r=!1,i,a,u;const d=new Promise((M,V)=>{a=M,u=V}),f=M=>{var V;r||(R(new VT(M)),(V=n.abort)==null||V.call(n))},p=()=>{e=!0},v=()=>{e=!1},_=()=>MT.isFocused()&&(n.networkMode==="always"||Zd.isOnline())&&n.canRun(),w=()=>LT(n.networkMode)&&n.canRun(),I=M=>{var V;r||(r=!0,(V=n.onSuccess)==null||V.call(n,M),i==null||i(),a(M))},R=M=>{var V;r||(r=!0,(V=n.onError)==null||V.call(n,M),i==null||i(),u(M))},A=()=>new Promise(M=>{var V;i=$=>{(r||_())&&M($)},(V=n.onPause)==null||V.call(n)}).then(()=>{var M;i=void 0,r||(M=n.onContinue)==null||M.call(n)}),x=()=>{if(r)return;let M;const V=t===0?n.initialPromise:void 0;try{M=V??n.fn()}catch($){M=Promise.reject($)}Promise.resolve(M).then(I).catch($=>{var P;if(r)return;const W=n.retry??(Rh?0:3),Q=n.retryDelay??UP,Z=typeof Q=="function"?Q(t,$):Q,N=W===!0||typeof W=="number"&&t<W||typeof W=="function"&&W(t,$);if(e||!N){R($);return}t++,(P=n.onFail)==null||P.call(n,t,$),DP(Z).then(()=>_()?void 0:A()).then(()=>{e?R($):x()})})};return{promise:d,cancel:f,continue:()=>(i==null||i(),d),cancelRetry:p,continueRetry:v,canStart:w,start:()=>(w()?x():A().then(x),d)}}function zP(){let n=[],e=0,t=d=>{d()},r=d=>{d()},i=d=>setTimeout(d,0);const a=d=>{e?n.push(d):i(()=>{t(d)})},u=()=>{const d=n;n=[],d.length&&i(()=>{r(()=>{d.forEach(f=>{t(f)})})})};return{batch:d=>{let f;e++;try{f=d()}finally{e--,e||u()}return f},batchCalls:d=>(...f)=>{a(()=>{d(...f)})},schedule:a,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{i=d}}}var vn=zP(),Io,tE,FT=(tE=class{constructor(){Xe(this,Io)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kP(this.gcTime)&&Ve(this,Io,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Rh?1/0:5*60*1e3))}clearGcTimeout(){te(this,Io)&&(clearTimeout(te(this,Io)),Ve(this,Io,void 0))}},Io=new WeakMap,tE),Ba,Wa,ar,on,Mu,Co,Pr,As,nE,$P=(nE=class extends FT{constructor(t){super();Xe(this,Pr);Xe(this,Ba);Xe(this,Wa);Xe(this,ar);Xe(this,on);Xe(this,Mu);Xe(this,Co);Ve(this,Co,!1),Ve(this,Mu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ve(this,ar,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ve(this,Ba,WP(this.options)),this.state=t.state??te(this,Ba),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=te(this,on))==null?void 0:t.promise}setOptions(t){this.options={...te(this,Mu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,ar).remove(this)}setData(t,r){const i=MP(this.state.data,t,this.options);return rn(this,Pr,As).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(t,r){rn(this,Pr,As).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var i,a;const r=(i=te(this,on))==null?void 0:i.promise;return(a=te(this,on))==null||a.cancel(t),r?r.then(Rr).catch(Rr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,Ba))}isActive(){return this.observers.some(t=>OP(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!NP(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,on))==null||r.continue()}onOnline(){var r;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,on))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),te(this,ar).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(te(this,on)&&(te(this,Co)?te(this,on).cancel({revert:!0}):te(this,on).cancelRetry()),this.scheduleGc()),te(this,ar).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rn(this,Pr,As).call(this,{type:"invalidate"})}fetch(t,r){var p,v,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(te(this,on))return te(this,on).continueRetry(),te(this,on).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(I=>I.options.queryFn);w&&this.setOptions(w.options)}const i=new AbortController,a=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(Ve(this,Co,!0),i.signal)})},u=()=>{const w=DT(this.options,r),I={queryKey:this.queryKey,meta:this.meta};return a(I),Ve(this,Co,!1),this.options.persister?this.options.persister(w,I,this):w(I)},d={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};a(d),(p=this.options.behavior)==null||p.onFetch(d,this),Ve(this,Wa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=d.fetchOptions)==null?void 0:v.meta))&&rn(this,Pr,As).call(this,{type:"fetch",meta:(_=d.fetchOptions)==null?void 0:_.meta});const f=w=>{var I,R,A,x;Wp(w)&&w.silent||rn(this,Pr,As).call(this,{type:"error",error:w}),Wp(w)||((R=(I=te(this,ar).config).onError)==null||R.call(I,w,this),(x=(A=te(this,ar).config).onSettled)==null||x.call(A,this.state.data,w,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Ve(this,on,jT({initialPromise:r==null?void 0:r.initialPromise,fn:d.fetchFn,abort:i.abort.bind(i),onSuccess:w=>{var I,R,A,x;if(w===void 0){f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(w)}catch(M){f(M);return}(R=(I=te(this,ar).config).onSuccess)==null||R.call(I,w,this),(x=(A=te(this,ar).config).onSettled)==null||x.call(A,w,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(w,I)=>{rn(this,Pr,As).call(this,{type:"failed",failureCount:w,error:I})},onPause:()=>{rn(this,Pr,As).call(this,{type:"pause"})},onContinue:()=>{rn(this,Pr,As).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),te(this,on).start()}},Ba=new WeakMap,Wa=new WeakMap,ar=new WeakMap,on=new WeakMap,Mu=new WeakMap,Co=new WeakMap,Pr=new WeakSet,As=function(t){const r=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...BP(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Wp(a)&&a.revert&&te(this,Wa)?{...te(this,Wa),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=r(this.state),vn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),te(this,ar).notify({query:this,type:"updated",action:t})})},nE);function BP(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LT(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function WP(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Qr,rE,HP=(rE=class extends bh{constructor(e={}){super();Xe(this,Qr);this.config=e,Ve(this,Qr,new Map)}build(e,t,r){const i=t.queryKey,a=t.queryHash??yg(i,t);let u=this.get(a);return u||(u=new $P({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){te(this,Qr).has(e.queryHash)||(te(this,Qr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=te(this,Qr).get(e.queryHash);t&&(e.destroy(),t===e&&te(this,Qr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){vn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return te(this,Qr).get(e)}getAll(){return[...te(this,Qr).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>rw(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>rw(e,r)):t}notify(e){vn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){vn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){vn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qr=new WeakMap,rE),Yr,yn,Ao,Xr,pi,sE,qP=(sE=class extends FT{constructor(t){super();Xe(this,Xr);Xe(this,Yr);Xe(this,yn);Xe(this,Ao);this.mutationId=t.mutationId,Ve(this,yn,t.mutationCache),Ve(this,Yr,[]),this.state=t.state||GP(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){te(this,Yr).includes(t)||(te(this,Yr).push(t),this.clearGcTimeout(),te(this,yn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ve(this,Yr,te(this,Yr).filter(r=>r!==t)),this.scheduleGc(),te(this,yn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){te(this,Yr).length||(this.state.status==="pending"?this.scheduleGc():te(this,yn).remove(this))}continue(){var t;return((t=te(this,Ao))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,u,d,f,p,v,_,w,I,R,A,x,M,V,$,W,Q,Z,N,P;Ve(this,Ao,jT({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,L)=>{rn(this,Xr,pi).call(this,{type:"failed",failureCount:k,error:L})},onPause:()=>{rn(this,Xr,pi).call(this,{type:"pause"})},onContinue:()=>{rn(this,Xr,pi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,yn).canRun(this)}));const r=this.state.status==="pending",i=!te(this,Ao).canStart();try{if(!r){rn(this,Xr,pi).call(this,{type:"pending",variables:t,isPaused:i}),await((u=(a=te(this,yn).config).onMutate)==null?void 0:u.call(a,t,this));const L=await((f=(d=this.options).onMutate)==null?void 0:f.call(d,t));L!==this.state.context&&rn(this,Xr,pi).call(this,{type:"pending",context:L,variables:t,isPaused:i})}const k=await te(this,Ao).start();return await((v=(p=te(this,yn).config).onSuccess)==null?void 0:v.call(p,k,t,this.state.context,this)),await((w=(_=this.options).onSuccess)==null?void 0:w.call(_,k,t,this.state.context)),await((R=(I=te(this,yn).config).onSettled)==null?void 0:R.call(I,k,null,this.state.variables,this.state.context,this)),await((x=(A=this.options).onSettled)==null?void 0:x.call(A,k,null,t,this.state.context)),rn(this,Xr,pi).call(this,{type:"success",data:k}),k}catch(k){try{throw await((V=(M=te(this,yn).config).onError)==null?void 0:V.call(M,k,t,this.state.context,this)),await((W=($=this.options).onError)==null?void 0:W.call($,k,t,this.state.context)),await((Z=(Q=te(this,yn).config).onSettled)==null?void 0:Z.call(Q,void 0,k,this.state.variables,this.state.context,this)),await((P=(N=this.options).onSettled)==null?void 0:P.call(N,void 0,k,t,this.state.context)),k}finally{rn(this,Xr,pi).call(this,{type:"error",error:k})}}finally{te(this,yn).runNext(this)}}},Yr=new WeakMap,yn=new WeakMap,Ao=new WeakMap,Xr=new WeakSet,pi=function(t){const r=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),vn.batch(()=>{te(this,Yr).forEach(i=>{i.onMutationUpdate(t)}),te(this,yn).notify({mutation:this,type:"updated",action:t})})},sE);function GP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wn,Lu,iE,KP=(iE=class extends bh{constructor(e={}){super();Xe(this,Wn);Xe(this,Lu);this.config=e,Ve(this,Wn,new Map),Ve(this,Lu,Date.now())}build(e,t,r){const i=new qP({mutationCache:this,mutationId:++pd(this,Lu)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){const t=Ed(e),r=te(this,Wn).get(t)??[];r.push(e),te(this,Wn).set(t,r),this.notify({type:"added",mutation:e})}remove(e){var r;const t=Ed(e);if(te(this,Wn).has(t)){const i=(r=te(this,Wn).get(t))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?te(this,Wn).delete(t):te(this,Wn).set(t,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const t=(r=te(this,Wn).get(Ed(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!t||t===e}runNext(e){var r;const t=(r=te(this,Wn).get(Ed(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){vn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...te(this,Wn).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>sw(t,r))}findAll(e={}){return this.getAll().filter(t=>sw(e,t))}notify(e){vn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return vn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Rr))))}},Wn=new WeakMap,Lu=new WeakMap,iE);function Ed(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function aw(n){return{onFetch:(e,t)=>{var v,_,w,I,R;const r=e.options,i=(w=(_=(v=e.fetchOptions)==null?void 0:v.meta)==null?void 0:_.fetchMore)==null?void 0:w.direction,a=((I=e.state.data)==null?void 0:I.pages)||[],u=((R=e.state.data)==null?void 0:R.pageParams)||[];let d={pages:[],pageParams:[]},f=0;const p=async()=>{let A=!1;const x=$=>{Object.defineProperty($,"signal",{enumerable:!0,get:()=>(e.signal.aborted?A=!0:e.signal.addEventListener("abort",()=>{A=!0}),e.signal)})},M=DT(e.options,e.fetchOptions),V=async($,W,Q)=>{if(A)return Promise.reject();if(W==null&&$.pages.length)return Promise.resolve($);const Z={queryKey:e.queryKey,pageParam:W,direction:Q?"backward":"forward",meta:e.options.meta};x(Z);const N=await M(Z),{maxPages:P}=e.options,k=Q?VP:LP;return{pages:k($.pages,N,P),pageParams:k($.pageParams,W,P)}};if(i&&a.length){const $=i==="backward",W=$?QP:lw,Q={pages:a,pageParams:u},Z=W(r,Q);d=await V(Q,Z,$)}else{const $=n??a.length;do{const W=f===0?u[0]??r.initialPageParam:lw(r,d);if(f>0&&W==null)break;d=await V(d,W),f++}while(f<$)}return d};e.options.persister?e.fetchFn=()=>{var A,x;return(x=(A=e.options).persister)==null?void 0:x.call(A,p,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=p}}}function lw(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function QP(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Tt,Ei,Ti,Ha,qa,xi,Ga,Ka,oE,YP=(oE=class{constructor(n={}){Xe(this,Tt);Xe(this,Ei);Xe(this,Ti);Xe(this,Ha);Xe(this,qa);Xe(this,xi);Xe(this,Ga);Xe(this,Ka);Ve(this,Tt,n.queryCache||new HP),Ve(this,Ei,n.mutationCache||new KP),Ve(this,Ti,n.defaultOptions||{}),Ve(this,Ha,new Map),Ve(this,qa,new Map),Ve(this,xi,0)}mount(){pd(this,xi)._++,te(this,xi)===1&&(Ve(this,Ga,MT.subscribe(async n=>{n&&(await this.resumePausedMutations(),te(this,Tt).onFocus())})),Ve(this,Ka,Zd.subscribe(async n=>{n&&(await this.resumePausedMutations(),te(this,Tt).onOnline())})))}unmount(){var n,e;pd(this,xi)._--,te(this,xi)===0&&((n=te(this,Ga))==null||n.call(this),Ve(this,Ga,void 0),(e=te(this,Ka))==null||e.call(this),Ve(this,Ka,void 0))}isFetching(n){return te(this,Tt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return te(this,Ei).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=te(this,Tt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),r=te(this,Tt).build(this,t);return n.revalidateIfStale&&r.isStaleByTime(nw(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return te(this,Tt).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=te(this,Tt).get(r.queryHash),a=i==null?void 0:i.state.data,u=PP(e,a);if(u!==void 0)return te(this,Tt).build(this,r).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return vn.batch(()=>te(this,Tt).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=te(this,Tt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=te(this,Tt);vn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=te(this,Tt),r={type:"active",...n};return vn.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},r=vn.batch(()=>te(this,Tt).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(Rr).catch(Rr)}invalidateQueries(n={},e={}){return vn.batch(()=>{if(te(this,Tt).findAll(n).forEach(r=>{r.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=vn.batch(()=>te(this,Tt).findAll(n).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,t);return t.throwOnError||(a=a.catch(Rr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Rr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=te(this,Tt).build(this,e);return t.isStaleByTime(nw(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Rr).catch(Rr)}fetchInfiniteQuery(n){return n.behavior=aw(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Rr).catch(Rr)}ensureInfiniteQueryData(n){return n.behavior=aw(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Zd.isOnline()?te(this,Ei).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,Tt)}getMutationCache(){return te(this,Ei)}getDefaultOptions(){return te(this,Ti)}setDefaultOptions(n){Ve(this,Ti,n)}setQueryDefaults(n,e){te(this,Ha).set(_u(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...te(this,Ha).values()];let t={};return e.forEach(r=>{Eu(n,r.queryKey)&&(t={...t,...r.defaultOptions})}),t}setMutationDefaults(n,e){te(this,qa).set(_u(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...te(this,qa).values()];let t={};return e.forEach(r=>{Eu(n,r.mutationKey)&&(t={...t,...r.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...te(this,Ti).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=yg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===OT&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...te(this,Ti).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){te(this,Tt).clear(),te(this,Ei).clear()}},Tt=new WeakMap,Ei=new WeakMap,Ti=new WeakMap,Ha=new WeakMap,qa=new WeakMap,xi=new WeakMap,Ga=new WeakMap,Ka=new WeakMap,oE),XP=C.createContext(void 0),JP=({client:n,children:e})=>(C.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),T.jsx(XP.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tu(){return Tu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Tu.apply(this,arguments)}var Si;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Si||(Si={}));const uw="popstate";function ZP(n){n===void 0&&(n={});function e(r,i){let{pathname:a,search:u,hash:d}=r.location;return Cm("",{pathname:a,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:zT(i)}return tk(e,t,null,n)}function Lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function UT(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ek(){return Math.random().toString(36).substr(2,8)}function cw(n,e){return{usr:n.state,key:n.key,idx:e}}function Cm(n,e,t,r){return t===void 0&&(t=null),Tu({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ul(e):e,{state:t,key:e&&e.key||r||ek()})}function zT(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ul(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function tk(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,d=Si.Pop,f=null,p=v();p==null&&(p=0,u.replaceState(Tu({},u.state,{idx:p}),""));function v(){return(u.state||{idx:null}).idx}function _(){d=Si.Pop;let x=v(),M=x==null?null:x-p;p=x,f&&f({action:d,location:A.location,delta:M})}function w(x,M){d=Si.Push;let V=Cm(A.location,x,M);p=v()+1;let $=cw(V,p),W=A.createHref(V);try{u.pushState($,"",W)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(W)}a&&f&&f({action:d,location:A.location,delta:1})}function I(x,M){d=Si.Replace;let V=Cm(A.location,x,M);p=v();let $=cw(V,p),W=A.createHref(V);u.replaceState($,"",W),a&&f&&f({action:d,location:A.location,delta:0})}function R(x){let M=i.location.origin!=="null"?i.location.origin:i.location.href,V=typeof x=="string"?x:zT(x);return V=V.replace(/ $/,"%20"),Lt(M,"No window.location.(origin|href) available to create URL for href: "+V),new URL(V,M)}let A={get action(){return d},get location(){return n(i,u)},listen(x){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(uw,_),f=x,()=>{i.removeEventListener(uw,_),f=null}},createHref(x){return e(i,x)},createURL:R,encodeLocation(x){let M=R(x);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:I,go(x){return u.go(x)}};return A}var dw;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(dw||(dw={}));function nk(n,e,t){return t===void 0&&(t="/"),rk(n,e,t)}function rk(n,e,t,r){let i=typeof e=="string"?ul(e):e,a=WT(i.pathname||"/",t);if(a==null)return null;let u=$T(n);sk(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=gk(a);d=fk(u[f],p)}return d}function $T(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(Lt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=bo([r,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(Lt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),$T(a.children,e,v,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:dk(p,a.index),routesMeta:v})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))i(a,u);else for(let f of BT(a.path))i(a,u,f)}),e}function BT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=BT(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),i&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function sk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:hk(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const ik=/^:[\w-]+$/,ok=3,ak=2,lk=1,uk=10,ck=-2,hw=n=>n==="*";function dk(n,e){let t=n.split("/"),r=t.length;return t.some(hw)&&(r+=ck),e&&(r+=ak),t.filter(i=>!hw(i)).reduce((i,a)=>i+(ik.test(a)?ok:a===""?lk:uk),r)}function hk(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function fk(n,e,t){let{routesMeta:r}=n,i={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",_=pk({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),w=f.route;if(!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:bo([a,_.pathname]),pathnameBase:Tk(bo([a,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(a=bo([a,_.pathnameBase]))}return u}function pk(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=mk(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((p,v,_)=>{let{paramName:w,isOptional:I}=v;if(w==="*"){let A=d[_]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const R=d[_];return I&&!R?p[w]=void 0:p[w]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function mk(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),UT(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return UT(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function WT(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function yk(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?ul(n):n;return{pathname:t?t.startsWith("/")?t:vk(t,e):e,search:xk(r),hash:Sk(i)}}function vk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Hp(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _k(n,e){let t=wk(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Ek(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=ul(n):(i=Tu({},n),Lt(!i.pathname||!i.pathname.includes("?"),Hp("?","pathname","search",i)),Lt(!i.pathname||!i.pathname.includes("#"),Hp("#","pathname","hash",i)),Lt(!i.search||!i.search.includes("#"),Hp("#","search","hash",i)));let a=n===""||i.pathname==="",u=a?"/":i.pathname,d;if(u==null)d=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),_-=1;i.pathname=w.join("/")}d=_>=0?e[_]:"/"}let f=yk(i,d),p=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}const bo=n=>n.join("/").replace(/\/\/+/g,"/"),Tk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Sk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Ik(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const HT=["post","put","patch","delete"];new Set(HT);const Ck=["get",...HT];new Set(Ck);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xu(){return xu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xu.apply(this,arguments)}const vg=C.createContext(null),Ak=C.createContext(null),Ph=C.createContext(null),kh=C.createContext(null),cl=C.createContext({outlet:null,matches:[],isDataRoute:!1}),qT=C.createContext(null);function Nh(){return C.useContext(kh)!=null}function Oh(){return Nh()||Lt(!1),C.useContext(kh).location}function GT(n){C.useContext(Ph).static||C.useLayoutEffect(n)}function KT(){let{isDataRoute:n}=C.useContext(cl);return n?Uk():bk()}function bk(){Nh()||Lt(!1);let n=C.useContext(vg),{basename:e,future:t,navigator:r}=C.useContext(Ph),{matches:i}=C.useContext(cl),{pathname:a}=Oh(),u=JSON.stringify(_k(i,t.v7_relativeSplatPath)),d=C.useRef(!1);return GT(()=>{d.current=!0}),C.useCallback(function(p,v){if(v===void 0&&(v={}),!d.current)return;if(typeof p=="number"){r.go(p);return}let _=Ek(p,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:bo([e,_.pathname])),(v.replace?r.replace:r.push)(_,v.state,v)},[e,r,u,a,n])}function Rk(n,e){return Pk(n,e)}function Pk(n,e,t,r){Nh()||Lt(!1);let{navigator:i}=C.useContext(Ph),{matches:a}=C.useContext(cl),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let p=Oh(),v;if(e){var _;let x=typeof e=="string"?ul(e):e;f==="/"||(_=x.pathname)!=null&&_.startsWith(f)||Lt(!1),v=x}else v=p;let w=v.pathname||"/",I=w;if(f!=="/"){let x=f.replace(/^\//,"").split("/");I="/"+w.replace(/^\//,"").split("/").slice(x.length).join("/")}let R=nk(n,{pathname:I}),A=Mk(R&&R.map(x=>Object.assign({},x,{params:Object.assign({},d,x.params),pathname:bo([f,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?f:bo([f,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,t,r);return e&&A?C.createElement(kh.Provider,{value:{location:xu({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Si.Pop}},A):A}function kk(){let n=Fk(),e=Ik(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:i},t):null,null)}const Nk=C.createElement(kk,null);class Ok extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?C.createElement(cl.Provider,{value:this.props.routeContext},C.createElement(qT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dk(n){let{routeContext:e,match:t,children:r}=n,i=C.useContext(vg);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(cl.Provider,{value:e},r)}function Mk(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,d=(i=t)==null?void 0:i.errors;if(d!=null){let v=u.findIndex(_=>_.route.id&&(d==null?void 0:d[_.route.id])!==void 0);v>=0||Lt(!1),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let v=0;v<u.length;v++){let _=u[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=v),_.route.id){let{loaderData:w,errors:I}=t,R=_.route.loader&&w[_.route.id]===void 0&&(!I||I[_.route.id]===void 0);if(_.route.lazy||R){f=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((v,_,w)=>{let I,R=!1,A=null,x=null;t&&(I=d&&_.route.id?d[_.route.id]:void 0,A=_.route.errorElement||Nk,f&&(p<0&&w===0?(zk("route-fallback"),R=!0,x=null):p===w&&(R=!0,x=_.route.hydrateFallbackElement||null)));let M=e.concat(u.slice(0,w+1)),V=()=>{let $;return I?$=A:R?$=x:_.route.Component?$=C.createElement(_.route.Component,null):_.route.element?$=_.route.element:$=v,C.createElement(Dk,{match:_,routeContext:{outlet:v,matches:M,isDataRoute:t!=null},children:$})};return t&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?C.createElement(Ok,{location:t.location,revalidation:t.revalidation,component:A,error:I,children:V(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):V()},null)}var QT=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(QT||{}),YT=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(YT||{});function Lk(n){let e=C.useContext(vg);return e||Lt(!1),e}function Vk(n){let e=C.useContext(Ak);return e||Lt(!1),e}function jk(n){let e=C.useContext(cl);return e||Lt(!1),e}function XT(n){let e=jk(),t=e.matches[e.matches.length-1];return t.route.id||Lt(!1),t.route.id}function Fk(){var n;let e=C.useContext(qT),t=Vk(),r=XT();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Uk(){let{router:n}=Lk(QT.UseNavigateStable),e=XT(YT.UseNavigateStable),t=C.useRef(!1);return GT(()=>{t.current=!0}),C.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,xu({fromRouteId:e},a)))},[n,e])}const fw={};function zk(n,e,t){fw[n]||(fw[n]=!0)}function ba(n){Lt(!1)}function $k(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Si.Pop,navigator:a,static:u=!1,future:d}=n;Nh()&&Lt(!1);let f=e.replace(/^\/*/,"/"),p=C.useMemo(()=>({basename:f,navigator:a,static:u,future:xu({v7_relativeSplatPath:!1},d)}),[f,d,a,u]);typeof r=="string"&&(r=ul(r));let{pathname:v="/",search:_="",hash:w="",state:I=null,key:R="default"}=r,A=C.useMemo(()=>{let x=WT(v,f);return x==null?null:{location:{pathname:x,search:_,hash:w,state:I,key:R},navigationType:i}},[f,v,_,w,I,R,i]);return A==null?null:C.createElement(Ph.Provider,{value:p},C.createElement(kh.Provider,{children:t,value:A}))}function Bk(n){let{children:e,location:t}=n;return Rk(Am(e),t)}new Promise(()=>{});function Am(n,e){e===void 0&&(e=[]);let t=[];return C.Children.forEach(n,(r,i)=>{if(!C.isValidElement(r))return;let a=[...e,i];if(r.type===C.Fragment){t.push.apply(t,Am(r.props.children,a));return}r.type!==ba&&Lt(!1),!r.props.index||!r.props.children||Lt(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Am(r.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Wk="6";try{window.__reactRouterVersion=Wk}catch{}const Hk="startTransition",pw=lE[Hk];function qk(n){let{basename:e,children:t,future:r,window:i}=n,a=C.useRef();a.current==null&&(a.current=ZP({window:i,v5Compat:!0}));let u=a.current,[d,f]=C.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},v=C.useCallback(_=>{p&&pw?pw(()=>f(_)):f(_)},[f,p]);return C.useLayoutEffect(()=>u.listen(v),[u,v]),C.createElement($k,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:u,future:r})}var mw;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(mw||(mw={}));var gw;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(gw||(gw={}));const Gk=[{id:"home",label:"Home",icon:IA,path:"/"},{id:"redeem",label:"Redeem",icon:Kd,path:"/redeem"},{id:"history",label:"History",icon:BE,path:"/history"}];function Kk(){const n=Oh(),e=KT();return T.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border bottom-nav-safe",children:T.jsx("div",{className:"flex items-center justify-around h-16 max-w-md mx-auto",children:Gk.map(t=>{const r=n.pathname===t.path,i=t.icon;return T.jsxs("button",{onClick:()=>e(t.path),className:ot("flex flex-col items-center justify-center space-y-1 px-3 py-2 rounded-lg transition-all duration-200",r?"text-primary":"text-muted-foreground hover:text-foreground"),children:[T.jsx(i,{className:ot("h-5 w-5 transition-all duration-200",r&&"scale-110")}),T.jsx("span",{className:ot("text-xs font-medium transition-all duration-200",r&&"font-semibold"),children:t.label}),r&&T.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-primary rounded-full"})]},t.id)})})})}function Qk({children:n}){return T.jsxs("div",{className:"min-h-screen bg-background",children:[T.jsx("main",{className:"pb-20 min-h-screen",children:n}),T.jsx(Kk,{})]})}const Yk=()=>{};var yw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Xk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],u=n[t++],d=n[t++],f=((i&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},ZT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],u=i+1<n.length,d=u?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,v=a>>2,_=(a&3)<<4|d>>4;let w=(d&15)<<2|p>>6,I=p&63;f||(I=64,u||(w=64)),r.push(t[v],t[_],t[w],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(JT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Xk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],d=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||d==null||p==null||_==null)throw new Jk;const w=a<<2|d>>4;if(r.push(w),p!==64){const I=d<<4&240|p>>2;if(r.push(I),_!==64){const R=p<<6&192|_;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Jk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zk=function(n){const e=JT(n);return ZT.encodeByteArray(e,!0)},eh=function(n){return Zk(n).replace(/\./g,"")},ex=function(n){try{return ZT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=()=>eN().__FIREBASE_DEFAULTS__,nN=()=>{if(typeof process>"u"||typeof yw>"u")return;const n=yw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},rN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ex(n[1]);return e&&JSON.parse(e)},Dh=()=>{try{return Yk()||tN()||nN()||rN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},tx=n=>{var e,t;return(t=(e=Dh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},sN=n=>{const e=tx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},nx=()=>{var n;return(n=Dh())===null||n===void 0?void 0:n.config},rx=n=>{var e;return(e=Dh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sx(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[eh(JSON.stringify(t)),eh(JSON.stringify(u)),""].join(".")}const du={};function aN(){const n={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?n.emulator.push(e):n.prod.push(e);return n}function lN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let vw=!1;function ix(n,e){if(typeof window>"u"||typeof document>"u"||!dl(window.location.host)||du[n]===e||du[n]||vw)return;du[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=aN().prod.length>0;function u(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{vw=!0,u()},w}function v(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=lN(r),I=t("text"),R=document.getElementById(I)||document.createElement("span"),A=t("learnmore"),x=document.getElementById(A)||document.createElement("a"),M=t("preprendIcon"),V=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const $=w.element;d($),v(x,A);const W=p();f(V,M),$.append(V,R,x,W),document.body.appendChild($)}a?(R.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function cN(){var n;const e=(n=Dh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function fN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pN(){const n=dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function mN(){return!cN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gN(){try{return typeof indexedDB=="object"}catch{return!1}}function yN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="FirebaseError";class Vs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=vN,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uu.prototype.create)}}class Uu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?wN(a,r):"Error",d=`${this.serviceName}: ${u} (${i}).`;return new Vs(i,d,r)}}function wN(n,e){return n.replace(_N,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _N=/\{\$([^}]+)}/g;function EN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function No(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],u=e[i];if(ww(a)&&ww(u)){if(!No(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function ww(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function TN(n,e){const t=new xN(n,e);return t.subscribe.bind(t)}class xN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");SN(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=qp),i.error===void 0&&(i.error=qp),i.complete===void 0&&(i.complete=qp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function qp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(n){return n&&n._delegate?n._delegate:n}class Oo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new iN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AN(e))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Eo){return this.instances.has(e)}getOptions(e=Eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const u=this.instances.get(i);return u&&e(u,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Eo){return this.component?this.component.multipleInstances?e:Eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CN(n){return n===Eo?void 0:n}function AN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const RN={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},PN=ze.INFO,kN={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},NN=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=kN[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wg{constructor(e){this.name=e,this._logLevel=PN,this._logHandler=NN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const ON=(n,e)=>e.some(t=>n instanceof t);let _w,Ew;function DN(){return _w||(_w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MN(){return Ew||(Ew=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ox=new WeakMap,bm=new WeakMap,ax=new WeakMap,Gp=new WeakMap,_g=new WeakMap;function LN(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ci(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&ox.set(t,n)}).catch(()=>{}),_g.set(e,n),e}function VN(n){if(bm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});bm.set(n,e)}let Rm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return bm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ax.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ci(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jN(n){Rm=n(Rm)}function FN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Kp(this),e,...t);return ax.set(r,e.sort?e.sort():[e]),Ci(r)}:MN().includes(n)?function(...e){return n.apply(Kp(this),e),Ci(ox.get(this))}:function(...e){return Ci(n.apply(Kp(this),e))}}function UN(n){return typeof n=="function"?FN(n):(n instanceof IDBTransaction&&VN(n),ON(n,DN())?new Proxy(n,Rm):n)}function Ci(n){if(n instanceof IDBRequest)return LN(n);if(Gp.has(n))return Gp.get(n);const e=UN(n);return e!==n&&(Gp.set(n,e),_g.set(e,n)),e}const Kp=n=>_g.get(n);function zN(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(n,e),d=Ci(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ci(u.result),f.oldVersion,f.newVersion,Ci(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const $N=["get","getKey","getAll","getAllKeys","count"],BN=["put","add","delete","clear"],Qp=new Map;function Tw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Qp.get(e))return Qp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=BN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$N.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),i&&f.done]))[0]};return Qp.set(e,a),a}jN(n=>({...n,get:(e,t,r)=>Tw(e,t)||n.get(e,t,r),has:(e,t)=>!!Tw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HN(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function HN(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pm="@firebase/app",xw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new wg("@firebase/app"),qN="@firebase/app-compat",GN="@firebase/analytics-compat",KN="@firebase/analytics",QN="@firebase/app-check-compat",YN="@firebase/app-check",XN="@firebase/auth",JN="@firebase/auth-compat",ZN="@firebase/database",e2="@firebase/data-connect",t2="@firebase/database-compat",n2="@firebase/functions",r2="@firebase/functions-compat",s2="@firebase/installations",i2="@firebase/installations-compat",o2="@firebase/messaging",a2="@firebase/messaging-compat",l2="@firebase/performance",u2="@firebase/performance-compat",c2="@firebase/remote-config",d2="@firebase/remote-config-compat",h2="@firebase/storage",f2="@firebase/storage-compat",p2="@firebase/firestore",m2="@firebase/ai",g2="@firebase/firestore-compat",y2="firebase",v2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="[DEFAULT]",w2={[Pm]:"fire-core",[qN]:"fire-core-compat",[KN]:"fire-analytics",[GN]:"fire-analytics-compat",[YN]:"fire-app-check",[QN]:"fire-app-check-compat",[XN]:"fire-auth",[JN]:"fire-auth-compat",[ZN]:"fire-rtdb",[e2]:"fire-data-connect",[t2]:"fire-rtdb-compat",[n2]:"fire-fn",[r2]:"fire-fn-compat",[s2]:"fire-iid",[i2]:"fire-iid-compat",[o2]:"fire-fcm",[a2]:"fire-fcm-compat",[l2]:"fire-perf",[u2]:"fire-perf-compat",[c2]:"fire-rc",[d2]:"fire-rc-compat",[h2]:"fire-gcs",[f2]:"fire-gcs-compat",[p2]:"fire-fst",[g2]:"fire-fst-compat",[m2]:"fire-vertex","fire-js":"fire-js",[y2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,_2=new Map,Nm=new Map;function Sw(n,e){try{n.container.addComponent(e)}catch(t){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Za(n){const e=n.name;if(Nm.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,n);for(const t of th.values())Sw(t,n);for(const t of _2.values())Sw(t,n);return!0}function Eg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function kr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new Uu("app","Firebase",E2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=v2;function lx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:km,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ai.create("bad-app-name",{appName:String(i)});if(t||(t=nx()),!t)throw Ai.create("no-options");const a=th.get(i);if(a){if(No(t,a.options)&&No(r,a.config))return a;throw Ai.create("duplicate-app",{appName:i})}const u=new bN(i);for(const f of Nm.values())u.addComponent(f);const d=new T2(t,r,u);return th.set(i,d),d}function ux(n=km){const e=th.get(n);if(!e&&n===km&&nx())return lx();if(!e)throw Ai.create("no-app",{appName:n});return e}function bi(n,e,t){var r;let i=(r=w2[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${i}" with version "${e}":`];a&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(d.join(" "));return}Za(new Oo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="firebase-heartbeat-database",S2=1,Su="firebase-heartbeat-store";let Yp=null;function cx(){return Yp||(Yp=zN(x2,S2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Su)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ai.create("idb-open",{originalErrorMessage:n.message})})),Yp}async function I2(n){try{const t=(await cx()).transaction(Su),r=await t.objectStore(Su).get(dx(n));return await t.done,r}catch(e){if(e instanceof Vs)Os.warn(e.message);else{const t=Ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(t.message)}}}async function Iw(n,e){try{const r=(await cx()).transaction(Su,"readwrite");await r.objectStore(Su).put(e,dx(n)),await r.done}catch(t){if(t instanceof Vs)Os.warn(t.message);else{const r=Ai.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Os.warn(r.message)}}}function dx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=1024,A2=30;class b2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new P2(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Cw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>A2){const u=k2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Cw(),{heartbeatsToSend:r,unsentEntries:i}=R2(this._heartbeatsCache.heartbeats),a=eh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Os.warn(t),""}}}function Cw(){return new Date().toISOString().substring(0,10)}function R2(n,e=C2){const t=[];let r=n.slice();for(const i of n){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),Aw(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Aw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class P2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gN()?yN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await I2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Iw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Iw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Aw(n){return eh(JSON.stringify({version:2,heartbeats:n})).length}function k2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(n){Za(new Oo("platform-logger",e=>new WN(e),"PRIVATE")),Za(new Oo("heartbeat",e=>new b2(e),"PRIVATE")),bi(Pm,xw,n),bi(Pm,xw,"esm2017"),bi("fire-js","")}N2("");var Jr=function(){return Jr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Jr.apply(this,arguments)};function $u(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function O2(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function hx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D2=hx,fx=new Uu("auth","Firebase",hx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new wg("@firebase/auth");function M2(n,...e){nh.logLevel<=ze.WARN&&nh.warn(`Auth (${hl}): ${n}`,...e)}function Ld(n,...e){nh.logLevel<=ze.ERROR&&nh.error(`Auth (${hl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(n,...e){throw xg(n,...e)}function Or(n,...e){return xg(n,...e)}function Tg(n,e,t){const r=Object.assign(Object.assign({},D2()),{[e]:t});return new Uu("auth","Firebase",r).create(e,{appName:n.name})}function Ro(n){return Tg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L2(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&is(n,"argument-error"),Tg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return fx.create(n,...e)}function Ne(n,e,...t){if(!n)throw xg(e,...t)}function Rs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ld(e),new Error(e)}function Ds(n,e){n||Rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function V2(){return bw()==="http:"||bw()==="https:"}function bw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V2()||hN()||"connection"in navigator)?navigator.onLine:!0}function F2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ds(t>e,"Short delay should be less than long delay!"),this.isMobile=uN()||fN()}get(){return j2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(n,e){Ds(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$2=new Bu(3e4,6e4);function Ig(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function fl(n,e,t,r,i={}){return mx(n,i,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=zu(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return dN()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&dl(n.emulatorConfig.host)&&(p.credentials="include"),px.fetch()(await gx(n,n.config.apiHost,t,d),p)})}async function mx(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},U2),e);try{const i=new W2(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Td(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Td(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Td(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Tg(n,v,p);is(n,v)}}catch(i){if(i instanceof Vs)throw i;is(n,"network-request-failed",{message:String(i)})}}async function B2(n,e,t,r,i={}){const a=await fl(n,e,t,r,i);return"mfaPendingCredential"in a&&is(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function gx(n,e,t,r){const i=`${e}${t}?${r}`,a=n,u=a.config.emulator?Sg(n.config,i):`${n.config.apiScheme}://${i}`;return z2.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class W2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),$2.get())})}}function Td(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Or(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(n,e){return fl(n,"POST","/v1/accounts:delete",e)}async function rh(n,e){return fl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function q2(n,e=!1){const t=hn(n),r=await t.getIdToken(e),i=Cg(r);Ne(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:hu(Xp(i.auth_time)),issuedAtTime:hu(Xp(i.iat)),expirationTime:hu(Xp(i.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Xp(n){return Number(n)*1e3}function Cg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ld("JWT malformed, contained fewer than 3 sections"),null;try{const i=ex(t);return i?JSON.parse(i):(Ld("Failed to decode base64 JWT payload"),null)}catch(i){return Ld("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Rw(n){const e=Cg(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Vs&&G2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function G2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Iu(n,rh(t,{idToken:r}));Ne(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?yx(a.providerUserInfo):[],d=Y2(n.providerData,u),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),v=f?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Dm(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,_)}async function Q2(n){const e=hn(n);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Y2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yx(n){return n.map(e=>{var{providerId:t}=e,r=$u(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(n,e){const t=await mx(n,{},async()=>{const r=zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,u=await gx(n,i,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&dl(n.emulatorConfig.host)&&(f.credentials="include"),px.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function J2(n,e){return fl(n,"POST","/v2/accounts:revokeToken",Ig(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=Rw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await X2(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,u=new Ma;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(Ne(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ma,this.toJSON())}_performRefresh(){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Nr{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=$u(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Dm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Iu(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return q2(this,e)}reload(){return Q2(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kr(this.auth.app))return Promise.reject(Ro(this.auth));const e=await this.getIdToken();return await Iu(this,H2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,u,d,f,p,v;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(i=t.email)!==null&&i!==void 0?i:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,A=(d=t.tenantId)!==null&&d!==void 0?d:void 0,x=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,M=(p=t.createdAt)!==null&&p!==void 0?p:void 0,V=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:$,emailVerified:W,isAnonymous:Q,providerData:Z,stsTokenManager:N}=t;Ne($&&N,e,"internal-error");const P=Ma.fromJSON(this.name,N);Ne(typeof $=="string",e,"internal-error"),fi(_,e.name),fi(w,e.name),Ne(typeof W=="boolean",e,"internal-error"),Ne(typeof Q=="boolean",e,"internal-error"),fi(I,e.name),fi(R,e.name),fi(A,e.name),fi(x,e.name),fi(M,e.name),fi(V,e.name);const k=new Nr({uid:$,auth:e,email:w,emailVerified:W,displayName:_,isAnonymous:Q,photoURL:R,phoneNumber:I,tenantId:A,stsTokenManager:P,createdAt:M,lastLoginAt:V});return Z&&Array.isArray(Z)&&(k.providerData=Z.map(L=>Object.assign({},L))),x&&(k._redirectEventId=x),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ma;i.updateFromServerResponse(t);const a=new Nr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ne(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?yx(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),d=new Ma;d.updateFromIdToken(r);const f=new Nr({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Dm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new Map;function Ps(n){Ds(n instanceof Function,"Expected a class definition");let e=Pw.get(n);return e?(Ds(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Pw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vx.type="NONE";const kw=vx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(n,e,t){return`firebase:${n}:${e}:${t}`}class La{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Vd(this.userKey,i.apiKey,a),this.fullPersistenceKey=Vd("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await rh(this.auth,{idToken:e}).catch(()=>{});return t?Nr._fromGetAccountInfoResponse(this.auth,t,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new La(Ps(kw),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||Ps(kw);const u=Vd(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const v=await p._get(u);if(v){let _;if(typeof v=="string"){const w=await rh(e,{idToken:v}).catch(()=>{});if(!w)break;_=await Nr._fromGetAccountInfoResponse(e,w,v)}else _=Nr._fromJSON(e,v);p!==a&&(d=_),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new La(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new La(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sx(e))return"Blackberry";if(Ix(e))return"Webos";if(_x(e))return"Safari";if((e.includes("chrome/")||Ex(e))&&!e.includes("edge/"))return"Chrome";if(xx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wx(n=dn()){return/firefox\//i.test(n)}function _x(n=dn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ex(n=dn()){return/crios\//i.test(n)}function Tx(n=dn()){return/iemobile/i.test(n)}function xx(n=dn()){return/android/i.test(n)}function Sx(n=dn()){return/blackberry/i.test(n)}function Ix(n=dn()){return/webos/i.test(n)}function Ag(n=dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Z2(n=dn()){var e;return Ag(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eO(){return pN()&&document.documentMode===10}function Cx(n=dn()){return Ag(n)||xx(n)||Ix(n)||Sx(n)||/windows phone/i.test(n)||Tx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(n,e=[]){let t;switch(n){case"Browser":t=Nw(dn());break;case"Worker":t=`${Nw(dn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(n,e={}){return fl(n,"GET","/v2/passwordPolicy",Ig(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=6;class sO{constructor(e){var t,r,i,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:rO,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ow(this),this.idTokenSubscription=new Ow(this),this.beforeStateQueue=new tO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ps(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await La.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rh(this,{idToken:e}),r=await Nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(kr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kr(this.app))return Promise.reject(Ro(this));const t=e?hn(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kr(this.app)?Promise.reject(Ro(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kr(this.app)?Promise.reject(Ro(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nO(this),t=new sO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await J2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ps(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[Ps(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ax(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(kr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&M2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Mh(n){return hn(n)}class Ow{constructor(e){this.auth=e,this.observer=null,this.addObserver=TN(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oO(n){bg=n}function aO(n){return bg.loadJS(n)}function lO(){return bg.gapiScript}function uO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(n,e){const t=Eg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(No(a,e??{}))return i;is(i,"already-initialized")}return t.initialize({options:e})}function dO(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ps);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hO(n,e,t){const r=Mh(n);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=bx(e),{host:u,port:d}=fO(e),f=d===null?"":`:${d}`,p={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(No(p,r.config.emulator)&&No(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,dl(u)?(sx(`${a}//${u}${f}`),ix("Auth",!0)):pO()}function bx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fO(n){const e=bx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Dw(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Dw(u)}}}function Dw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function pO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Rs("not implemented")}_getIdTokenResponse(e){return Rs("not implemented")}_linkToIdToken(e,t){return Rs("not implemented")}_getReauthenticationResolver(e){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(n,e){return B2(n,"POST","/v1/accounts:signInWithIdp",Ig(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="http://localhost";class Do extends Rx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Do(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):is("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=$u(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Do(r,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Va(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Va(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Va(e,t)}buildRequest(){const e={requestUri:mO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends Rg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Wu{constructor(){super("facebook.com")}static credential(e){return Do._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Do._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return bs.credential(t,r)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Wu{constructor(){super("github.com")}static credential(e){return Do._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.GITHUB_SIGN_IN_METHOD="github.com";yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Wu{constructor(){super("twitter.com")}static credential(e,t){return Do._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return vi.credential(t,r)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Nr._fromIdTokenResponse(e,r,i),u=Mw(r);return new el({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Mw(r);return new el({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Mw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends Vs{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new ih(e,t,r,i)}}function Px(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(n,a,e,r):a})}async function gO(n,e,t=!1){const r=await Iu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return el._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(n,e,t=!1){const{auth:r}=n;if(kr(r.app))return Promise.reject(Ro(r));const i="reauthenticate";try{const a=await Iu(n,Px(r,i,e,n),t);Ne(a.idToken,r,"internal-error");const u=Cg(a.idToken);Ne(u,r,"internal-error");const{sub:d}=u;return Ne(n.uid===d,r,"user-mismatch"),el._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&is(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(n,e,t=!1){if(kr(n.app))return Promise.reject(Ro(n));const r="signIn",i=await Px(n,r,e),a=await el._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}function wO(n,e,t,r){return hn(n).onIdTokenChanged(e,t,r)}function _O(n,e,t){return hn(n).beforeAuthStateChanged(e,t)}function EO(n,e,t,r){return hn(n).onAuthStateChanged(e,t,r)}function TO(n){return hn(n).signOut()}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=1e3,SO=10;class Nx extends kx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);eO()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,SO):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},xO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nx.type="LOCAL";const IO=Nx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox extends kx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ox.type="SESSION";const Dx=Ox;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Lh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(u).map(async p=>p(t.origin,a)),f=await CO(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const p=Pg("",20);i.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(w.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function bO(n){Zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function RO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function kO(){return Mx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="firebaseLocalStorageDb",NO=1,ah="firebaseLocalStorage",Vx="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vh(n,e){return n.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function OO(){const n=indexedDB.deleteDatabase(Lx);return new Hu(n).toPromise()}function Mm(){const n=indexedDB.open(Lx,NO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ah,{keyPath:Vx})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ah)?e(r):(r.close(),await OO(),e(await Mm()))})})}async function Lw(n,e,t){const r=Vh(n,!0).put({[Vx]:e,value:t});return new Hu(r).toPromise()}async function DO(n,e){const t=Vh(n,!1).get(e),r=await new Hu(t).toPromise();return r===void 0?null:r.value}function Vw(n,e){const t=Vh(n,!0).delete(e);return new Hu(t).toPromise()}const MO=800,LO=3;class jx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>LO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(kO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await RO(),!this.activeServiceWorker)return;this.sender=new AO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mm();return await Lw(e,oh,"1"),await Vw(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>DO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Vw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Vh(i,!1).getAll();return new Hu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jx.type="LOCAL";const VO=jx;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(n,e){return e?Ps(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends Rx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Va(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Va(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Va(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jO(n){return vO(n.auth,new kg(n),n.bypassAuthState)}function FO(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),yO(t,new kg(n),n.bypassAuthState)}async function UO(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),gO(t,new kg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jO;case"linkViaPopup":case"linkViaRedirect":return UO;case"reauthViaPopup":case"reauthViaRedirect":return FO;default:is(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new Bu(2e3,1e4);async function $O(n,e,t){if(kr(n.app))return Promise.reject(Or(n,"operation-not-supported-in-this-environment"));const r=Mh(n);L2(n,e,Rg);const i=Fx(r,t);return new To(r,"signInViaPopup",e,i).executeNotNull()}class To extends Ux{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=Pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zO.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="pendingRedirect",jd=new Map;class WO extends Ux{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=jd.get(this.auth._key());if(!e){try{const r=await HO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}jd.set(this.auth._key(),e)}return this.bypassAuthState||jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HO(n,e){const t=KO(e),r=GO(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function qO(n,e){jd.set(n._key(),e)}function GO(n){return Ps(n._redirectPersistence)}function KO(n){return Vd(BO,n.config.apiKey,n.name)}async function QO(n,e,t=!1){if(kr(n.app))return Promise.reject(Ro(n));const r=Mh(n),i=Fx(r,e),u=await new WO(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=10*60*1e3;class XO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!zx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Or(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YO&&this.cachedEventUids.clear(),this.cachedEventUids.has(jw(e))}saveEventToCache(e){this.cachedEventUids.add(jw(e)),this.lastProcessedEventTime=Date.now()}}function jw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zx({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(n,e={}){return fl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tD=/^https?/;async function nD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ZO(n);for(const t of e)try{if(rD(t))return}catch{}is(n,"unauthorized-domain")}function rD(n){const e=Om(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!tD.test(t))return!1;if(eD.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new Bu(3e4,6e4);function Fw(){const n=Zr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iD(n){return new Promise((e,t)=>{var r,i,a;function u(){Fw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fw(),t(Or(n,"network-request-failed"))},timeout:sD.get()})}if(!((i=(r=Zr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Zr().gapi)===null||a===void 0)&&a.load)u();else{const d=uO("iframefcb");return Zr()[d]=()=>{gapi.load?u():t(Or(n,"network-request-failed"))},aO(`${lO()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Fd=null,e})}let Fd=null;function oD(n){return Fd=Fd||iD(n),Fd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=new Bu(5e3,15e3),lD="__/auth/iframe",uD="emulator/auth/iframe",cD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hD(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Sg(e,uD):`https://${n.config.authDomain}/${lD}`,r={apiKey:e.apiKey,appName:n.name,v:hl},i=dD.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${zu(r).slice(1)}`}async function fD(n){const e=await oD(n),t=Zr().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:hD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cD,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const u=Or(n,"network-request-failed"),d=Zr().setTimeout(()=>{a(u)},aD.get());function f(){Zr().clearTimeout(d),i(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mD=500,gD=600,yD="_blank",vD="http://localhost";class Uw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wD(n,e,t,r=mD,i=gD){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},pD),{width:r.toString(),height:i.toString(),top:a,left:u}),p=dn().toLowerCase();t&&(d=Ex(p)?yD:t),wx(p)&&(e=e||vD,f.scrollbars="yes");const v=Object.entries(f).reduce((w,[I,R])=>`${w}${I}=${R},`,"");if(Z2(p)&&d!=="_self")return _D(e||"",d),new Uw(null);const _=window.open(e||"",d,v);Ne(_,n,"popup-blocked");try{_.focus()}catch{}return new Uw(_)}function _D(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="__/auth/handler",TD="emulator/auth/handler",xD=encodeURIComponent("fac");async function zw(n,e,t,r,i,a){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:hl,eventId:i};if(e instanceof Rg){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",EN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof Wu){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),p=f?`#${xD}=${encodeURIComponent(f)}`:"";return`${SD(n)}?${zu(d).slice(1)}${p}`}function SD({config:n}){return n.emulator?Sg(n,TD):`https://${n.authDomain}/${ED}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="webStorageSupport";class ID{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dx,this._completeRedirectFn=QO,this._overrideRedirectResult=qO}async _openPopup(e,t,r,i){var a;Ds((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await zw(e,t,r,Om(),i);return wD(e,u,Pg())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await zw(e,t,r,Om(),i);return bO(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Ds(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await fD(e),r=new XO(e);return t.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jp,{type:Jp},i=>{var a;const u=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Jp];u!==void 0&&t(!!u),is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Cx()||_x()||Ag()}}const CD=ID;var $w="@firebase/auth",Bw="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RD(n){Za(new Oo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ax(n)},p=new iO(r,i,a,f);return dO(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Za(new Oo("auth-internal",e=>{const t=Mh(e.getProvider("auth").getImmediate());return(r=>new AD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi($w,Bw,bD(n)),bi($w,Bw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=5*60,kD=rx("authIdTokenMaxAge")||PD;let Ww=null;const ND=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>kD)return;const i=t==null?void 0:t.token;Ww!==i&&(Ww=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $x(n=ux()){const e=Eg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=cO(n,{popupRedirectResolver:CD,persistence:[VO,IO,Dx]}),r=rx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=ND(a.toString());_O(t,u,()=>u(t.currentUser)),wO(t,d=>u(d))}}const i=tx("auth");return i&&hO(t,`http://${i}`),t}function OD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}oO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Or("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",OD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RD("Browser");const Bx=C.createContext(void 0),Zp={user:null,isAuthenticated:!1,coins:0,transactions:[],spinsLeft:20,totalSpinsToday:0,dailyCheckIn:!1,completedTasks:new Set};function DD({children:n}){const[e,t]=C.useState(Zp),r=$x();C.useEffect(()=>{const w=EO(r,I=>{if(I){const R={name:I.displayName||"User",email:I.email||"",picture:I.photoURL||"/placeholder.svg"};t(A=>({...A,user:R,isAuthenticated:!0}))}else t(R=>({...R,user:null,isAuthenticated:!1}))});return()=>w()},[r]);const i=w=>{t(I=>({...I,user:w,isAuthenticated:!0}))},a=async()=>{try{await TO(r),t(Zp)}catch(w){console.error("Logout error:",w),t(Zp)}},u=(w,I,R)=>{const A={id:Date.now().toString(),type:"earn",title:I,amount:w,date:new Date().toISOString().split("T")[0],status:"completed",description:R};t(x=>({...x,coins:x.coins+w,transactions:[A,...x.transactions]}))},d=(w,I,R)=>{const A={id:Date.now().toString(),type:"redeem",title:I,amount:-w,date:new Date().toISOString().split("T")[0],status:"pending",description:R||"Request submitted, processing..."};t(x=>({...x,coins:x.coins-w,transactions:[A,...x.transactions]}))},f=w=>{t(I=>({...I,dailyCheckIn:w}))},p=w=>{t(I=>({...I,completedTasks:new Set(I.completedTasks).add(w)}))},v=w=>{t(I=>({...I,spinsLeft:Math.max(0,I.spinsLeft-w),totalSpinsToday:I.totalSpinsToday+w}))},_=(w,I)=>{t(R=>({...R,transactions:R.transactions.map(A=>A.id===w?{...A,status:I}:A)}))};return T.jsx(Bx.Provider,{value:{state:e,login:i,logout:a,addCoins:u,redeemCoins:d,setDailyCheckIn:f,addCompletedTask:p,useSpins:v,updateTransactionStatus:_},children:n})}function qu(){const n=C.useContext(Bx);if(n===void 0)throw new Error("useApp must be used within an AppProvider");return n}const MD=og("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ri=C.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},a)=>{const u=r?Qa:"button";return T.jsx(u,{className:ot(MD({variant:e,size:t,className:n})),ref:a,...i})});Ri.displayName="Button";const ln=C.forwardRef(({className:n,...e},t)=>T.jsx("div",{ref:t,className:ot("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));ln.displayName="Card";const Wx=C.forwardRef(({className:n,...e},t)=>T.jsx("div",{ref:t,className:ot("flex flex-col space-y-1.5 p-6",n),...e}));Wx.displayName="CardHeader";const Hx=C.forwardRef(({className:n,...e},t)=>T.jsx("h3",{ref:t,className:ot("text-2xl font-semibold leading-none tracking-tight",n),...e}));Hx.displayName="CardTitle";const LD=C.forwardRef(({className:n,...e},t)=>T.jsx("p",{ref:t,className:ot("text-sm text-muted-foreground",n),...e}));LD.displayName="CardDescription";const un=C.forwardRef(({className:n,...e},t)=>T.jsx("div",{ref:t,className:ot("p-6 pt-0",n),...e}));un.displayName="CardContent";const VD=C.forwardRef(({className:n,...e},t)=>T.jsx("div",{ref:t,className:ot("flex items-center p-6 pt-0",n),...e}));VD.displayName="CardFooter";var Ng="Avatar",[jD,Hj]=wh(Ng),[FD,qx]=jD(Ng),Gx=C.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[i,a]=C.useState("idle");return T.jsx(FD,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:T.jsx(at.span,{...r,ref:e})})});Gx.displayName=Ng;var Kx="AvatarImage",Qx=C.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:i=()=>{},...a}=n,u=qx(Kx,t),d=UD(r),f=wn(p=>{i(p),u.onImageLoadingStatusChange(p)});return _n(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?T.jsx(at.img,{...a,ref:e,src:r}):null});Qx.displayName=Kx;var Yx="AvatarFallback",Xx=C.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...i}=n,a=qx(Yx,t),[u,d]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(f)}},[r]),u&&a.imageLoadingStatus!=="loaded"?T.jsx(at.span,{...i,ref:e}):null});Xx.displayName=Yx;function UD(n){const[e,t]=C.useState("idle");return _n(()=>{if(!n){t("error");return}let r=!0;const i=new window.Image,a=u=>()=>{r&&t(u)};return t("loading"),i.onload=a("loaded"),i.onerror=a("error"),i.src=n,()=>{r=!1}},[n]),e}var Jx=Gx,Zx=Qx,e1=Xx;const t1=C.forwardRef(({className:n,...e},t)=>T.jsx(Jx,{ref:t,className:ot("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));t1.displayName=Jx.displayName;const n1=C.forwardRef(({className:n,...e},t)=>T.jsx(Zx,{ref:t,className:ot("aspect-square h-full w-full",n),...e}));n1.displayName=Zx.displayName;const r1=C.forwardRef(({className:n,...e},t)=>T.jsx(e1,{ref:t,className:ot("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));r1.displayName=e1.displayName;const zD=og("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Cu({className:n,variant:e,...t}){return T.jsx("div",{className:ot(zD({variant:e}),n),...t})}var $D="firebase",BD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi($D,BD,"app");var Hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pi,s1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,P){function k(){}k.prototype=P.prototype,N.D=P.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(L,F,j){for(var O=Array(arguments.length-2),le=2;le<arguments.length;le++)O[le-2]=arguments[le];return P.prototype[F].apply(L,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,P,k){k||(k=0);var L=Array(16);if(typeof P=="string")for(var F=0;16>F;++F)L[F]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(F=0;16>F;++F)L[F]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=N.g[0],k=N.g[1],F=N.g[2];var j=N.g[3],O=P+(j^k&(F^j))+L[0]+3614090360&4294967295;P=k+(O<<7&4294967295|O>>>25),O=j+(F^P&(k^F))+L[1]+3905402710&4294967295,j=P+(O<<12&4294967295|O>>>20),O=F+(k^j&(P^k))+L[2]+606105819&4294967295,F=j+(O<<17&4294967295|O>>>15),O=k+(P^F&(j^P))+L[3]+3250441966&4294967295,k=F+(O<<22&4294967295|O>>>10),O=P+(j^k&(F^j))+L[4]+4118548399&4294967295,P=k+(O<<7&4294967295|O>>>25),O=j+(F^P&(k^F))+L[5]+1200080426&4294967295,j=P+(O<<12&4294967295|O>>>20),O=F+(k^j&(P^k))+L[6]+2821735955&4294967295,F=j+(O<<17&4294967295|O>>>15),O=k+(P^F&(j^P))+L[7]+4249261313&4294967295,k=F+(O<<22&4294967295|O>>>10),O=P+(j^k&(F^j))+L[8]+1770035416&4294967295,P=k+(O<<7&4294967295|O>>>25),O=j+(F^P&(k^F))+L[9]+2336552879&4294967295,j=P+(O<<12&4294967295|O>>>20),O=F+(k^j&(P^k))+L[10]+4294925233&4294967295,F=j+(O<<17&4294967295|O>>>15),O=k+(P^F&(j^P))+L[11]+2304563134&4294967295,k=F+(O<<22&4294967295|O>>>10),O=P+(j^k&(F^j))+L[12]+1804603682&4294967295,P=k+(O<<7&4294967295|O>>>25),O=j+(F^P&(k^F))+L[13]+4254626195&4294967295,j=P+(O<<12&4294967295|O>>>20),O=F+(k^j&(P^k))+L[14]+2792965006&4294967295,F=j+(O<<17&4294967295|O>>>15),O=k+(P^F&(j^P))+L[15]+1236535329&4294967295,k=F+(O<<22&4294967295|O>>>10),O=P+(F^j&(k^F))+L[1]+4129170786&4294967295,P=k+(O<<5&4294967295|O>>>27),O=j+(k^F&(P^k))+L[6]+3225465664&4294967295,j=P+(O<<9&4294967295|O>>>23),O=F+(P^k&(j^P))+L[11]+643717713&4294967295,F=j+(O<<14&4294967295|O>>>18),O=k+(j^P&(F^j))+L[0]+3921069994&4294967295,k=F+(O<<20&4294967295|O>>>12),O=P+(F^j&(k^F))+L[5]+3593408605&4294967295,P=k+(O<<5&4294967295|O>>>27),O=j+(k^F&(P^k))+L[10]+38016083&4294967295,j=P+(O<<9&4294967295|O>>>23),O=F+(P^k&(j^P))+L[15]+3634488961&4294967295,F=j+(O<<14&4294967295|O>>>18),O=k+(j^P&(F^j))+L[4]+3889429448&4294967295,k=F+(O<<20&4294967295|O>>>12),O=P+(F^j&(k^F))+L[9]+568446438&4294967295,P=k+(O<<5&4294967295|O>>>27),O=j+(k^F&(P^k))+L[14]+3275163606&4294967295,j=P+(O<<9&4294967295|O>>>23),O=F+(P^k&(j^P))+L[3]+4107603335&4294967295,F=j+(O<<14&4294967295|O>>>18),O=k+(j^P&(F^j))+L[8]+1163531501&4294967295,k=F+(O<<20&4294967295|O>>>12),O=P+(F^j&(k^F))+L[13]+2850285829&4294967295,P=k+(O<<5&4294967295|O>>>27),O=j+(k^F&(P^k))+L[2]+4243563512&4294967295,j=P+(O<<9&4294967295|O>>>23),O=F+(P^k&(j^P))+L[7]+1735328473&4294967295,F=j+(O<<14&4294967295|O>>>18),O=k+(j^P&(F^j))+L[12]+2368359562&4294967295,k=F+(O<<20&4294967295|O>>>12),O=P+(k^F^j)+L[5]+4294588738&4294967295,P=k+(O<<4&4294967295|O>>>28),O=j+(P^k^F)+L[8]+2272392833&4294967295,j=P+(O<<11&4294967295|O>>>21),O=F+(j^P^k)+L[11]+1839030562&4294967295,F=j+(O<<16&4294967295|O>>>16),O=k+(F^j^P)+L[14]+4259657740&4294967295,k=F+(O<<23&4294967295|O>>>9),O=P+(k^F^j)+L[1]+2763975236&4294967295,P=k+(O<<4&4294967295|O>>>28),O=j+(P^k^F)+L[4]+1272893353&4294967295,j=P+(O<<11&4294967295|O>>>21),O=F+(j^P^k)+L[7]+4139469664&4294967295,F=j+(O<<16&4294967295|O>>>16),O=k+(F^j^P)+L[10]+3200236656&4294967295,k=F+(O<<23&4294967295|O>>>9),O=P+(k^F^j)+L[13]+681279174&4294967295,P=k+(O<<4&4294967295|O>>>28),O=j+(P^k^F)+L[0]+3936430074&4294967295,j=P+(O<<11&4294967295|O>>>21),O=F+(j^P^k)+L[3]+3572445317&4294967295,F=j+(O<<16&4294967295|O>>>16),O=k+(F^j^P)+L[6]+76029189&4294967295,k=F+(O<<23&4294967295|O>>>9),O=P+(k^F^j)+L[9]+3654602809&4294967295,P=k+(O<<4&4294967295|O>>>28),O=j+(P^k^F)+L[12]+3873151461&4294967295,j=P+(O<<11&4294967295|O>>>21),O=F+(j^P^k)+L[15]+530742520&4294967295,F=j+(O<<16&4294967295|O>>>16),O=k+(F^j^P)+L[2]+3299628645&4294967295,k=F+(O<<23&4294967295|O>>>9),O=P+(F^(k|~j))+L[0]+4096336452&4294967295,P=k+(O<<6&4294967295|O>>>26),O=j+(k^(P|~F))+L[7]+1126891415&4294967295,j=P+(O<<10&4294967295|O>>>22),O=F+(P^(j|~k))+L[14]+2878612391&4294967295,F=j+(O<<15&4294967295|O>>>17),O=k+(j^(F|~P))+L[5]+4237533241&4294967295,k=F+(O<<21&4294967295|O>>>11),O=P+(F^(k|~j))+L[12]+1700485571&4294967295,P=k+(O<<6&4294967295|O>>>26),O=j+(k^(P|~F))+L[3]+2399980690&4294967295,j=P+(O<<10&4294967295|O>>>22),O=F+(P^(j|~k))+L[10]+4293915773&4294967295,F=j+(O<<15&4294967295|O>>>17),O=k+(j^(F|~P))+L[1]+2240044497&4294967295,k=F+(O<<21&4294967295|O>>>11),O=P+(F^(k|~j))+L[8]+1873313359&4294967295,P=k+(O<<6&4294967295|O>>>26),O=j+(k^(P|~F))+L[15]+4264355552&4294967295,j=P+(O<<10&4294967295|O>>>22),O=F+(P^(j|~k))+L[6]+2734768916&4294967295,F=j+(O<<15&4294967295|O>>>17),O=k+(j^(F|~P))+L[13]+1309151649&4294967295,k=F+(O<<21&4294967295|O>>>11),O=P+(F^(k|~j))+L[4]+4149444226&4294967295,P=k+(O<<6&4294967295|O>>>26),O=j+(k^(P|~F))+L[11]+3174756917&4294967295,j=P+(O<<10&4294967295|O>>>22),O=F+(P^(j|~k))+L[2]+718787259&4294967295,F=j+(O<<15&4294967295|O>>>17),O=k+(j^(F|~P))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+P&4294967295,N.g[1]=N.g[1]+(F+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+F&4294967295,N.g[3]=N.g[3]+j&4294967295}r.prototype.u=function(N,P){P===void 0&&(P=N.length);for(var k=P-this.blockSize,L=this.B,F=this.h,j=0;j<P;){if(F==0)for(;j<=k;)i(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<P;)if(L[F++]=N.charCodeAt(j++),F==this.blockSize){i(this,L),F=0;break}}else for(;j<P;)if(L[F++]=N[j++],F==this.blockSize){i(this,L),F=0;break}}this.h=F,this.o+=P},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var P=1;P<N.length-8;++P)N[P]=0;var k=8*this.o;for(P=N.length-8;P<N.length;++P)N[P]=k&255,k/=256;for(this.u(N),N=Array(16),P=k=0;4>P;++P)for(var L=0;32>L;L+=8)N[k++]=this.g[P]>>>L&255;return N};function a(N,P){var k=d;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=P(N)}function u(N,P){this.h=P;for(var k=[],L=!0,F=N.length-1;0<=F;F--){var j=N[F]|0;L&&j==P||(k[F]=j,L=!1)}this.g=k}var d={};function f(N){return-128<=N&&128>N?a(N,function(P){return new u([P|0],0>P?-1:0)}):new u([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return x(p(-N));for(var P=[],k=1,L=0;N>=k;L++)P[L]=N/k|0,k*=4294967296;return new u(P,0)}function v(N,P){if(N.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(N.charAt(0)=="-")return x(v(N.substring(1),P));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(P,8)),L=_,F=0;F<N.length;F+=8){var j=Math.min(8,N.length-F),O=parseInt(N.substring(F,F+j),P);8>j?(j=p(Math.pow(P,j)),L=L.j(j).add(p(O))):(L=L.j(k),L=L.add(p(O)))}return L}var _=f(0),w=f(1),I=f(16777216);n=u.prototype,n.m=function(){if(A(this))return-x(this).m();for(var N=0,P=1,k=0;k<this.g.length;k++){var L=this.i(k);N+=(0<=L?L:4294967296+L)*P,P*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(A(this))return"-"+x(this).toString(N);for(var P=p(Math.pow(N,6)),k=this,L="";;){var F=W(k,P).g;k=M(k,F.j(P));var j=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=F,R(k))return j+L;for(;6>j.length;)j="0"+j;L=j+L}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(var P=0;P<N.g.length;P++)if(N.g[P]!=0)return!1;return!0}function A(N){return N.h==-1}n.l=function(N){return N=M(this,N),A(N)?-1:R(N)?0:1};function x(N){for(var P=N.g.length,k=[],L=0;L<P;L++)k[L]=~N.g[L];return new u(k,~N.h).add(w)}n.abs=function(){return A(this)?x(this):this},n.add=function(N){for(var P=Math.max(this.g.length,N.g.length),k=[],L=0,F=0;F<=P;F++){var j=L+(this.i(F)&65535)+(N.i(F)&65535),O=(j>>>16)+(this.i(F)>>>16)+(N.i(F)>>>16);L=O>>>16,j&=65535,O&=65535,k[F]=O<<16|j}return new u(k,k[k.length-1]&-2147483648?-1:0)};function M(N,P){return N.add(x(P))}n.j=function(N){if(R(this)||R(N))return _;if(A(this))return A(N)?x(this).j(x(N)):x(x(this).j(N));if(A(N))return x(this.j(x(N)));if(0>this.l(I)&&0>N.l(I))return p(this.m()*N.m());for(var P=this.g.length+N.g.length,k=[],L=0;L<2*P;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var F=0;F<N.g.length;F++){var j=this.i(L)>>>16,O=this.i(L)&65535,le=N.i(F)>>>16,Ie=N.i(F)&65535;k[2*L+2*F]+=O*Ie,V(k,2*L+2*F),k[2*L+2*F+1]+=j*Ie,V(k,2*L+2*F+1),k[2*L+2*F+1]+=O*le,V(k,2*L+2*F+1),k[2*L+2*F+2]+=j*le,V(k,2*L+2*F+2)}for(L=0;L<P;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=P;L<2*P;L++)k[L]=0;return new u(k,0)};function V(N,P){for(;(N[P]&65535)!=N[P];)N[P+1]+=N[P]>>>16,N[P]&=65535,P++}function $(N,P){this.g=N,this.h=P}function W(N,P){if(R(P))throw Error("division by zero");if(R(N))return new $(_,_);if(A(N))return P=W(x(N),P),new $(x(P.g),x(P.h));if(A(P))return P=W(N,x(P)),new $(x(P.g),P.h);if(30<N.g.length){if(A(N)||A(P))throw Error("slowDivide_ only works with positive integers.");for(var k=w,L=P;0>=L.l(N);)k=Q(k),L=Q(L);var F=Z(k,1),j=Z(L,1);for(L=Z(L,2),k=Z(k,2);!R(L);){var O=j.add(L);0>=O.l(N)&&(F=F.add(k),j=O),L=Z(L,1),k=Z(k,1)}return P=M(N,F.j(P)),new $(F,P)}for(F=_;0<=N.l(P);){for(k=Math.max(1,Math.floor(N.m()/P.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),j=p(k),O=j.j(P);A(O)||0<O.l(N);)k-=L,j=p(k),O=j.j(P);R(j)&&(j=w),F=F.add(j),N=M(N,O)}return new $(F,N)}n.A=function(N){return W(this,N).h},n.and=function(N){for(var P=Math.max(this.g.length,N.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)&N.i(L);return new u(k,this.h&N.h)},n.or=function(N){for(var P=Math.max(this.g.length,N.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)|N.i(L);return new u(k,this.h|N.h)},n.xor=function(N){for(var P=Math.max(this.g.length,N.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)^N.i(L);return new u(k,this.h^N.h)};function Q(N){for(var P=N.g.length+1,k=[],L=0;L<P;L++)k[L]=N.i(L)<<1|N.i(L-1)>>>31;return new u(k,N.h)}function Z(N,P){var k=P>>5;P%=32;for(var L=N.g.length-k,F=[],j=0;j<L;j++)F[j]=0<P?N.i(j+k)>>>P|N.i(j+k+1)<<32-P:N.i(j+k);return new u(F,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,s1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Pi=u}).apply(typeof Hw<"u"?Hw:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i1,iu,o1,Ud,Lm,a1,l1,u1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,E){return c==Array.prototype||c==Object.prototype||(c[g]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var g=0;g<c.length;++g){var E=c[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(c,g){if(g)e:{var E=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var H=c[b];if(!(H in E))break e;E=E[H]}c=c[c.length-1],b=E[c],g=g(b),g!=b&&g!=null&&e(E,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var E=0,b=!1,H={next:function(){if(!b&&E<c.length){var J=E++;return{value:g(J,c[J]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(c){return c||function(){return a(this,function(g,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,E){return c.call.apply(c.bind,arguments)}function _(c,g,E){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),c.apply(g,H)}}return function(){return c.apply(g,arguments)}}function w(c,g,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:_,w.apply(null,arguments)}function I(c,g){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function R(c,g){function E(){}E.prototype=g.prototype,c.aa=g.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(b,H,J){for(var de=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)de[Ze-2]=arguments[Ze];return g.prototype[H].apply(b,de)}}function A(c){const g=c.length;if(0<g){const E=Array(g);for(let b=0;b<g;b++)E[b]=c[b];return E}return[]}function x(c,g){for(let E=1;E<arguments.length;E++){const b=arguments[E];if(f(b)){const H=c.length||0,J=b.length||0;c.length=H+J;for(let de=0;de<J;de++)c[H+de]=b[de]}else c.push(b)}}class M{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function V(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var Q=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function Z(c,g,E){for(const b in c)g.call(E,c[b],b,c)}function N(c,g){for(const E in c)g.call(void 0,c[E],E,c)}function P(c){const g={};for(const E in c)g[E]=c[E];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(c,g){let E,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(E in b)c[E]=b[E];for(let J=0;J<k.length;J++)E=k[J],Object.prototype.hasOwnProperty.call(b,E)&&(c[E]=b[E])}}function F(c){var g=1;c=c.split(":");const E=[];for(;0<g&&c.length;)E.push(c.shift()),g--;return c.length&&E.push(c.join(":")),E}function j(c){d.setTimeout(()=>{throw c},0)}function O(){var c=oe;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class le{constructor(){this.h=this.g=null}add(g,E){const b=Ie.get();b.set(g,E),this.h?this.h.next=b:this.g=b,this.h=b}}var Ie=new M(()=>new we,c=>c.reset());class we{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,K=!1,oe=new le,ue=()=>{const c=d.Promise.resolve(void 0);ye=()=>{c.then(U)}};var U=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(E){j(E)}var g=Ie;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}K=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,g),d.removeEventListener("test",E,g)}catch{}return c}();function Pe(c,g){if(ce.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(Q){e:{try{W(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else E=="mouseover"?g=c.fromElement:E=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}R(Pe,ce);var Te={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Le=0;function Be(c,g,E,b,H){this.listener=c,this.proxy=null,this.src=g,this.type=E,this.capture=!!b,this.ha=H,this.key=++Le,this.da=this.fa=!1}function et(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Tn(c){this.src=c,this.g={},this.h=0}Tn.prototype.add=function(c,g,E,b,H){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var de=Xt(c,g,b,H);return-1<de?(g=c[de],E||(g.fa=!1)):(g=new Be(g,this.src,J,!!b,H),g.fa=E,c.push(g)),g};function Mn(c,g){var E=g.type;if(E in c.g){var b=c.g[E],H=Array.prototype.indexOf.call(b,g,void 0),J;(J=0<=H)&&Array.prototype.splice.call(b,H,1),J&&(et(g),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Xt(c,g,E,b){for(var H=0;H<c.length;++H){var J=c[H];if(!J.da&&J.listener==g&&J.capture==!!E&&J.ha==b)return H}return-1}var Ln="closure_lm_"+(1e6*Math.random()|0),ur={};function xn(c,g,E,b,H){if(Array.isArray(g)){for(var J=0;J<g.length;J++)xn(c,g[J],E,b,H);return null}return E=Us(E),c&&c[Fe]?c.K(g,E,p(b)?!!b.capture:!1,H):us(c,g,E,!1,b,H)}function us(c,g,E,b,H,J){if(!g)throw Error("Invalid event type");var de=p(H)?!!H.capture:!!H,Ze=dr(c);if(Ze||(c[Ln]=Ze=new Tn(c)),E=Ze.add(g,E,b,de,J),E.proxy)return E;if(b=js(),E.proxy=b,b.src=c,b.listener=E,c.addEventListener)xe||(H=de),H===void 0&&(H=!1),c.addEventListener(g.toString(),b,H);else if(c.attachEvent)c.attachEvent(cr(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function js(){function c(E){return g.call(c.src,c.listener,E)}const g=Gi;return c}function ft(c,g,E,b,H){if(Array.isArray(g))for(var J=0;J<g.length;J++)ft(c,g[J],E,b,H);else b=p(b)?!!b.capture:!!b,E=Us(E),c&&c[Fe]?(c=c.i,g=String(g).toString(),g in c.g&&(J=c.g[g],E=Xt(J,E,b,H),-1<E&&(et(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete c.g[g],c.h--)))):c&&(c=dr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Xt(g,E,b,H)),(E=-1<c?g[c]:null)&&Jt(E))}function Jt(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Fe])Mn(g.i,c);else{var E=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(E,b,c.capture):g.detachEvent?g.detachEvent(cr(E),b):g.addListener&&g.removeListener&&g.removeListener(b),(E=dr(g))?(Mn(E,c),E.h==0&&(E.src=null,g[Ln]=null)):et(c)}}}function cr(c){return c in ur?ur[c]:ur[c]="on"+c}function Gi(c,g){if(c.da)c=!0;else{g=new Pe(g,this);var E=c.listener,b=c.ha||c.src;c.fa&&Jt(c),c=E.call(b,g)}return c}function dr(c){return c=c[Ln],c instanceof Tn?c:null}var Fs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Us(c){return typeof c=="function"?c:(c[Fs]||(c[Fs]=function(g){return c.handleEvent(g)}),c[Fs])}function gt(){X.call(this),this.i=new Tn(this),this.M=this,this.F=null}R(gt,X),gt.prototype[Fe]=!0,gt.prototype.removeEventListener=function(c,g,E,b){ft(this,c,g,E,b)};function rt(c,g){var E,b=c.F;if(b)for(E=[];b;b=b.F)E.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new ce(g,c);else if(g instanceof ce)g.target=g.target||c;else{var H=g;g=new ce(b,c),L(g,H)}if(H=!0,E)for(var J=E.length-1;0<=J;J--){var de=g.g=E[J];H=Qn(de,b,!0,g)&&H}if(de=g.g=c,H=Qn(de,b,!0,g)&&H,H=Qn(de,b,!1,g)&&H,E)for(J=0;J<E.length;J++)de=g.g=E[J],H=Qn(de,b,!1,g)&&H}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var E=c.g[g],b=0;b<E.length;b++)et(E[b]);delete c.g[g],c.h--}}this.F=null},gt.prototype.K=function(c,g,E,b){return this.i.add(String(c),g,!1,E,b)},gt.prototype.L=function(c,g,E,b){return this.i.add(String(c),g,!0,E,b)};function Qn(c,g,E,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,J=0;J<g.length;++J){var de=g[J];if(de&&!de.da&&de.capture==E){var Ze=de.listener,Nt=de.ha||de.src;de.fa&&Mn(c.i,de),H=Ze.call(Nt,b)!==!1&&H}}return H&&!b.defaultPrevented}function Yn(c,g,E){if(typeof c=="function")E&&(c=w(c,E));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function hr(c){c.g=Yn(()=>{c.g=null,c.i&&(c.i=!1,hr(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class cs extends X{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:hr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(c){X.call(this),this.h=c,this.g={}}R(jr,X);var zs=[];function Ki(c){Z(c.g,function(g,E){this.g.hasOwnProperty(E)&&Jt(g)},c),c.g={}}jr.prototype.N=function(){jr.aa.N.call(this),Ki(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=d.JSON.stringify,Sn=d.JSON.parse,Qi=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function be(){}be.prototype.h=null;function Qe(c){return c.h||(c.h=c.i())}function Ge(){}var yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xt(){ce.call(this,"d")}R(xt,ce);function fr(){ce.call(this,"c")}R(fr,ce);var Xn={},vl=null;function Yi(){return vl=vl||new gt}Xn.La="serverreachability";function wl(c){ce.call(this,Xn.La,c)}R(wl,ce);function hs(c){const g=Yi();rt(g,new wl(g))}Xn.STAT_EVENT="statevent";function _l(c,g){ce.call(this,Xn.STAT_EVENT,c),this.stat=g}R(_l,ce);function St(c){const g=Yi();rt(g,new _l(g,c))}Xn.Ma="timingevent";function Uo(c,g){ce.call(this,Xn.Ma,c),this.size=g}R(Uo,ce);function pr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function Xi(){this.g=!0}Xi.prototype.xa=function(){this.g=!1};function Ji(c,g,E,b,H,J){c.info(function(){if(c.g)if(J)for(var de="",Ze=J.split("&"),Nt=0;Nt<Ze.length;Nt++){var He=Ze[Nt].split("=");if(1<He.length){var Ft=He[0];He=He[1];var At=Ft.split("_");de=2<=At.length&&At[1]=="type"?de+(Ft+"="+He+"&"):de+(Ft+"=redacted&")}}else de=null;else de=J;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+g+`
`+E+`
`+de})}function zo(c,g,E,b,H,J,de){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+g+`
`+E+`
`+J+" "+de})}function mr(c,g,E,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+sf(c,E)+(b?" "+b:"")})}function El(c,g){c.info(function(){return"TIMEOUT: "+g})}Xi.prototype.info=function(){};function sf(c,g){if(!c.g)return g;if(!g)return null;try{var E=JSON.parse(g);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var b=E[c];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var J=H[0];if(J!="noop"&&J!="stop"&&J!="close")for(var de=1;de<H.length;de++)H[de]=""}}}}return ds(E)}catch{return g}}var $o={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ec={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gr;function Zi(){}R(Zi,be),Zi.prototype.g=function(){return new XMLHttpRequest},Zi.prototype.i=function(){return{}},gr=new Zi;function yr(c,g,E,b){this.j=c,this.i=g,this.l=E,this.R=b||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tc}function tc(){this.i=null,this.g="",this.h=!1}var Tl={},Bo={};function Wo(c,g,E){c.L=1,c.v=qs(jn(g)),c.m=E,c.P=!0,xl(c,null)}function xl(c,g){c.F=Date.now(),st(c),c.A=jn(c.v);var E=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Ks(E.i,"t",b),c.C=0,E=c.j.J,c.h=new tc,c.g=wc(c.j,E?g:null,!c.m),0<c.O&&(c.M=new cs(w(c.Y,c,c.g),c.O)),g=c.U,E=c.g,b=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(zs[0]=H.toString()),H=zs);for(var J=0;J<H.length;J++){var de=xn(E,H[J],b||g.handleEvent,!1,g.h||g);if(!de)break;g.g[de.key]=de}g=c.H?P(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),hs(),Ji(c.i,c.u,c.A,c.l,c.R,c.m)}yr.prototype.ca=function(c){c=c.target;const g=this.M;g&&Cn(c)==3?g.j():this.Y(c)},yr.prototype.Y=function(c){try{if(c==this.g)e:{const At=Cn(this.g);var g=this.g.Ba();const er=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Rl(this.g)))){this.J||At!=4||g==7||(g==8||0>=er?hs(3):hs(2)),eo(this);var E=this.g.Z();this.X=E;t:if(nc(this)){var b=Rl(this.g);c="";var H=b.length,J=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jn(this),$s(this);var de="";break t}this.h.i=new d.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(J&&g==H-1)});b.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,zo(this.i,this.u,this.A,this.l,this.R,At,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Nt=this.g;if((Ze=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Ze)){var He=Ze;break t}}He=null}if(E=He)mr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sl(this,E);else{this.o=!1,this.s=3,St(12),Jn(this),$s(this);break e}}if(this.P){E=!0;let Un;for(;!this.J&&this.C<de.length;)if(Un=of(this,de),Un==Bo){At==4&&(this.s=4,St(14),E=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==Tl){this.s=4,St(15),mr(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else mr(this.i,this.l,Un,null),Sl(this,Un);if(nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||de.length!=0||this.h.h||(this.s=1,St(16),E=!1),this.o=this.o&&E,!E)mr(this.i,this.l,de,"[Invalid Chunked Response]"),Jn(this),$s(this);else if(0<de.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),kl(Ft),Ft.M=!0,St(11))}}else mr(this.i,this.l,de,null),Sl(this,de);At==4&&Jn(this),this.o&&!this.J&&(At==4?ta(this.j,this):(this.o=!1,st(this)))}else Yo(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Jn(this),$s(this)}}}catch{}finally{}};function nc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function of(c,g){var E=c.C,b=g.indexOf(`
`,E);return b==-1?Bo:(E=Number(g.substring(E,b)),isNaN(E)?Tl:(b+=1,b+E>g.length?Bo:(g=g.slice(b,b+E),c.C=b+E,g)))}yr.prototype.cancel=function(){this.J=!0,Jn(this)};function st(c){c.S=Date.now()+c.I,rc(c,c.I)}function rc(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pr(w(c.ba,c),g)}function eo(c){c.B&&(d.clearTimeout(c.B),c.B=null)}yr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(El(this.i,this.A),this.L!=2&&(hs(),St(17)),Jn(this),this.s=2,$s(this)):rc(this,this.S-c)};function $s(c){c.j.G==0||c.J||ta(c.j,c)}function Jn(c){eo(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ki(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Sl(c,g){try{var E=c.j;if(E.G!=0&&(E.g==c||fn(E.h,c))){if(!c.K&&fn(E.h,c)&&E.G==3){try{var b=E.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)ea(E),Tr(E);else break e;Zo(E),St(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=pr(w(E.Za,E),6e3));if(1>=ic(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ys(E,11)}else if((c.K||E.g==c)&&ea(E),!V(g))for(H=E.Da.g.parse(g),g=0;g<H.length;g++){let He=H[g];if(E.T=He[0],He=He[1],E.G==2)if(He[0]=="c"){E.K=He[1],E.ia=He[2];const Ft=He[3];Ft!=null&&(E.la=Ft,E.j.info("VER="+E.la));const At=He[4];At!=null&&(E.Aa=At,E.j.info("SVER="+E.Aa));const er=He[5];er!=null&&typeof er=="number"&&0<er&&(b=1.5*er,E.L=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const Un=c.g;if(Un){const ao=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ao){var J=b.h;J.g||ao.indexOf("spdy")==-1&&ao.indexOf("quic")==-1&&ao.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Il(J,J.h),J.h=null))}if(b.D){const ra=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;ra&&(b.ya=ra,tt(b.I,b.D,ra))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),b=E;var de=c;if(b.qa=vc(b,b.J?b.ia:null,b.W),de.K){oc(b.h,de);var Ze=de,Nt=b.L;Nt&&(Ze.I=Nt),Ze.B&&(eo(Ze),st(Ze)),b.g=de}else oo(b);0<E.i.length&&$r(E)}else He[0]!="stop"&&He[0]!="close"||ys(E,7);else E.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?ys(E,7):Ht(E):He[0]!="noop"&&E.l&&E.l.ta(He),E.v=0)}}hs(4)}catch{}}var sc=class{constructor(c,g){this.g=c,this.map=g}};function to(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ic(c){return c.h?1:c.g?c.g.size:0}function fn(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Il(c,g){c.g?c.g.add(g):c.h=g}function oc(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}to.prototype.cancel=function(){if(this.i=ac(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ac(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const E of c.g.values())g=g.concat(E.D);return g}return A(c.i)}function Ho(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],E=c.length,b=0;b<E;b++)g.push(c[b]);return g}g=[],E=0;for(b in c)g[E++]=c[b];return g}function qo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var E=0;E<c;E++)g.push(E);return g}g=[],E=0;for(const b in c)g[E++]=b;return g}}}function Bs(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var E=qo(c),b=Ho(c),H=b.length,J=0;J<H;J++)g.call(void 0,b[J],E&&E[J],c)}var no=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function af(c,g){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var b=c[E].indexOf("="),H=null;if(0<=b){var J=c[E].substring(0,b);H=c[E].substring(b+1)}else J=c[E];g(J,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function fs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof fs){this.h=c.h,ro(this,c.j),this.o=c.o,this.g=c.g,Ws(this,c.s),this.l=c.l;var g=c.i,E=new Fr;E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),Hs(this,E),this.m=c.m}else c&&(g=String(c).match(no))?(this.h=!1,ro(this,g[1]||"",!0),this.o=We(g[2]||""),this.g=We(g[3]||"",!0),Ws(this,g[4]),this.l=We(g[5]||"",!0),Hs(this,g[6]||"",!0),this.m=We(g[7]||"")):(this.h=!1,this.i=new Fr(null,this.h))}fs.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Gs(g,Go,!0),":");var E=this.g;return(E||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Gs(g,Go,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Gs(E,E.charAt(0)=="/"?cc:uc,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Gs(E,Cl)),c.join("")};function jn(c){return new fs(c)}function ro(c,g,E){c.j=E?We(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ws(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Hs(c,g,E){g instanceof Fr?(c.i=g,Ur(c.i,c.h)):(E||(g=Gs(g,dc)),c.i=new Fr(g,c.h))}function tt(c,g,E){c.i.set(g,E)}function qs(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function We(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Gs(c,g,E){return typeof c=="string"?(c=encodeURI(c).replace(g,lc),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function lc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Go=/[#\/\?@]/g,uc=/[#\?:]/g,cc=/[#\?]/g,dc=/[#\?@]/g,Cl=/#/g;function Fr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Wt(c){c.g||(c.g=new Map,c.h=0,c.i&&af(c.i,function(g,E){c.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}n=Fr.prototype,n.add=function(c,g){Wt(this),this.i=null,c=Zn(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(g),this.h+=1,this};function vr(c,g){Wt(c),g=Zn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function wr(c,g){return Wt(c),g=Zn(c,g),c.g.has(g)}n.forEach=function(c,g){Wt(this),this.g.forEach(function(E,b){E.forEach(function(H){c.call(g,H,b,this)},this)},this)},n.na=function(){Wt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),E=[];for(let b=0;b<g.length;b++){const H=c[b];for(let J=0;J<H.length;J++)E.push(g[b])}return E},n.V=function(c){Wt(this);let g=[];if(typeof c=="string")wr(this,c)&&(g=g.concat(this.g.get(Zn(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)g=g.concat(c[E])}return g},n.set=function(c,g){return Wt(this),this.i=null,c=Zn(this,c),wr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ks(c,g,E){vr(c,g),0<E.length&&(c.i=null,c.g.set(Zn(c,g),A(E)),c.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var E=0;E<g.length;E++){var b=g[E];const J=encodeURIComponent(String(b)),de=this.V(b);for(b=0;b<de.length;b++){var H=J;de[b]!==""&&(H+="="+encodeURIComponent(String(de[b]))),c.push(H)}}return this.i=c.join("&")};function Zn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ur(c,g){g&&!c.j&&(Wt(c),c.i=null,c.g.forEach(function(E,b){var H=b.toLowerCase();b!=H&&(vr(this,b),Ks(this,H,E))},c)),c.j=g}function lf(c,g){const E=new Xi;if(d.Image){const b=new Image;b.onload=I(In,E,"TestLoadImage: loaded",!0,g,b),b.onerror=I(In,E,"TestLoadImage: error",!1,g,b),b.onabort=I(In,E,"TestLoadImage: abort",!1,g,b),b.ontimeout=I(In,E,"TestLoadImage: timeout",!1,g,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function hc(c,g){const E=new Xi,b=new AbortController,H=setTimeout(()=>{b.abort(),In(E,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(J=>{clearTimeout(H),J.ok?In(E,"TestPingServer: ok",!0,g):In(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),In(E,"TestPingServer: error",!1,g)})}function In(c,g,E,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(E)}catch{}}function uf(){this.g=new Qi}function fc(c,g,E){const b=E||"";try{Bs(c,function(H,J){let de=H;p(H)&&(de=ds(H)),g.push(b+J+"="+encodeURIComponent(de))})}catch(H){throw g.push(b+"type="+encodeURIComponent("_badmap")),H}}function ps(c){this.l=c.Ub||null,this.j=c.eb||!1}R(ps,be),ps.prototype.g=function(){return new so(this.l,this.j)},ps.prototype.i=function(c){return function(){return c}}({});function so(c,g){gt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(so,gt),n=so.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Er(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function pc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?_r(this):Er(this),this.readyState==3&&pc(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,_r(this))},n.Qa=function(c){this.g&&(this.response=c,_r(this))},n.ga=function(){this.g&&_r(this)};function _r(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Er(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=g.next();return c.join(`\r
`)};function Er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(so.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ms(c){let g="";return Z(c,function(E,b){g+=b,g+=":",g+=E,g+=`\r
`}),g}function Qs(c,g,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=ms(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):tt(c,g,E))}function pt(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(pt,gt);var cf=/^https?$/i,Al=["POST","PUT"];n=pt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gr.g(),this.v=this.o?Qe(this.o):Qe(gr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(J){io(this,J);return}if(c=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)E.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const J of b.keys())E.set(J,b.get(J));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Al,g,void 0))||b||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of E)this.g.setRequestHeader(J,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qo(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){io(this,J)}};function io(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ko(c),Fn(c)}function Ko(c){c.A||(c.A=!0,rt(c,"complete"),rt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,rt(this,"complete"),rt(this,"abort"),Fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),pt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?bl(this):this.bb())},n.bb=function(){bl(this)};function bl(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)Yn(c.Ea,0,c);else if(rt(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var b;if(b=de===0){var H=String(c.D).match(no)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),b=!cf.test(H?H.toLowerCase():"")}E=b}if(E)rt(c,"complete"),rt(c,"success");else{c.m=6;try{var J=2<Cn(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",Ko(c)}}finally{Fn(c)}}}}function Fn(c,g){if(c.g){Qo(c);const E=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||rt(c,"ready");try{E.onreadystatechange=b}catch{}}}function Qo(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Sn(g)}};function Rl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yo(c){const g={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(V(c[b]))continue;var E=F(c[b]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=g[H]||[];g[H]=J,J.push(E)}N(g,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(c,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||g}function Pl(c){this.Aa=0,this.i=[],this.j=new Xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,c),this.cb=zr("retryDelaySeedMs",1e4,c),this.Wa=zr("forwardChannelMaxRetries",2,c),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new to(c&&c.concurrentRequestLimit),this.Da=new uf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Pl.prototype,n.la=8,n.G=1,n.connect=function(c,g,E,b){St(0),this.W=c,this.H=g||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.I=vc(this,null,this.W),$r(this)};function Ht(c){if(Xo(c),c.G==3){var g=c.U++,E=jn(c.I);if(tt(E,"SID",c.K),tt(E,"RID",g),tt(E,"TYPE","terminate"),gs(c,E),g=new yr(c,c.j,g),g.L=2,g.v=qs(jn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=g.v,E=!0),E||(g.g=wc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),st(g)}yc(c)}function Tr(c){c.g&&(kl(c),c.g.cancel(),c.g=null)}function Xo(c){Tr(c),c.u&&(d.clearTimeout(c.u),c.u=null),ea(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function $r(c){if(!Vn(c.h)&&!c.s){c.s=!0;var g=c.Ga;ye||ue(),K||(ye(),K=!0),oe.add(g,c),c.B=0}}function df(c,g){return ic(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pr(w(c.Ga,c,g),gc(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new yr(this,this.j,c);let J=this.o;if(this.S&&(J?(J=P(J),L(J,this.S)):J=this.S),this.m!==null||this.O||(H.H=J,J=null),this.P)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=Ys(this,H,g),E=jn(this.I),tt(E,"RID",c),tt(E,"CVER",22),this.D&&tt(E,"X-HTTP-Session-Id",this.D),gs(this,E),J&&(this.O?g="headers="+encodeURIComponent(String(ms(J)))+"&"+g:this.m&&Qs(E,this.m,J)),Il(this.h,H),this.Ua&&tt(E,"TYPE","init"),this.P?(tt(E,"$req",g),tt(E,"SID","null"),H.T=!0,Wo(H,E,null)):Wo(H,E,g),this.G=2}}else this.G==3&&(c?Jo(this,c):this.i.length==0||Vn(this.h)||Jo(this))};function Jo(c,g){var E;g?E=g.l:E=c.U++;const b=jn(c.I);tt(b,"SID",c.K),tt(b,"RID",E),tt(b,"AID",c.T),gs(c,b),c.m&&c.o&&Qs(b,c.m,c.o),E=new yr(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Ys(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Il(c.h,E),Wo(E,b,g)}function gs(c,g){c.H&&Z(c.H,function(E,b){tt(g,b,E)}),c.l&&Bs({},function(E,b){tt(g,b,E)})}function Ys(c,g,E){E=Math.min(c.i.length,E);var b=c.l?w(c.l.Na,c.l,c):null;e:{var H=c.i;let J=-1;for(;;){const de=["count="+E];J==-1?0<E?(J=H[0].g,de.push("ofs="+J)):J=0:de.push("ofs="+J);let Ze=!0;for(let Nt=0;Nt<E;Nt++){let He=H[Nt].g;const Ft=H[Nt].map;if(He-=J,0>He)J=Math.max(0,H[Nt].g-100),Ze=!1;else try{fc(Ft,de,"req"+He+"_")}catch{b&&b(Ft)}}if(Ze){b=de.join("&");break e}}}return c=c.i.splice(0,E),g.D=c,b}function oo(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ye||ue(),K||(ye(),K=!0),oe.add(g,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pr(w(c.Fa,c),gc(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,mc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pr(w(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),Tr(this),mc(this))};function kl(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function mc(c){c.g=new yr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=jn(c.qa);tt(g,"RID","rpc"),tt(g,"SID",c.K),tt(g,"AID",c.T),tt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(g,"TO",c.ja),tt(g,"TYPE","xmlhttp"),gs(c,g),c.m&&c.o&&Qs(g,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=qs(jn(g)),E.m=null,E.P=!0,xl(E,c)}n.Za=function(){this.C!=null&&(this.C=null,Tr(this),Zo(this),St(19))};function ea(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ta(c,g){var E=null;if(c.g==g){ea(c),kl(c),c.g=null;var b=2}else if(fn(c.h,g))E=g.D,oc(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){E=g.m?g.m.length:0,g=Date.now()-g.F;var H=c.B;b=Yi(),rt(b,new Uo(b,E)),$r(c)}else oo(c);else if(H=g.s,H==3||H==0&&0<g.X||!(b==1&&df(c,g)||b==2&&Zo(c)))switch(E&&0<E.length&&(g=c.h,g.i=g.i.concat(E)),H){case 1:ys(c,5);break;case 4:ys(c,10);break;case 3:ys(c,6);break;default:ys(c,2)}}}function gc(c,g){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*g}function ys(c,g){if(c.j.info("Error code "+g),g==2){var E=w(c.fb,c),b=c.Xa;const H=!b;b=new fs(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ro(b,"https"),qs(b),H?lf(b.toString(),E):hc(b.toString(),E)}else St(2);c.G=0,c.l&&c.l.sa(g),yc(c),Xo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function yc(c){if(c.G=0,c.ka=[],c.l){const g=ac(c.h);(g.length!=0||c.i.length!=0)&&(x(c.ka,g),x(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function vc(c,g,E){var b=E instanceof fs?jn(E):new fs(E);if(b.g!="")g&&(b.g=g+"."+b.g),Ws(b,b.s);else{var H=d.location;b=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var J=new fs(null);b&&ro(J,b),g&&(J.g=g),H&&Ws(J,H),E&&(J.l=E),b=J}return E=c.D,g=c.ya,E&&g&&tt(b,E,g),tt(b,"VER",c.la),gs(c,b),b}function wc(c,g,E){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new pt(new ps({eb:E})):new pt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nl(){}n=Nl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function na(){}na.prototype.g=function(c,g){return new pn(c,g)};function pn(c,g){gt.call(this),this.g=new Pl(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!V(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!V(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Br(this)}R(pn,gt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Ht(this.g)},pn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=ds(c),c=E);g.i.push(new sc(g.Ya++,c)),g.G==3&&$r(g)},pn.prototype.N=function(){this.g.l=null,delete this.j,Ht(this.g),delete this.g,pn.aa.N.call(this)};function _c(c){xt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const E in g){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}R(_c,xt);function Ec(){fr.call(this),this.status=1}R(Ec,fr);function Br(c){this.g=c}R(Br,Nl),Br.prototype.ua=function(){rt(this.g,"a")},Br.prototype.ta=function(c){rt(this.g,new _c(c))},Br.prototype.sa=function(c){rt(this.g,new Ec)},Br.prototype.ra=function(){rt(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,u1=function(){return new na},l1=function(){return Yi()},a1=Xn,Lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$o.NO_ERROR=0,$o.TIMEOUT=8,$o.HTTP_ERROR=6,Ud=$o,ec.COMPLETE="complete",o1=ec,Ge.EventType=yt,yt.OPEN="a",yt.CLOSE="b",yt.ERROR="c",yt.MESSAGE="d",gt.prototype.listen=gt.prototype.K,iu=Ge,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,i1=pt}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});const qw="@firebase/firestore",Gw="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new wg("@firebase/firestore");function Ra(){return Mo.logLevel}function pe(n,...e){if(Mo.logLevel<=ze.DEBUG){const t=e.map(Og);Mo.debug(`Firestore (${pl}): ${n}`,...t)}}function Ms(n,...e){if(Mo.logLevel<=ze.ERROR){const t=e.map(Og);Mo.error(`Firestore (${pl}): ${n}`,...t)}}function Vi(n,...e){if(Mo.logLevel<=ze.WARN){const t=e.map(Og);Mo.warn(`Firestore (${pl}): ${n}`,...t)}}function Og(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,c1(n,r,t)}function c1(n,e,t){let r=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ms(r),new Error(r)}function Je(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||c1(e,i,r)}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Vs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(an.UNAUTHENTICATED))}shutdown(){}}class HD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qD{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ki,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},d=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ki)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new d1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class GD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new GD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0,3512);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Kw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=YD(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function je(n,e){return n<e?-1:n>e?1:0}function Vm(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return je(r,i);{const a=h1(),u=XD(a.encode(Qw(n,t)),a.encode(Qw(e,t)));return u!==0?u:je(r,i)}}t+=r>65535?2:1}return je(n.length,e.length)}function Qw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function XD(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return je(n[t],e[t]);return je(n.length,e.length)}function tl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="__name__";class Kr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Re(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Kr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Kr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return je(e.length,t.length)}static compareSegments(e,t){const r=Kr.isNumericId(e),i=Kr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Kr.extractNumericId(e).compare(Kr.extractNumericId(t)):Vm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pi.fromString(e.substring(4,e.length-2))}}class dt extends Kr{construct(e,t,r){return new dt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new dt(t)}static emptyPath(){return new dt([])}}const JD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Kr{construct(e,t,r){return new Qt(e,t,r)}static isValidIdentifier(e){return JD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yw}static keyField(){return new Qt([Yw])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ee(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Ee(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ee(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(u=!u,i++):d!=="."||u?(r+=d,i++):(a(),i++)}if(a(),u)throw new Ee(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(t)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(dt.fromString(e))}static fromName(e){return new Se(dt.fromString(e).popFirst(5))}static empty(){return new Se(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(n,e,t){if(!t)throw new Ee(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ZD(n,e,t,r){if(e===!0&&r===!0)throw new Ee(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Xw(n){if(!Se.isDocumentKey(n))throw new Ee(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Jw(n){if(Se.isDocumentKey(n))throw new Ee(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function p1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Mg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function ji(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mg(n);throw new Ee(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Gu(n,e){if(!p1(n))throw new Ee(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(i&&typeof u!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new Ee(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=-62135596800,e_=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*e_);return new ht(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Zw)throw new Ee(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e_}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Pt("string",ht._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new ht(0,0))}static max(){return new Oe(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=-1;function eM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(r===1e9?new ht(t+1,0):new ht(t,r));return new Fi(i,Se.empty(),e)}function tM(n){return new Fi(n.readTime,n.key,Au)}class Fi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fi(Oe.min(),Se.empty(),Au)}static max(){return new Fi(Oe.max(),Se.empty(),Au)}}function nM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==rM)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let i=0,a=0,u=!1;e.forEach(d=>{++i,d.next(()=>{++a,u&&a===i&&t()},f=>r(f))}),u=!0,a===i&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(i=>i?ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,i)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(v=>{u[p]=v,++d,d===a&&r(u)},v=>i(v))}})}static doWhile(e,t){return new ee((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function iM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function gl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}jh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=-1;function Fh(n){return n==null}function lh(n){return n===0&&1/n==-1/0}function oM(n){return typeof n=="number"&&Number.isInteger(n)&&!lh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="";function aM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=t_(e)),e=lM(n.get(t),e);return t_(e)}function lM(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case m1:t+="";break;default:t+=a}}return t}function t_(n){return n+m1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function g1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||Kt.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sd(this.root,e,this.comparator,!0)}}class Sd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=a??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Kt(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Vt(Qt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new y1("Invalid base64 string: "+a):a}}(e);return new Yt(t)}static fromUint8Array(e){const t=function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a}(e);return new Yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const uM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(n){if(Je(!!n,39018),typeof n=="string"){let e=0;const t=uM.exec(n);if(Je(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zi(n){return typeof n=="string"?Yt.fromBase64String(n):Yt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="server_timestamp",w1="__type__",_1="__previous_value__",E1="__local_write_time__";function Vg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[w1])===null||t===void 0?void 0:t.stringValue)===v1}function Uh(n){const e=n.mapValue.fields[_1];return Vg(e)?Uh(e):e}function bu(n){const e=Ui(n.mapValue.fields[E1].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,t,r,i,a,u,d,f,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v}}const uh="(default)";class Ru{constructor(e,t){this.projectId=e,this.database=t||uh}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="__type__",dM="__max__",Id={mapValue:{}},x1="__vector__",ch="value";function $i(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vg(n)?4:fM(n)?9007199254740991:hM(n)?10:11:Re(28295,{value:n})}function os(n,e){if(n===e)return!0;const t=$i(n);if(t!==$i(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bu(n).isEqual(bu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=Ui(i.timestampValue),d=Ui(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return zi(i.bytesValue).isEqual(zi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Ct(i.geoPointValue.latitude)===Ct(a.geoPointValue.latitude)&&Ct(i.geoPointValue.longitude)===Ct(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Ct(i.integerValue)===Ct(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=Ct(i.doubleValue),d=Ct(a.doubleValue);return u===d?lh(u)===lh(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return tl(n.arrayValue.values||[],e.arrayValue.values||[],os);case 10:case 11:return function(i,a){const u=i.mapValue.fields||{},d=a.mapValue.fields||{};if(n_(u)!==n_(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!os(u[f],d[f])))return!1;return!0}(n,e);default:return Re(52216,{left:n})}}function Pu(n,e){return(n.values||[]).find(t=>os(t,e))!==void 0}function nl(n,e){if(n===e)return 0;const t=$i(n),r=$i(e);if(t!==r)return je(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=Ct(a.integerValue||a.doubleValue),f=Ct(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return s_(n.timestampValue,e.timestampValue);case 4:return s_(bu(n),bu(e));case 5:return Vm(n.stringValue,e.stringValue);case 6:return function(a,u){const d=zi(a),f=zi(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const v=je(d[p],f[p]);if(v!==0)return v}return je(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=je(Ct(a.latitude),Ct(u.latitude));return d!==0?d:je(Ct(a.longitude),Ct(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return i_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,p,v;const _=a.fields||{},w=u.fields||{},I=(d=_[ch])===null||d===void 0?void 0:d.arrayValue,R=(f=w[ch])===null||f===void 0?void 0:f.arrayValue,A=je(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((v=R==null?void 0:R.values)===null||v===void 0?void 0:v.length)||0);return A!==0?A:i_(I,R)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Id.mapValue&&u===Id.mapValue)return 0;if(a===Id.mapValue)return 1;if(u===Id.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let _=0;_<f.length&&_<v.length;++_){const w=Vm(f[_],v[_]);if(w!==0)return w;const I=nl(d[f[_]],p[v[_]]);if(I!==0)return I}return je(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Re(23264,{le:t})}}function s_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=Ui(n),r=Ui(e),i=je(t.seconds,r.seconds);return i!==0?i:je(t.nanos,r.nanos)}function i_(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=nl(t[i],r[i]);if(a)return a}return je(t.length,r.length)}function rl(n){return jm(n)}function jm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ui(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return zi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=jm(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${jm(t.fields[u])}`;return i+"}"}(n.mapValue):Re(61005,{value:n})}function zd(n){switch($i(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(n);return e?16+zd(e):16;case 5:return 2*n.stringValue.length;case 6:return zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+zd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Hi(r.fields,(a,u)=>{i+=a.length+zd(u)}),i}(n.mapValue);default:throw Re(13486,{value:n})}}function Fm(n){return!!n&&"integerValue"in n}function jg(n){return!!n&&"arrayValue"in n}function o_(n){return!!n&&"nullValue"in n}function a_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $d(n){return!!n&&"mapValue"in n}function hM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[T1])===null||t===void 0?void 0:t.stringValue)===x1}function fu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=fu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===dM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$d(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=Qt.emptyPath(),r={},i=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=d.popLast()}u?r[d.lastSegment()]=fu(u):i.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());$d(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return os(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];$d(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Hi(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Dn(fu(this.value))}}function S1(n){const e=[];return Hi(n.fields,(t,r)=>{const i=new Qt([t]);if($d(r)){const a=S1(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,r,i,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new cn(e,0,Oe.min(),Oe.min(),Oe.min(),Dn.empty(),0)}static newFoundDocument(e,t,r,i){return new cn(e,1,t,Oe.min(),r,i,0)}static newNoDocument(e,t){return new cn(e,2,t,Oe.min(),Oe.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Oe.min(),Oe.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t){this.position=e,this.inclusive=t}}function l_(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(a.field.isKeyField()?r=Se.comparator(Se.fromName(u.referenceValue),t.key):r=nl(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function u_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!os(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t="asc"){this.field=e,this.dir=t}}function pM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{}class Mt extends I1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new gM(e,t,r):t==="array-contains"?new wM(e,r):t==="in"?new _M(e,r):t==="not-in"?new EM(e,r):t==="array-contains-any"?new TM(e,r):new Mt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new yM(e,r):new vM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(nl(t,this.value)):t!==null&&$i(this.value)===$i(t)&&this.matchesComparison(nl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class as extends I1{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new as(e,t)}matches(e){return C1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function C1(n){return n.op==="and"}function A1(n){return mM(n)&&C1(n)}function mM(n){for(const e of n.filters)if(e instanceof as)return!1;return!0}function Um(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+rl(n.value);if(A1(n))return n.filters.map(e=>Um(e)).join(",");{const e=n.filters.map(t=>Um(t)).join(",");return`${n.op}(${e})`}}function b1(n,e){return n instanceof Mt?function(r,i){return i instanceof Mt&&r.op===i.op&&r.field.isEqual(i.field)&&os(r.value,i.value)}(n,e):n instanceof as?function(r,i){return i instanceof as&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,u,d)=>a&&b1(u,i.filters[d]),!0):!1}(n,e):void Re(19439)}function R1(n){return n instanceof Mt?function(t){return`${t.field.canonicalString()} ${t.op} ${rl(t.value)}`}(n):n instanceof as?function(t){return t.op.toString()+" {"+t.getFilters().map(R1).join(" ,")+"}"}(n):"Filter"}class gM extends Mt{constructor(e,t,r){super(e,t,r),this.key=Se.fromName(r.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class yM extends Mt{constructor(e,t){super(e,"in",t),this.keys=P1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vM extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=P1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function P1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Se.fromName(r.referenceValue))}class wM extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jg(t)&&Pu(t.arrayValue,this.value)}}class _M extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pu(this.value.arrayValue,t)}}class EM extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Pu(this.value.arrayValue,t)}}class TM extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Pu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,t=null,r=[],i=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=d,this.Pe=null}}function c_(n,e=null,t=[],r=[],i=null,a=null,u=null){return new xM(n,e,t,r,i,a,u)}function Fg(n){const e=De(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Um(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Fh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>rl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>rl(r)).join(",")),e.Pe=t}return e.Pe}function Ug(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!pM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!b1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!u_(n.startAt,e.startAt)&&u_(n.endAt,e.endAt)}function zm(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t=null,r=[],i=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function SM(n,e,t,r,i,a,u,d){return new zh(n,e,t,r,i,a,u,d)}function zg(n){return new zh(n)}function d_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function IM(n){return n.collectionGroup!==null}function pu(n){const e=De(n);if(e.Te===null){e.Te=[];const t=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Vt(Qt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Te.push(new hh(a,r))}),t.has(Qt.keyField().canonicalString())||e.Te.push(new hh(Qt.keyField(),r))}return e.Te}function es(n){const e=De(n);return e.Ie||(e.Ie=CM(e,pu(n))),e.Ie}function CM(n,e){if(n.limitType==="F")return c_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new hh(i.field,a)});const t=n.endAt?new dh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new dh(n.startAt.position,n.startAt.inclusive):null;return c_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $m(n,e,t){return new zh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $h(n,e){return Ug(es(n),es(e))&&n.limitType===e.limitType}function k1(n){return`${Fg(es(n))}|lt:${n.limitType}`}function Pa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>R1(i)).join(", ")}]`),Fh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>rl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>rl(i)).join(",")),`Target(${r})`}(es(n))}; limitType=${n.limitType})`}function Bh(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of pu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,d,f){const p=l_(u,d,f);return u.inclusive?p<=0:p<0}(r.startAt,pu(r),i)||r.endAt&&!function(u,d,f){const p=l_(u,d,f);return u.inclusive?p>=0:p>0}(r.endAt,pu(r),i))}(n,e)}function AM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function N1(n){return(e,t)=>{let r=!1;for(const i of pu(n)){const a=bM(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function bM(n,e,t){const r=n.field.isKeyField()?Se.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?nl(f,p):Re(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hi(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return g1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=new _t(Se.comparator);function Ls(){return RM}const O1=new _t(Se.comparator);function ou(...n){let e=O1;for(const t of n)e=e.insert(t.key,t);return e}function D1(n){let e=O1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xo(){return mu()}function M1(){return mu()}function mu(){return new jo(n=>n.toString(),(n,e)=>n.isEqual(e))}const PM=new _t(Se.comparator),kM=new Vt(Se.comparator);function $e(...n){let e=kM;for(const t of n)e=e.add(t);return e}const NM=new Vt(je);function OM(){return NM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function L1(n){return{integerValue:""+n}}function V1(n,e){return oM(e)?L1(e):$g(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function DM(n,e,t){return n instanceof ku?function(i,a){const u={fields:{[w1]:{stringValue:v1},[E1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Vg(a)&&(a=Uh(a)),a&&(u.fields[_1]=a),{mapValue:u}}(t,e):n instanceof Nu?F1(n,e):n instanceof Ou?U1(n,e):function(i,a){const u=j1(i,a),d=h_(u)+h_(i.Ee);return Fm(u)&&Fm(i.Ee)?L1(d):$g(i.serializer,d)}(n,e)}function MM(n,e,t){return n instanceof Nu?F1(n,e):n instanceof Ou?U1(n,e):t}function j1(n,e){return n instanceof Du?function(r){return Fm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ku extends Wh{}class Nu extends Wh{constructor(e){super(),this.elements=e}}function F1(n,e){const t=z1(e);for(const r of n.elements)t.some(i=>os(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ou extends Wh{constructor(e){super(),this.elements=e}}function U1(n,e){let t=z1(e);for(const r of n.elements)t=t.filter(i=>!os(i,r));return{arrayValue:{values:t}}}class Du extends Wh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function h_(n){return Ct(n.integerValue||n.doubleValue)}function z1(n){return jg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,t){this.field=e,this.transform=t}}function LM(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Nu&&i instanceof Nu||r instanceof Ou&&i instanceof Ou?tl(r.elements,i.elements,os):r instanceof Du&&i instanceof Du?os(r.Ee,i.Ee):r instanceof ku&&i instanceof ku}(n.transform,e.transform)}class VM{constructor(e,t){this.version=e,this.transformResults=t}}class Dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Hh{}function B1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new H1(n.key,Dr.none()):new Ku(n.key,n.data,Dr.none());{const t=n.data,r=Dn.empty();let i=new Vt(Qt.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new qi(n.key,r,new Gn(i.toArray()),Dr.none())}}function jM(n,e,t){n instanceof Ku?function(i,a,u){const d=i.value.clone(),f=p_(i.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof qi?function(i,a,u){if(!Bd(i.precondition,a))return void a.convertToUnknownDocument(u.version);const d=p_(i.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(W1(i)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function gu(n,e,t,r){return n instanceof Ku?function(a,u,d,f){if(!Bd(a.precondition,u))return d;const p=a.value.clone(),v=m_(a.fieldTransforms,f,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof qi?function(a,u,d,f){if(!Bd(a.precondition,u))return d;const p=m_(a.fieldTransforms,f,u),v=u.data;return v.setAll(W1(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,u,d){return Bd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function FM(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=j1(r.transform,i||null);a!=null&&(t===null&&(t=Dn.empty()),t.set(r.field,a))}return t||null}function f_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tl(r,i,(a,u)=>LM(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ku extends Hh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qi extends Hh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function W1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function p_(n,e,t){const r=new Map;Je(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,d=e.data.field(a.field);r.set(a.field,MM(u,d,t[i]))}return r}function m_(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,DM(a,u,e))}return r}class H1 extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UM extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&jM(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=M1();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(i.key)?null:d;const f=B1(u,d);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$e())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,(t,r)=>f_(t,r))&&tl(this.baseMutations,e.baseMutations,(t,r)=>f_(t,r))}}class Bg{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Je(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return PM}();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new Bg(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $M=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,qe;function WM(n){switch(n){case ne.OK:return Re(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function q1(n){if(n===void 0)return Ms("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Rt.OK:return ne.OK;case Rt.CANCELLED:return ne.CANCELLED;case Rt.UNKNOWN:return ne.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ne.INTERNAL;case Rt.UNAVAILABLE:return ne.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ne.NOT_FOUND;case Rt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Rt.ABORTED:return ne.ABORTED;case Rt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Rt.DATA_LOSS:return ne.DATA_LOSS;default:return Re(39323,{code:n})}}(qe=Rt||(Rt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new Pi([4294967295,4294967295],0);function g_(n){const e=h1().encode(n),t=new s1;return t.update(e),new Uint8Array(t.digest())}function y_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Pi([t,r],0),new Pi([i,a],0)]}class Wg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new au(`Invalid padding: ${t}`);if(r<0)throw new au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new au(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Pi.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Pi.fromNumber(r)));return i.compare(HM)===1&&(i=new Pi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=g_(e),[r,i]=y_(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,i,a);if(!this.ye(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Wg(a,i,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.fe===0)return;const t=g_(e),[r,i]=y_(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,i,a);this.we(u)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Qu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new qh(Oe.min(),i,new _t(je),Ls(),$e())}}class Qu{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Qu(r,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}}class G1{constructor(e,t){this.targetId=e,this.De=t}}class K1{constructor(e,t,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class v_{constructor(){this.ve=0,this.Ce=w_(),this.Fe=Yt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=$e(),t=$e(),r=$e();return this.Ce.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Re(38017,{changeType:a})}}),new Qu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=w_()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class qM{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ls(),this.je=Cd(),this.Je=Cd(),this.He=new _t(je)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){const t=e.targetId,r=e.De.count,i=this.st(t);if(i){const a=i.target;if(zm(a))if(r===0){const u=new Se(a.path);this.Xe(t,u,cn.newNoDocument(u,Oe.min()))}else Je(r===1,20013,{expectedCount:r});else{const u=this.ot(t);if(u!==r){const d=this._t(e),f=d?this.ut(d,e,u):1;if(f!==0){this.rt(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,p)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let u,d;try{u=zi(r).toUint8Array()}catch(f){if(f instanceof y1)return Vi("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Wg(u,i,a)}catch(f){return Vi(f instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.fe===0?null:d}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const u=this.We.lt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,a,null),i++)}),i}Pt(e){const t=new Map;this.Ge.forEach((a,u)=>{const d=this.st(u);if(d){if(a.current&&zm(d.target)){const f=new Se(d.target.path);this.Tt(f).has(u)||this.It(u,f)||this.Xe(u,f,cn.newNoDocument(f,e))}a.Ne&&(t.set(u,a.Le()),a.ke())}});let r=$e();this.Je.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const p=this.st(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.ze.forEach((a,u)=>u.setReadTime(e));const i=new qh(e,t,this.He,this.ze,r);return this.ze=Ls(),this.je=Cd(),this.Je=Cd(),this.He=new _t(je),i}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new v_,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Vt(je),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Vt(je),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new v_),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Cd(){return new _t(Se.comparator)}function w_(){return new _t(Se.comparator)}const GM={asc:"ASCENDING",desc:"DESCENDING"},KM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QM={and:"AND",or:"OR"};class YM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bm(n,e){return n.useProto3Json||Fh(e)?e:{value:e}}function fh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function XM(n,e){return fh(n,e.toTimestamp())}function ts(n){return Je(!!n,49232),Oe.fromTimestamp(function(t){const r=Ui(t);return new ht(r.seconds,r.nanos)}(n))}function Hg(n,e){return Wm(n,e).canonicalString()}function Wm(n,e){const t=function(i){return new dt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Y1(n){const e=dt.fromString(n);return Je(tS(e),10190,{key:e.toString()}),e}function Hm(n,e){return Hg(n.databaseId,e.path)}function em(n,e){const t=Y1(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(J1(t))}function X1(n,e){return Hg(n.databaseId,e)}function JM(n){const e=Y1(n);return e.length===4?dt.emptyPath():J1(e)}function qm(n){return new dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function J1(n){return Je(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function __(n,e,t){return{name:Hm(n,e),fields:t.value.mapValue.fields}}function ZM(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,v){return p.useProto3Json?(Je(v===void 0||typeof v=="string",58123),Yt.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Yt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(p){const v=p.code===void 0?ne.UNKNOWN:q1(p.code);return new Ee(v,p.message||"")}(u);t=new K1(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=em(n,r.document.name),a=ts(r.document.updateTime),u=r.document.createTime?ts(r.document.createTime):Oe.min(),d=new Dn({mapValue:{fields:r.document.fields}}),f=cn.newFoundDocument(i,a,u,d),p=r.targetIds||[],v=r.removedTargetIds||[];t=new Wd(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=em(n,r.document),a=r.readTime?ts(r.readTime):Oe.min(),u=cn.newNoDocument(i,a),d=r.removedTargetIds||[];t=new Wd([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=em(n,r.document),a=r.removedTargetIds||[];t=new Wd([],a,i,null)}else{if(!("filter"in e))return Re(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new BM(i,a),d=r.targetId;t=new G1(d,u)}}return t}function eL(n,e){let t;if(e instanceof Ku)t={update:__(n,e.key,e.value)};else if(e instanceof H1)t={delete:Hm(n,e.key)};else if(e instanceof qi)t={update:__(n,e.key,e.data),updateMask:uL(e.fieldMask)};else{if(!(e instanceof UM))return Re(16599,{Rt:e.type});t={verify:Hm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof ku)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Nu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ou)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Du)return{fieldPath:u.field.canonicalString(),increment:d.Ee};throw Re(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:XM(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re(27497)}(n,e.precondition)),t}function tL(n,e){return n&&n.length>0?(Je(e!==void 0,14353),n.map(t=>function(i,a){let u=i.updateTime?ts(i.updateTime):ts(a);return u.isEqual(Oe.min())&&(u=ts(a)),new VM(u,i.transformResults||[])}(t,e))):[]}function nL(n,e){return{documents:[X1(n,e.path)]}}function rL(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=X1(n,i);const a=function(p){if(p.length!==0)return eS(as.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(v=>function(w){return{field:ka(w.field),direction:oL(w.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Bm(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:t,parent:i}}function sL(n){let e=JM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Je(r===1,65062);const v=t.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(_){const w=Z1(_);return w instanceof as&&A1(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(w=>function(R){return new hh(Na(R.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(_){let w;return w=typeof _=="object"?_.value:_,Fh(w)?null:w}(t.limit));let f=null;t.startAt&&(f=function(_){const w=!!_.before,I=_.values||[];return new dh(I,w)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const w=!_.before,I=_.values||[];return new dh(I,w)}(t.endAt)),SM(e,i,u,a,d,"F",f,p)}function iL(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Z1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Na(t.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Na(t.unaryFilter.field);return Mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Na(t.unaryFilter.field);return Mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Na(t.unaryFilter.field);return Mt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(n):n.fieldFilter!==void 0?function(t){return Mt.create(Na(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return as.create(t.compositeFilter.filters.map(r=>Z1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(t.compositeFilter.op))}(n):Re(30097,{filter:n})}function oL(n){return GM[n]}function aL(n){return KM[n]}function lL(n){return QM[n]}function ka(n){return{fieldPath:n.canonicalString()}}function Na(n){return Qt.fromServerFormat(n.fieldPath)}function eS(n){return n instanceof Mt?function(t){if(t.op==="=="){if(a_(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NAN"}};if(o_(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(a_(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NOT_NAN"}};if(o_(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(t.field),op:aL(t.op),value:t.value}}}(n):n instanceof as?function(t){const r=t.getFilters().map(i=>eS(i));return r.length===1?r[0]:{compositeFilter:{op:lL(t.op),filters:r}}}(n):Re(54877,{filter:n})}function uL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function tS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,t,r,i,a=Oe.min(),u=Oe.min(),d=Yt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.gt=e}}function dL(n){const e=sL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.Dn=new fL}addToCollectionParentIndex(e,t){return this.Dn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Fi.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class fL{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vt(dt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nS=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(nS,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new sl(0)}static ur(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="LruGarbageCollector",pL=1048576;function x_([n,e],[t,r]){const i=je(n,t);return i===0?je(e,r):i}class mL{constructor(e){this.Tr=e,this.buffer=new Vt(x_),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();x_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){pe(T_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){gl(t)?pe(T_,"Ignoring IndexedDB error during garbage collection: ",t):await ml(t)}await this.Rr(3e5)})}}class yL{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(jh.ue);const r=new mL(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(E_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E_):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,a,u,d,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,u=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,d=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Ra()<=ze.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${i} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function vL(n,e){return new yL(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.changes=new jo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&gu(r.mutation,i,Gn.empty(),ht.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,t,r=$e()){const i=xo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let u=ou();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=xo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,$e()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,i){let a=Ls();const u=mu(),d=function(){return mu()}();return t.forEach((f,p)=>{const v=r.get(p.key);i.has(p.key)&&(v===void 0||v.mutation instanceof qi)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),gu(v.mutation,p,v.mutation.getFieldMask(),ht.now())):u.set(p.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,v)=>u.set(p,v)),t.forEach((p,v)=>{var _;return d.set(p,new _L(v,(_=u.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,t){const r=mu();let i=new _t((u,d)=>u-d),a=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let v=r.get(f)||Gn.empty();v=d.applyToLocalView(p,v),r.set(f,v);const _=(i.get(d.batchId)||$e()).add(f);i=i.insert(d.batchId,_)})}).next(()=>{const u=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,v=f.value,_=M1();v.forEach(w=>{if(!a.has(w)){const I=B1(t.get(w),r.get(w));I!==null&&_.set(w,I),a=a.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ee.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return Se.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):IM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ee.resolve(xo());let d=Au,f=a;return u.next(p=>ee.forEach(p,(v,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),a.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{f=f.insert(v,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,$e())).next(v=>({batchId:d,changes:D1(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(r=>{let i=ou();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let u=ou();return this.indexManager.getCollectionParents(e,a).next(d=>ee.forEach(d,f=>{const p=function(_,w){return new zh(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(v=>{v.forEach((_,w)=>{u=u.insert(_,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(u=>{a.forEach((f,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,cn.newInvalidDocument(v)))});let d=ou();return u.forEach((f,p)=>{const v=a.get(f);v!==void 0&&gu(v.mutation,p,Gn.empty(),ht.now()),Bh(t,p)&&(d=d.insert(f,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ee.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ts(i.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:dL(i.bundledQuery),readTime:ts(i.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this.overlays=new _t(Se.comparator),this.kr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=xo();return ee.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.wt(e,t,a)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const i=xo(),a=t.length+1,u=new Se(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new _t((p,v)=>p-v);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=a.get(p.largestBatchId);v===null&&(v=xo(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=xo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=i)););return ee.resolve(d)}wt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new $M(t,r));let a=this.kr.get(t);a===void 0&&(a=$e(),this.kr.set(t,a)),this.kr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.qr=new Vt(Bt.Qr),this.$r=new Vt(Bt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new Bt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Bt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new Se(new dt([])),r=new Bt(t,e),i=new Bt(t,e+1),a=[];return this.$r.forEachInRange([r,i],u=>{this.Wr(u),a.push(u.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Se(new dt([])),r=new Bt(t,e),i=new Bt(t,e+1);let a=$e();return this.$r.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Bt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Se.comparator(e.key,t.key)||je(e.Hr,t.Hr)}static Ur(e,t){return je(e.Hr,t.Hr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Vt(Bt.Qr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new zM(a,t,r,i);this.mutationQueue.push(u);for(const d of i)this.Yr=this.Yr.add(new Bt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,t){return ee.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Xr(r),a=i<0?0:i;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Lg:this.er-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Bt(t,0),i=new Bt(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,i],u=>{const d=this.Zr(u.Hr);a.push(d)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vt(je);return t.forEach(i=>{const a=new Bt(i,0),u=new Bt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,u],d=>{r=r.add(d.Hr)})}),ee.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Se.isDocumentKey(a)||(a=a.child(""));const u=new Bt(new Se(a),0);let d=new Vt(je);return this.Yr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(d=d.add(f.Hr)),!0)},u),ee.resolve(this.ei(d))}ei(e){const t=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Je(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ee.forEach(t.mutations,i=>{const a=new Bt(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new Bt(t,0),i=this.Yr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.ni=e,this.docs=function(){return new _t(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let r=Ls();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():cn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Ls();const u=t.path,d=new Se(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||nM(tM(v),r)<=0||(i.has(v.key)||Bh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Re(9500)}ri(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new AL(this)}getSize(e){return ee.resolve(this.size)}}class AL extends wL{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.persistence=e,this.ii=new jo(t=>Fg(t),Ug),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.si=0,this.oi=new qg,this.targetCount=0,this._i=sl.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),ee.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new sl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.hr(t),ee.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.ii.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ii.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),ee.waitFor(a).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,t){this.ai={},this.overlays={},this.ui=new jh(0),this.ci=!1,this.ci=!0,this.li=new SL,this.referenceDelegate=e(this),this.hi=new bL(this),this.indexManager=new hL,this.remoteDocumentCache=function(i){return new CL(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new cL(t),this.Ti=new TL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new IL(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new RL(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,t){return ee.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class RL extends sM{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.Ai=new qg,this.Ri=null}static Vi(e){return new Gg(e)}get mi(){if(this.Ri)return this.Ri;throw Re(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.mi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.mi,r=>{const i=Se.fromPath(r);return this.fi(e,i).next(a=>{a||t.removeEntry(i,Oe.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ee.or([()=>ee.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class ph{constructor(e,t){this.persistence=e,this.gi=new jo(r=>aM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vL(this,t)}static Vi(e,t){return new ph(e,t)}Ii(){}di(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return ee.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(a=>a?ee.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,u=>this.Sr(e,u,t).next(d=>{d||(r++,a.removeEntry(u,Oe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ee.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zd(e.data.value)),t}Sr(e,t,r){return ee.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.gi.get(t);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=$e(),i=$e();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Kg(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return mN()?8:iM(dn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ps(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ys(e,t,i,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new PL;return this.ws(e,t,u).next(d=>{if(a.result=d,this.Rs)return this.Ss(e,t,u,d.size)})}).next(()=>a.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Ra()<=ze.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Pa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(Ra()<=ze.DEBUG&&pe("QueryEngine","Query:",Pa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ra()<=ze.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Pa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,es(t))):ee.resolve())}ps(e,t){if(d_(t))return ee.resolve(null);let r=es(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=$m(t,null,"F"),r=es(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=$e(...a);return this.gs.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.bs(t,d);return this.Ds(t,p,u,f.readTime)?this.ps(e,$m(t,null,"F")):this.vs(e,p,t,f)}))})))}ys(e,t,r,i){return d_(t)||i.isEqual(Oe.min())?ee.resolve(null):this.gs.getDocuments(e,r).next(a=>{const u=this.bs(t,a);return this.Ds(t,u,r,i)?ee.resolve(null):(Ra()<=ze.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pa(t)),this.vs(e,u,t,eM(i,Au)).next(d=>d))})}bs(e,t){let r=new Vt(N1(e));return t.forEach((i,a)=>{Bh(e,a)&&(r=r.add(a))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,t,r){return Ra()<=ze.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Pa(t)),this.gs.getDocumentsMatchingQuery(e,t,Fi.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="LocalStore",NL=3e8;class OL{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new _t(je),this.Ms=new jo(a=>Fg(a),Ug),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EL(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function DL(n,e,t,r){return new OL(n,e,t,r)}async function sS(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=$e();for(const p of i){u.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of a){d.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Bs:p,removedBatchIds:u,addedBatchIds:d}))})})}function ML(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Os.newChangeBuffer({trackRemovals:!0});return function(d,f,p,v){const _=p.batch,w=_.keys();let I=ee.resolve();return w.forEach(R=>{I=I.next(()=>v.getEntry(f,R)).next(A=>{const x=p.docVersions.get(R);Je(x!==null,48541),A.version.compareTo(x)<0&&(_.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),v.addEntry(A)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(f,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=$e();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function iS(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function LL(n,e){const t=De(n),r=e.snapshotVersion;let i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;const d=[];e.targetChanges.forEach((v,_)=>{const w=i.get(_);if(!w)return;d.push(t.hi.removeMatchingKeys(a,v.removedDocuments,_).next(()=>t.hi.addMatchingKeys(a,v.addedDocuments,_)));let I=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?I=I.withResumeToken(Yt.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,r)),i=i.insert(_,I),function(A,x,M){return A.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=NL?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(w,I,v)&&d.push(t.hi.updateTargetData(a,I))});let f=Ls(),p=$e();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),d.push(VL(a,u,e.documentUpdates).next(v=>{f=v.Ls,p=v.ks})),!r.isEqual(Oe.min())){const v=t.hi.getLastRemoteSnapshotVersion(a).next(_=>t.hi.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(v)}return ee.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Fs=i,a))}function VL(n,e,t){let r=$e(),i=$e();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Ls();return t.forEach((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(Oe.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):pe(Qg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)}),{Ls:u,ks:i}})}function jL(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Lg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FL(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(a=>a?(i=a,ee.resolve(i)):t.hi.allocateTargetId(r).next(u=>(i=new Ii(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function Gm(n,e,t){const r=De(n),i=r.Fs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!gl(u))throw u;pe(Qg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function S_(n,e,t){const r=De(n);let i=Oe.min(),a=$e();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,v){const _=De(f),w=_.Ms.get(v);return w!==void 0?ee.resolve(_.Fs.get(w)):_.hi.getTargetData(p,v)}(r,u,es(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r.Cs.getDocumentsMatchingQuery(u,e,t?i:Oe.min(),t?a:$e())).next(d=>(UL(r,AM(e),d),{documents:d,qs:a})))}function UL(n,e,t){let r=n.xs.get(e)||Oe.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.xs.set(e,r)}class I_{constructor(){this.activeTargetIds=OM()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zL{constructor(){this.Fo=new I_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new I_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="ConnectivityMonitor";class A_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){pe(C_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){pe(C_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad=null;function Km(){return Ad===null?Ad=function(){return 268435456+Math.round(2147483648*Math.random())}():Ad++,"0x"+Ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="RestConnection",BL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WL{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===uh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,a){const u=Km(),d=this.Go(e,t.toUriEncodedString());pe(tm,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,i,a);const{host:p}=new URL(d),v=dl(p);return this.jo(e,d,f,r,v).then(_=>(pe(tm,`Received RPC '${e}' ${u}: `,_),_),_=>{throw Vi(tm,`RPC '${e}' ${u} failed with error: `,_,"url: ",d,"request:",r),_})}Jo(e,t,r,i,a,u){return this.Wo(e,t,r,i,a)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Go(e,t){const r=BL[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class qL extends WL{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,a){const u=Km();return new Promise((d,f)=>{const p=new i1;p.setWithCredentials(!0),p.listenOnce(o1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ud.NO_ERROR:const _=p.getResponseJson();pe(sn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),d(_);break;case Ud.TIMEOUT:pe(sn,`RPC '${e}' ${u} timed out`),f(new Ee(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const w=p.getStatus();if(pe(sn,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const R=I==null?void 0:I.error;if(R&&R.status&&R.message){const A=function(M){const V=M.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(V)>=0?V:ne.UNKNOWN}(R.status);f(new Ee(A,R.message))}else f(new Ee(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ee(ne.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{c_:e,streamId:u,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{pe(sn,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(i);pe(sn,`RPC '${e}' ${u} sending request:`,i),p.send(t,"POST",v,r,15)})}P_(e,t,r){const i=Km(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=u1(),d=l1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");pe(sn,`Creating RPC '${e}' stream ${i}: ${v}`,f);const _=u.createWebChannel(v,f);this.T_(_);let w=!1,I=!1;const R=new HL({Ho:x=>{I?pe(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(w||(pe(sn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),w=!0),pe(sn,`RPC '${e}' stream ${i} sending:`,x),_.send(x))},Yo:()=>_.close()}),A=(x,M,V)=>{x.listen(M,$=>{try{V($)}catch(W){setTimeout(()=>{throw W},0)}})};return A(_,iu.EventType.OPEN,()=>{I||(pe(sn,`RPC '${e}' stream ${i} transport opened.`),R.s_())}),A(_,iu.EventType.CLOSE,()=>{I||(I=!0,pe(sn,`RPC '${e}' stream ${i} transport closed`),R.__(),this.I_(_))}),A(_,iu.EventType.ERROR,x=>{I||(I=!0,Vi(sn,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),R.__(new Ee(ne.UNAVAILABLE,"The operation could not be completed")))}),A(_,iu.EventType.MESSAGE,x=>{var M;if(!I){const V=x.data[0];Je(!!V,16349);const $=V,W=($==null?void 0:$.error)||((M=$[0])===null||M===void 0?void 0:M.error);if(W){pe(sn,`RPC '${e}' stream ${i} received error:`,W);const Q=W.status;let Z=function(k){const L=Rt[k];if(L!==void 0)return q1(L)}(Q),N=W.message;Z===void 0&&(Z=ne.INTERNAL,N="Unknown error status: "+Q+" with message "+W.message),I=!0,R.__(new Ee(Z,N)),_.close()}else pe(sn,`RPC '${e}' stream ${i} received:`,V),R.a_(V)}}),A(d,a1.STAT_EVENT,x=>{x.stat===Lm.PROXY?pe(sn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Lm.NOPROXY&&pe(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.o_()},0),R}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(n){return new YM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="PersistentStream";class aS{constructor(e,t,r,i,a,u,d,f){this.Fi=e,this.w_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new oS(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Ms(t.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{const i=new Ee(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return pe(b_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(pe(b_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GL extends aS{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=ZM(this.serializer,e),r=function(a){if(!("targetChange"in a))return Oe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?ts(u.readTime):Oe.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=qm(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=zm(f)?{documents:nL(a,f)}:{query:rL(a,f).Vt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=Q1(a,u.resumeToken);const p=Bm(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Oe.min())>0){d.readTime=fh(a,u.snapshotVersion.toTimestamp());const p=Bm(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=iL(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=qm(this.serializer),t.removeTarget=e,this.k_(t)}}class KL extends aS{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=tL(e.writeResults,e.commitTime),r=ts(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=qm(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>eL(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{}class YL extends QL{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Ee(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Wo(e,Wm(t,r),i,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ee(ne.UNKNOWN,a.toString())})}Jo(e,t,r,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Jo(e,Wm(t,r),i,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(ne.UNKNOWN,u.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class XL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ms(t),this._a=!1):pe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="RemoteStore";class JL{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(u=>{r.enqueueAndForget(async()=>{Fo(this)&&(pe(Lo,"Restarting streams for network reachability change."),await async function(f){const p=De(f);p.Ia.add(4),await Yu(p),p.Aa.set("Unknown"),p.Ia.delete(4),await Kh(p)}(this))})}),this.Aa=new XL(r,i)}}async function Kh(n){if(Fo(n))for(const e of n.da)await e(!0)}async function Yu(n){for(const e of n.da)await e(!1)}function lS(n,e){const t=De(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Zg(t)?Jg(t):yl(t).x_()&&Xg(t,e))}function Yg(n,e){const t=De(n),r=yl(t);t.Ta.delete(e),r.x_()&&uS(t,e),t.Ta.size===0&&(r.x_()?r.B_():Fo(t)&&t.Aa.set("Unknown"))}function Xg(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yl(n).H_(e)}function uS(n,e){n.Ra.$e(e),yl(n).Y_(e)}function Jg(n){n.Ra=new qM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),yl(n).start(),n.Aa.aa()}function Zg(n){return Fo(n)&&!yl(n).M_()&&n.Ta.size>0}function Fo(n){return De(n).Ia.size===0}function cS(n){n.Ra=void 0}async function ZL(n){n.Aa.set("Online")}async function eV(n){n.Ta.forEach((e,t)=>{Xg(n,e)})}async function tV(n,e){cS(n),Zg(n)?(n.Aa.la(e),Jg(n)):n.Aa.set("Unknown")}async function nV(n,e,t){if(n.Aa.set("Online"),e instanceof K1&&e.state===2&&e.cause)try{await async function(i,a){const u=a.cause;for(const d of a.targetIds)i.Ta.has(d)&&(await i.remoteSyncer.rejectListen(d,u),i.Ta.delete(d),i.Ra.removeTarget(d))}(n,e)}catch(r){pe(Lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mh(n,r)}else if(e instanceof Wd?n.Ra.Ye(e):e instanceof G1?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Oe.min()))try{const r=await iS(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.Ra.Pt(u);return d.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ta.get(p);v&&a.Ta.set(p,v.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,p)=>{const v=a.Ta.get(f);if(!v)return;a.Ta.set(f,v.withResumeToken(Yt.EMPTY_BYTE_STRING,v.snapshotVersion)),uS(a,f);const _=new Ii(v.target,f,p,v.sequenceNumber);Xg(a,_)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){pe(Lo,"Failed to raise snapshot:",r),await mh(n,r)}}async function mh(n,e,t){if(!gl(e))throw e;n.Ia.add(1),await Yu(n),n.Aa.set("Offline"),t||(t=()=>iS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Lo,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Kh(n)})}function dS(n,e){return e().catch(t=>mh(n,t,e))}async function Qh(n){const e=De(n),t=Bi(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Lg;for(;rV(e);)try{const i=await jL(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,sV(e,i)}catch(i){await mh(e,i)}hS(e)&&fS(e)}function rV(n){return Fo(n)&&n.Pa.length<10}function sV(n,e){n.Pa.push(e);const t=Bi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function hS(n){return Fo(n)&&!Bi(n).M_()&&n.Pa.length>0}function fS(n){Bi(n).start()}async function iV(n){Bi(n).na()}async function oV(n){const e=Bi(n);for(const t of n.Pa)e.X_(t.mutations)}async function aV(n,e,t){const r=n.Pa.shift(),i=Bg.from(r,e,t);await dS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Qh(n)}async function lV(n,e){e&&Bi(n).Z_&&await async function(r,i){if(function(u){return WM(u)&&u!==ne.ABORTED}(i.code)){const a=r.Pa.shift();Bi(r).N_(),await dS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Qh(r)}}(n,e),hS(n)&&fS(n)}async function R_(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),pe(Lo,"RemoteStore received new credentials");const r=Fo(t);t.Ia.add(3),await Yu(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Kh(t)}async function uV(n,e){const t=De(n);e?(t.Ia.delete(2),await Kh(t)):e||(t.Ia.add(2),await Yu(t),t.Aa.set("Unknown"))}function yl(n){return n.Va||(n.Va=function(t,r,i){const a=De(t);return a.ia(),new GL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Zo:ZL.bind(null,n),e_:eV.bind(null,n),n_:tV.bind(null,n),J_:nV.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),Zg(n)?Jg(n):n.Aa.set("Unknown")):(await n.Va.stop(),cS(n))})),n.Va}function Bi(n){return n.ma||(n.ma=function(t,r,i){const a=De(t);return a.ia(),new KL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:iV.bind(null,n),n_:lV.bind(null,n),ea:oV.bind(null,n),ta:aV.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Qh(n)):(await n.ma.stop(),n.Pa.length>0&&(pe(Lo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,d=new ey(e,t,u,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ty(n,e){if(Ms("AsyncQueue",`${e}: ${n}`),gl(n))return new Ee(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static emptySet(e){return new ja(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Se.comparator(t.key,r.key):(t,r)=>Se.comparator(t.key,r.key),this.keyedMap=ou(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ja)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ja;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.fa=new _t(Se.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Re(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class il{constructor(e,t,r,i,a,u,d,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new il(e,t,ja.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class dV{constructor(){this.queries=k_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const i=De(t),a=i.queries;i.queries=k_(),a.forEach((u,d)=>{for(const f of d.wa)f.onError(r)})})(this,new Ee(ne.ABORTED,"Firestore shutting down"))}}function k_(){return new jo(n=>k1(n),$h)}async function hV(n,e){const t=De(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Sa()&&e.ba()&&(r=2):(a=new cV,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await t.onListen(i,!0);break;case 1:a.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const d=ty(u,`Initialization of query '${Pa(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,a),a.wa.push(e),e.va(t.onlineState),a.ya&&e.Ca(a.ya)&&ny(t)}async function fV(n,e){const t=De(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const u=a.wa.indexOf(e);u>=0&&(a.wa.splice(u,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function pV(n,e){const t=De(n);let r=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const d of u.wa)d.Ca(i)&&(r=!0);u.ya=i}}r&&ny(t)}function mV(n,e,t){const r=De(n),i=r.queries.get(e);if(i)for(const a of i.wa)a.onError(t);r.queries.delete(e)}function ny(n){n.Da.forEach(e=>{e.next()})}var Qm,N_;(N_=Qm||(Qm={})).Fa="default",N_.Cache="cache";class gV{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.key=e}}class mS{constructor(e){this.key=e}}class yV{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=$e(),this.mutatedKeys=$e(),this.Xa=N1(e),this.eu=new ja(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new P_,i=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((v,_)=>{const w=i.get(v),I=Bh(this.query,_)?_:null,R=!!w&&this.mutatedKeys.has(w.key),A=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let x=!1;w&&I?w.data.isEqual(I.data)?R!==A&&(r.track({type:3,doc:I}),x=!0):this.iu(w,I)||(r.track({type:2,doc:I}),x=!0,(f&&this.Xa(I,f)>0||p&&this.Xa(I,p)<0)&&(d=!0)):!w&&I?(r.track({type:0,doc:I}),x=!0):w&&!I&&(r.track({type:1,doc:w}),x=!0,(f||p)&&(d=!0)),x&&(I?(u=u.add(I),a=A?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{eu:u,ru:r,Ds:d,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort((v,_)=>function(I,R){const A=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{At:x})}};return A(I)-A(R)}(v.type,_.type)||this.Xa(v.doc,_.doc)),this.su(r),i=i!=null&&i;const d=t&&!i?this.ou():[],f=this.Za.size===0&&this.current&&!i?1:0,p=f!==this.Ya;return this.Ya=f,u.length!==0||p?{snapshot:new il(this.query,e.eu,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new P_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=$e(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new mS(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new pS(r))}),t}uu(e){this.Ha=e.qs,this.Za=$e();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return il.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const ry="SyncEngine";class vV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wV{constructor(e){this.key=e,this.lu=!1}}class _V{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new jo(d=>k1(d),$h),this.Tu=new Map,this.Iu=new Set,this.du=new _t(Se.comparator),this.Eu=new Map,this.Au=new qg,this.Ru={},this.Vu=new Map,this.mu=sl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function EV(n,e,t=!0){const r=ES(n);let i;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await gS(r,e,t,!0),i}async function TV(n,e){const t=ES(n);await gS(t,e,!0,!1)}async function gS(n,e,t,r){const i=await FL(n.localStore,es(e)),a=i.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await xV(n,e,a,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&lS(n.remoteStore,i),d}async function xV(n,e,t,r,i){n.gu=(_,w,I)=>async function(A,x,M,V){let $=x.view.nu(M);$.Ds&&($=await S_(A.localStore,x.query,!1).then(({documents:N})=>x.view.nu(N,$)));const W=V&&V.targetChanges.get(x.targetId),Q=V&&V.targetMismatches.get(x.targetId)!=null,Z=x.view.applyChanges($,A.isPrimaryClient,W,Q);return D_(A,x.targetId,Z._u),Z.snapshot}(n,_,w,I);const a=await S_(n.localStore,e,!0),u=new yV(e,a.qs),d=u.nu(a.documents),f=Qu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=u.applyChanges(d,n.isPrimaryClient,f);D_(n,t,p._u);const v=new vV(e,t,u);return n.Pu.set(e,v),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),p.snapshot}async function SV(n,e,t){const r=De(n),i=r.Pu.get(e),a=r.Tu.get(i.targetId);if(a.length>1)return r.Tu.set(i.targetId,a.filter(u=>!$h(u,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Yg(r.remoteStore,i.targetId),Ym(r,i.targetId)}).catch(ml)):(Ym(r,i.targetId),await Gm(r.localStore,i.targetId,!0))}async function IV(n,e){const t=De(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Yg(t.remoteStore,r.targetId))}async function CV(n,e,t){const r=OV(n);try{const i=await function(u,d){const f=De(u),p=ht.now(),v=d.reduce((I,R)=>I.add(R.key),$e());let _,w;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>{let R=Ls(),A=$e();return f.Os.getEntries(I,v).next(x=>{R=x,R.forEach((M,V)=>{V.isValidDocument()||(A=A.add(M))})}).next(()=>f.localDocuments.getOverlayedDocuments(I,R)).next(x=>{_=x;const M=[];for(const V of d){const $=FM(V,_.get(V.key).overlayedDocument);$!=null&&M.push(new qi(V.key,$,S1($.value.mapValue),Dr.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,M,d)}).next(x=>{w=x;const M=x.applyToLocalDocumentSet(_,A);return f.documentOverlayCache.saveOverlays(I,x.batchId,M)})}).then(()=>({batchId:w.batchId,changes:D1(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,d,f){let p=u.Ru[u.currentUser.toKey()];p||(p=new _t(je)),p=p.insert(d,f),u.Ru[u.currentUser.toKey()]=p}(r,i.batchId,t),await Xu(r,i.changes),await Qh(r.remoteStore)}catch(i){const a=ty(i,"Failed to persist write");t.reject(a)}}async function yS(n,e){const t=De(n);try{const r=await LL(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.Eu.get(a);u&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.lu=!0:i.modifiedDocuments.size>0?Je(u.lu,14607):i.removedDocuments.size>0&&(Je(u.lu,42227),u.lu=!1))}),await Xu(t,r,e)}catch(r){await ml(r)}}function O_(n,e,t){const r=De(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Pu.forEach((a,u)=>{const d=u.view.va(e);d.snapshot&&i.push(d.snapshot)}),function(u,d){const f=De(u);f.onlineState=d;let p=!1;f.queries.forEach((v,_)=>{for(const w of _.wa)w.va(d)&&(p=!0)}),p&&ny(f)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AV(n,e,t){const r=De(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),a=i&&i.key;if(a){let u=new _t(Se.comparator);u=u.insert(a,cn.newNoDocument(a,Oe.min()));const d=$e().add(a),f=new qh(Oe.min(),new Map,new _t(je),u,d);await yS(r,f),r.du=r.du.remove(a),r.Eu.delete(e),sy(r)}else await Gm(r.localStore,e,!1).then(()=>Ym(r,e,t)).catch(ml)}async function bV(n,e){const t=De(n),r=e.batch.batchId;try{const i=await ML(t.localStore,e);wS(t,r,null),vS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Xu(t,i)}catch(i){await ml(i)}}async function RV(n,e,t){const r=De(n);try{const i=await function(u,d){const f=De(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return f.mutationQueue.lookupMutationBatch(p,d).next(_=>(Je(_!==null,37113),v=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>f.localDocuments.getDocuments(p,v))})}(r.localStore,e);wS(r,e,t),vS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Xu(r,i)}catch(i){await ml(i)}}function vS(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function wS(n,e,t){const r=De(n);let i=r.Ru[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Ym(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||_S(n,r)})}function _S(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Yg(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),sy(n))}function D_(n,e,t){for(const r of t)r instanceof pS?(n.Au.addReference(r.key,e),PV(n,r)):r instanceof mS?(pe(ry,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||_S(n,r.key)):Re(19791,{yu:r})}function PV(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(pe(ry,"New document in limbo: "+t),n.Iu.add(r),sy(n))}function sy(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Se(dt.fromString(e)),r=n.mu.next();n.Eu.set(r,new wV(t)),n.du=n.du.insert(t,r),lS(n.remoteStore,new Ii(es(zg(t.path)),r,"TargetPurposeLimboResolution",jh.ue))}}async function Xu(n,e,t){const r=De(n),i=[],a=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach((d,f)=>{u.push(r.gu(f,e,t).then(p=>{var v;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){i.push(p);const _=Kg.Es(f.targetId,p);a.push(_)}}))}),await Promise.all(u),r.hu.J_(i),await async function(f,p){const v=De(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ee.forEach(p,w=>ee.forEach(w.Is,I=>v.persistence.referenceDelegate.addReference(_,w.targetId,I)).next(()=>ee.forEach(w.ds,I=>v.persistence.referenceDelegate.removeReference(_,w.targetId,I)))))}catch(_){if(!gl(_))throw _;pe(Qg,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const I=v.Fs.get(w),R=I.snapshotVersion,A=I.withLastLimboFreeSnapshotVersion(R);v.Fs=v.Fs.insert(w,A)}}}(r.localStore,a))}async function kV(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){pe(ry,"User change. New user:",e.toKey());const r=await sS(t.localStore,e);t.currentUser=e,function(a,u){a.Vu.forEach(d=>{d.forEach(f=>{f.reject(new Ee(ne.CANCELLED,u))})}),a.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xu(t,r.Bs)}}function NV(n,e){const t=De(n),r=t.Eu.get(e);if(r&&r.lu)return $e().add(r.key);{let i=$e();const a=t.Tu.get(e);if(!a)return i;for(const u of a){const d=t.Pu.get(u);i=i.unionWith(d.view.tu)}return i}}function ES(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AV.bind(null,e),e.hu.J_=pV.bind(null,e.eventManager),e.hu.pu=mV.bind(null,e.eventManager),e}function OV(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RV.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return DL(this.persistence,new kL,e.initialUser,this.serializer)}Du(e){return new rS(Gg.Vi,this.serializer)}bu(e){return new zL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class DV extends gh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Je(this.persistence.referenceDelegate instanceof ph,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gL(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new rS(r=>ph.Vi(r,t),this.serializer)}}class Xm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>O_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kV.bind(null,this.syncEngine),await uV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dV}()}createDatastore(e){const t=Gh(e.databaseInfo.databaseId),r=function(a){return new qL(a)}(e.databaseInfo);return function(a,u,d,f){return new YL(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,u,d){return new JL(r,i,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>O_(this.syncEngine,t,0),function(){return A_.C()?new A_:new $L}())}createSyncEngine(e,t){return function(i,a,u,d,f,p,v){const _=new _V(i,a,u,d,f,p);return v&&(_.fu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=De(i);pe(Lo,"RemoteStore shutting down."),a.Ia.add(5),await Yu(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Xm.provider={build:()=>new Xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="FirestoreClient";class LV{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=Dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{pe(Wi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe(Wi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ty(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rm(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Wi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Vi("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{pe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Vi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function M_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await VV(n);pe(Wi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>R_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>R_(e.remoteStore,i)),n._onlineComponents=e}async function VV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Wi,"Using user provided OfflineComponentProvider");try{await rm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Vi("Error using user provided cache. Falling back to memory cache: "+t),await rm(n,new gh)}}else pe(Wi,"Using default OfflineComponentProvider"),await rm(n,new DV(void 0));return n._offlineComponents}async function TS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Wi,"Using user provided OnlineComponentProvider"),await M_(n,n._uninitializedComponentsProvider._online)):(pe(Wi,"Using default OnlineComponentProvider"),await M_(n,new Xm))),n._onlineComponents}function jV(n){return TS(n).then(e=>e.syncEngine)}async function FV(n){const e=await TS(n),t=e.eventManager;return t.onListen=EV.bind(null,e.syncEngine),t.onUnlisten=SV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=TV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=IV.bind(null,e.syncEngine),t}function UV(n,e,t={}){const r=new ki;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,p){const v=new MV({next:w=>{v.Ou(),u.enqueueAndForget(()=>fV(a,_));const I=w.docs.has(d);!I&&w.fromCache?p.reject(new Ee(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&f&&f.source==="server"?p.reject(new Ee(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new gV(zg(d.path),v,{includeMetadataChanges:!0,ka:!0});return hV(a,_)}(await FV(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firestore.googleapis.com",V_=!0;class j_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SS,this.ssl=V_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:V_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pL)throw new Ee(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ee(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ee(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ee(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WD;switch(r.type){case"firstParty":return new KD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=L_.get(t);r&&(pe("ComponentProvider","Removing Datastore"),L_.delete(t),r.terminate())}(this),Promise.resolve()}}function zV(n,e,t,r={}){var i;n=ji(n,Yh);const a=dl(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a&&(sx(`https://${f}`),ix("Firestore",!0)),u.host!==SS&&u.host!==f&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:f,ssl:a,emulatorOptions:r});if(!No(p,d)&&(n._setSettings(p),r.mockUserToken)){let v,_;if(typeof r.mockUserToken=="string")v=r.mockUserToken,_=an.MOCK_USER;else{v=oN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ee(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new an(w)}n._authCredentials=new HD(new d1(v,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new iy(this.firestore,e,this._query)}}class kt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Gu(t,kt._jsonSchema))return new kt(e,r||null,new Se(dt.fromString(t.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Pt("string",kt._jsonSchemaVersion),referencePath:Pt("string")};class Ni extends iy{constructor(e,t,r){super(e,t,zg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new Se(e))}withConverter(e){return new Ni(this.firestore,e,this._path)}}function oy(n,e,...t){if(n=hn(n),f1("collection","path",e),n instanceof Yh){const r=dt.fromString(e,...t);return Jw(r),new Ni(n,null,r)}{if(!(n instanceof kt||n instanceof Ni))throw new Ee(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dt.fromString(e,...t));return Jw(r),new Ni(n.firestore,null,r)}}function Xh(n,e,...t){if(n=hn(n),arguments.length===1&&(e=Dg.newId()),f1("doc","path",e),n instanceof Yh){const r=dt.fromString(e,...t);return Xw(r),new kt(n,null,new Se(r))}{if(!(n instanceof kt||n instanceof Ni))throw new Ee(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dt.fromString(e,...t));return Xw(r),new kt(n.firestore,n instanceof Ni?n.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="AsyncQueue";class U_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new oS(this,"async_queue_retry"),this.oc=()=>{const r=nm();r&&pe(F_,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=nm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=nm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new ki;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!gl(e))throw e;pe(F_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Ms("INTERNAL UNHANDLED ERROR: ",z_(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const i=ey.createAndSchedule(this,e,t,r,a=>this.lc(a));return this.ec.push(i),i}ac(){this.tc&&Re(47125,{hc:z_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function z_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ju extends Yh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new U_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new U_(e),this._firestoreClient=void 0,await e}}}function $V(n,e){const t=typeof n=="object"?n:ux(),r=typeof n=="string"?n:uh,i=Eg(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=sN("firestore");a&&zV(i,...a)}return i}function IS(n){if(n._terminated)throw new Ee(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||BV(n),n._firestoreClient}function BV(n){var e,t,r;const i=n._freezeSettings(),a=function(d,f,p,v){return new cM(d,f,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,xS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new LV(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lr(Yt.fromBase64String(e))}catch(t){throw new Ee(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lr(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gu(e,lr._jsonSchema))return lr.fromBase64String(e.bytes)}}lr._jsonSchemaVersion="firestore/bytes/1.0",lr._jsonSchema={type:Pt("string",lr._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ns._jsonSchemaVersion}}static fromJSON(e){if(Gu(e,ns._jsonSchema))return new ns(e.latitude,e.longitude)}}ns._jsonSchemaVersion="firestore/geoPoint/1.0",ns._jsonSchema={type:Pt("string",ns._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gu(e,rs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new rs(e.vectorValues);throw new Ee(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rs._jsonSchemaVersion="firestore/vectorValue/1.0",rs._jsonSchema={type:Pt("string",rs._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=/^__.*__$/;class HV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new qi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ku(e,this.data,t,this.fieldTransforms)}}class CS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new qi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function AS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ec:n})}}class ay{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ay(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return yh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(AS(this.Ec)&&WV.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class qV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Gh(e)}Dc(e,t,r,i=!1){return new ay({Ec:e,methodName:t,bc:r,path:Qt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ly(n){const e=n._freezeSettings(),t=Gh(n._databaseId);return new qV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bS(n,e,t,r,i,a={}){const u=n.Dc(a.merge||a.mergeFields?2:0,e,t,i);dy("Data must be an object, but it was:",u,r);const d=RS(r,u);let f,p;if(a.merge)f=new Gn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const _ of a.mergeFields){const w=Jm(e,_,t);if(!u.contains(w))throw new Ee(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);kS(v,w)||v.push(w)}f=new Gn(v),p=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=u.fieldTransforms;return new HV(new Dn(d),f,p)}class Zh extends Zu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}class uy extends Zu{_toFieldTransform(e){return new $1(e.path,new ku)}isEqual(e){return e instanceof uy}}class cy extends Zu{constructor(e,t){super(e),this.Cc=t}_toFieldTransform(e){const t=new Du(e.serializer,V1(e.serializer,this.Cc));return new $1(e.path,t)}isEqual(e){return e instanceof cy&&this.Cc===e.Cc}}function GV(n,e,t,r){const i=n.Dc(1,e,t);dy("Data must be an object, but it was:",i,r);const a=[],u=Dn.empty();Hi(r,(f,p)=>{const v=hy(e,f,t);p=hn(p);const _=i.gc(v);if(p instanceof Zh)a.push(v);else{const w=ef(p,_);w!=null&&(a.push(v),u.set(v,w))}});const d=new Gn(a);return new CS(u,d,i.fieldTransforms)}function KV(n,e,t,r,i,a){const u=n.Dc(1,e,t),d=[Jm(e,r,t)],f=[i];if(a.length%2!=0)throw new Ee(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)d.push(Jm(e,a[w])),f.push(a[w+1]);const p=[],v=Dn.empty();for(let w=d.length-1;w>=0;--w)if(!kS(p,d[w])){const I=d[w];let R=f[w];R=hn(R);const A=u.gc(I);if(R instanceof Zh)p.push(I);else{const x=ef(R,A);x!=null&&(p.push(I),v.set(I,x))}}const _=new Gn(p);return new CS(v,_,u.fieldTransforms)}function ef(n,e){if(PS(n=hn(n)))return dy("Unsupported field value:",e,n),RS(n,e);if(n instanceof Zu)return function(r,i){if(!AS(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const a=[];let u=0;for(const d of r){let f=ef(d,i.yc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ht.fromDate(r);return{timestampValue:fh(i.serializer,a)}}if(r instanceof ht){const a=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fh(i.serializer,a)}}if(r instanceof ns)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lr)return{bytesValue:Q1(i.serializer,r._byteString)};if(r instanceof kt){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Hg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof rs)return function(u,d){return{mapValue:{fields:{[T1]:{stringValue:x1},[ch]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw d.wc("VectorValues must only contain numeric values.");return $g(d.serializer,p)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Mg(r)}`)}(n,e)}function RS(n,e){const t={};return g1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hi(n,(r,i)=>{const a=ef(i,e.Vc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function PS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof ns||n instanceof lr||n instanceof kt||n instanceof Zu||n instanceof rs)}function dy(n,e,t){if(!PS(t)||!p1(t)){const r=Mg(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function Jm(n,e,t){if((e=hn(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return hy(n,e);throw yh("Field path arguments must be of type string or ",n,!1,void 0,t)}const QV=new RegExp("[~\\*/\\[\\]]");function hy(n,e,t){if(e.search(QV)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jh(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yh(n,e,t,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new Ee(ne.INVALID_ARGUMENT,d+n+f)}function kS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(OS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class YV extends NS{data(){return super.data()}}function OS(n,e){return typeof e=="string"?hy(n,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}class XV{convertValue(e,t="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Hi(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ch].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>Ct(u.doubleValue));return new rs(a)}convertGeoPoint(e){return new ns(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Uh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const t=Ui(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dt.fromString(e);Je(tS(r),9688,{name:e});const i=new Ru(r.get(1),r.get(3)),a=new Se(r.popFirst(5));return i.isEqual(t)||Ms(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class lu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Po extends NS{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(OS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Po._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Po._jsonSchemaVersion="firestore/documentSnapshot/1.0",Po._jsonSchema={type:Pt("string",Po._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Hd extends Po{data(e={}){return super.data(e)}}class yu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new lu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Hd(this._firestore,this._userDataWriter,r.key,r,new lu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(d=>{const f=new Hd(i._firestore,i._userDataWriter,d.doc.key,d.doc,new lu(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new Hd(i._firestore,i._userDataWriter,d.doc.key,d.doc,new lu(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,v=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:JV(d.type),doc:f,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(n){n=ji(n,kt);const e=ji(n.firestore,Ju);return UV(IS(e),n._key).then(t=>n4(e,n,t))}yu._jsonSchemaVersion="firestore/querySnapshot/1.0",yu._jsonSchema={type:Pt("string",yu._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class ZV extends XV{constructor(e){super(),this.firestore=e}convertBytes(e){return new lr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}function fy(n,e,t){n=ji(n,kt);const r=ji(n.firestore,Ju),i=DS(n.converter,e);return py(r,[bS(ly(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Dr.none())])}function e4(n,e,t,...r){n=ji(n,kt);const i=ji(n.firestore,Ju),a=ly(i);let u;return u=typeof(e=hn(e))=="string"||e instanceof Jh?KV(a,"updateDoc",n._key,e,t,r):GV(a,"updateDoc",n._key,e),py(i,[u.toMutation(n._key,Dr.exists(!0))])}function t4(n,e){const t=ji(n.firestore,Ju),r=Xh(n),i=DS(n.converter,e);return py(t,[bS(ly(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}function py(n,e){return function(r,i){const a=new ki;return r.asyncQueue.enqueueAndForget(async()=>CV(await jV(r),i,a)),a.promise}(IS(n),e)}function n4(n,e,t){const r=t.docs.get(e._key),i=new ZV(n);return new Po(n,i,e._key,r,new lu(t.hasPendingWrites,t.fromCache),e.converter)}function LS(){return new uy("serverTimestamp")}function r4(n){return new cy("increment",n)}(function(e,t=!0){(function(i){pl=i})(hl),Za(new Oo("firestore",(r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Ju(new qD(r.getProvider("auth-internal")),new QD(u,r.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(p.options.projectId,v)}(u,i),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),bi(qw,Gw,e),bi(qw,Gw,"esm2017")})();const VS={apiKey:"AIzaSyCMYrPBDKa44vMseGWHb8TGgek2_Mi2wIw",authDomain:"reward-coins-app-a9af0.firebaseapp.com",projectId:"reward-coins-app-a9af0",storageBucket:"reward-coins-app-a9af0.firebasestorage.app",messagingSenderId:"590301179268",appId:"1:590301179268:web:8ba2138b990f0893f441d1"},jS=lx(VS),s4=$x(jS),i4=new bs,tf=$V(jS);function o4(){return console.log("🔥 Attempting Firebase Google Sign-In..."),console.log("🌐 Current domain:",window.location.hostname),console.log("🔧 Firebase Auth Domain:",VS.authDomain),$O(s4,i4).then(n=>{var e;return console.log("✅ Firebase Auth Success!",(e=n.user)==null?void 0:e.email),n}).catch(n=>{if(console.error("❌ Firebase Auth Error Details:"),console.error("Error Code:",n.code),console.error("Error Message:",n.message),console.error("Full Error:",n),n.code==="auth/operation-not-allowed")return console.error("🚨 GOOGLE SIGN-IN NOT ENABLED!"),console.error("👉 Go to: https://console.firebase.google.com/project/reward-coins-app-a9af0/authentication/providers"),console.error("👉 Click 'Google' provider and ENABLE it"),{user:{displayName:"Demo User (Google Sign-In Disabled)",email:"demo@rewardcoins.app",photoURL:"/placeholder.svg",uid:"demo-user-"+Date.now()}};throw n.code==="auth/unauthorized-domain"&&(console.error("🚨 DOMAIN NOT AUTHORIZED!"),console.error("👉 Add this domain to 'Authorized domains':",window.location.hostname)),n})}async function $_(n){const e=Xh(oy(tf,"users"),n),t=await MS(e);return t.exists()?t.data().coins||0:(await fy(e,{coins:0}),0)}async function a4(n,e){const t=Xh(oy(tf,"users"),n);await e4(t,{coins:r4(e)}).catch(async()=>{await fy(t,{coins:e})})}const l4=[{id:"watch-ad",title:"Watch Ad",reward:5,icon:AA},{id:"spin-wheel",title:"Spin & Win",reward:0,icon:gm}];function u4(){var w,I,R,A;const{state:n,setDailyCheckIn:e,addCompletedTask:t,logout:r}=qu(),{toast:i}=Vu(),a=KT(),[u,d]=C.useState(0);C.useEffect(()=>{(async()=>{var V;const M=await $_(((V=n.user)==null?void 0:V.email)||"");d(M)})()},[n.user]);const f=async(x,M)=>{var $,W;await a4((($=n.user)==null?void 0:$.email)||"",x);const V=await $_(((W=n.user)==null?void 0:W.email)||"");d(V),i({title:`${M} Complete!`,description:`+${x} coins earned`})},p=x=>{var M;(M=window.AndroidRewardedAds)!=null&&M.showRewardedAd?window.AndroidRewardedAds.showRewardedAd("ca-app-pub-5756792626790546~7544385810",()=>{x()}):x()},v=async()=>{n.dailyCheckIn||p(async()=>{await f(25,"Daily Check-in"),e(!0)})},_=async x=>{if(!n.completedTasks.has(x.id)){if(x.id==="spin-wheel"){a("/spin-win");return}if(x.id==="watch-ad"){p(async()=>{await f(x.reward,x.title),t(x.id)});return}await f(x.reward,x.title),t(x.id)}};return T.jsxs("div",{className:"p-4 space-y-6 max-w-md mx-auto",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsxs(t1,{className:"h-12 w-12 border-2 border-primary",children:[T.jsx(n1,{src:((w=n.user)==null?void 0:w.picture)||"/placeholder.svg",alt:"Profile"}),T.jsx(r1,{className:"bg-primary text-primary-foreground font-semibold",children:((R=(I=n.user)==null?void 0:I.name)==null?void 0:R.split(" ").map(x=>x[0]).join("").toUpperCase())||"U"})]}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-lg font-semibold text-foreground",children:((A=n.user)==null?void 0:A.name)||"User"}),T.jsx("p",{className:"text-sm text-muted-foreground",children:"Welcome back!"})]})]}),T.jsx(Ri,{variant:"ghost",size:"sm",onClick:r,children:T.jsx(CA,{className:"h-4 w-4"})})]}),T.jsx(ln,{className:"bg-gradient-to-br from-primary/20 to-primary/5 border-primary/20 card-hover",children:T.jsxs(un,{className:"p-6 text-center",children:[T.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[T.jsx(Ya,{className:"h-8 w-8 text-primary coin-spin"}),T.jsx("span",{className:"text-3xl font-bold text-foreground",children:u.toLocaleString()})]}),T.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Coins"})]})}),T.jsx(ln,{className:"card-hover",children:T.jsx(un,{className:"p-4",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:T.jsx(TA,{className:"h-5 w-5 text-primary"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-medium text-foreground",children:"Daily Check-in"}),T.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn 25 coins daily"})]})]}),T.jsx(Ri,{onClick:v,disabled:n.dailyCheckIn,size:"sm",className:n.dailyCheckIn?"bg-success hover:bg-success":"",children:n.dailyCheckIn?T.jsxs(T.Fragment,{children:[T.jsx(cu,{className:"h-4 w-4 mr-1"}),"Done"]}):"Check-in"})]})})}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("h2",{className:"text-xl font-semibold text-foreground flex items-center",children:[T.jsx(bA,{className:"h-5 w-5 mr-2 text-primary"}),"Earn More Coins"]}),T.jsx("div",{className:"space-y-3",children:l4.map(x=>{const M=x.icon,V=n.completedTasks.has(x.id);return T.jsx(ln,{className:"card-hover",children:T.jsx(un,{className:"p-4",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:T.jsx(M,{className:"h-5 w-5 text-primary"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-medium text-foreground",children:x.title}),T.jsx(Cu,{variant:"secondary",className:"text-xs",children:x.id==="spin-wheel"?"2-8 coins":`+${x.reward} coins`})]})]}),T.jsx(Ri,{onClick:()=>_(x),disabled:V,size:"sm",variant:V?"secondary":"default",className:V?"bg-success hover:bg-success text-success-foreground":"",children:V?T.jsxs(T.Fragment,{children:[T.jsx(cu,{className:"h-4 w-4 mr-1"}),"Done"]}):"Start"})]})})},x.id)})})]})]})}const c4=[{id:"play100",title:"₹10 Google Play Code",value:"₹10",coins:1e3},{id:"play500",title:"₹50 Google Play Code",value:"₹50",coins:5e3,popular:!0}];function d4(){const{state:n,redeemCoins:e}=qu(),[t,r]=C.useState(new Set),{toast:i}=Vu(),a=async d=>{var f,p;if(n.coins<d.coins){i({title:"Insufficient Coins",description:`You need ${d.coins} coins to redeem this reward.`,variant:"destructive"});return}if(!t.has(d.id))try{await t4(oy(tf,"redeemRequests"),{userName:((f=n.user)==null?void 0:f.name)||"Unknown",userEmail:((p=n.user)==null?void 0:p.email)||"No Email",reward:d.title,coinsSpent:d.coins,status:"pending",requestedAt:LS()}),e(d.coins,d.title),r(new Set(t).add(d.id)),i({title:"Request Submitted!",description:"Your request has been received. You will get the code soon."})}catch(v){console.error("Error saving to Firestore",v),i({title:"Something went wrong",description:"Please try again later.",variant:"destructive"})}},u=d=>n.coins>=d;return T.jsxs("div",{className:"p-4 space-y-6 max-w-md mx-auto",children:[T.jsxs("div",{className:"text-center space-y-2",children:[T.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[T.jsx(Kd,{className:"h-6 w-6 text-primary"}),T.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Redeem Rewards"})]}),T.jsx("p",{className:"text-muted-foreground",children:"Exchange your coins for Google Play codes"})]}),T.jsx(ln,{className:"bg-gradient-to-br from-primary/20 to-primary/5 border-primary/20",children:T.jsxs(un,{className:"p-4 text-center",children:[T.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[T.jsx(Ya,{className:"h-5 w-5 text-primary"}),T.jsx("span",{className:"text-xl font-bold text-foreground",children:n.coins.toLocaleString()})]}),T.jsx("p",{className:"text-sm text-muted-foreground",children:"Available Coins"})]})}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center",children:[T.jsx(SA,{className:"h-5 w-5 mr-2 text-primary"}),"Google Play Codes"]}),T.jsx("div",{className:"space-y-4",children:c4.map(d=>{const f=t.has(d.id),p=u(d.coins);return T.jsxs(ln,{className:`card-hover relative ${p?"":"opacity-60"}`,children:[d.popular&&T.jsx(Cu,{className:"absolute -top-2 -right-2 bg-primary text-primary-foreground",children:"Popular"}),T.jsx(Wx,{className:"pb-3",children:T.jsxs(Hx,{className:"flex items-center justify-between text-lg",children:[T.jsx("span",{className:"text-foreground",children:d.title}),T.jsx("span",{className:"text-2xl font-bold text-primary",children:d.value})]})}),T.jsx(un,{className:"pt-0",children:T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx(Ya,{className:"h-4 w-4 text-primary"}),T.jsx("span",{className:"text-sm text-muted-foreground",children:"Required:"})]}),T.jsxs("span",{className:"font-semibold text-foreground",children:[d.coins.toLocaleString()," coins"]})]}),T.jsx(Ri,{onClick:()=>a(d),disabled:!p||f,className:"w-full",variant:f?"secondary":"default",children:f?T.jsxs(T.Fragment,{children:[T.jsx(xA,{className:"h-4 w-4 mr-2"}),"Request Submitted"]}):p?"Request Code":"Not Enough Coins"}),f&&T.jsx("div",{className:"bg-success/10 border border-success/20 rounded-lg p-3",children:T.jsx("p",{className:"text-sm text-success-foreground",children:"Your request has been received. You will get the code soon."})})]})})]},d.id)})})]}),T.jsx(ln,{className:"bg-muted/50",children:T.jsxs(un,{className:"p-4",children:[T.jsx("h3",{className:"font-medium text-foreground mb-2",children:"How it works:"}),T.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[T.jsxs("div",{className:"flex items-start space-x-2",children:[T.jsx("span",{className:"text-primary font-medium",children:"1."}),T.jsx("span",{children:"Select a Google Play code value"})]}),T.jsxs("div",{className:"flex items-start space-x-2",children:[T.jsx("span",{className:"text-primary font-medium",children:"2."}),T.jsx("span",{children:"Make sure you have enough coins"})]}),T.jsxs("div",{className:"flex items-start space-x-2",children:[T.jsx("span",{className:"text-primary font-medium",children:"3."}),T.jsx("span",{children:'Click "Request Code" to submit your request'})]}),T.jsxs("div",{className:"flex items-start space-x-2",children:[T.jsx("span",{className:"text-primary font-medium",children:"4."}),T.jsx("span",{children:"You'll receive the code within 24-48 hours via email"})]})]})]})})]})}function h4(){const{state:n}=qu(),e=u=>{switch(u){case"delivered":case"completed":return"bg-success text-success-foreground";case"pending":return"bg-warning text-warning-foreground";default:return"bg-secondary text-secondary-foreground"}},t=u=>{switch(u){case"delivered":case"completed":return T.jsx(cu,{className:"h-3 w-3"});case"pending":return T.jsx($E,{className:"h-3 w-3"});default:return null}},r=u=>new Date(u).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),i=n.transactions.filter(u=>u.type==="redeem"),a=n.transactions.filter(u=>u.type==="earn");return T.jsxs("div",{className:"p-4 space-y-6 max-w-md mx-auto",children:[T.jsxs("div",{className:"text-center space-y-2",children:[T.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[T.jsx(BE,{className:"h-6 w-6 text-primary"}),T.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"History"})]}),T.jsx("p",{className:"text-muted-foreground",children:"Track your earnings and redemptions"})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx(ln,{className:"bg-gradient-to-br from-success/20 to-success/5 border-success/20",children:T.jsxs(un,{className:"p-4 text-center",children:[T.jsx("div",{className:"text-xl font-bold text-success",children:a.reduce((u,d)=>u+d.amount,0)}),T.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Earned"})]})}),T.jsx(ln,{className:"bg-gradient-to-br from-destructive/20 to-destructive/5 border-destructive/20",children:T.jsxs(un,{className:"p-4 text-center",children:[T.jsx("div",{className:"text-xl font-bold text-destructive",children:Math.abs(i.reduce((u,d)=>u+d.amount,0))}),T.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Redeemed"})]})})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center",children:[T.jsx(Kd,{className:"h-5 w-5 mr-2 text-primary"}),"Redeemed Rewards"]}),i.length===0?T.jsx(ln,{className:"bg-muted/50",children:T.jsxs(un,{className:"p-6 text-center",children:[T.jsx(Kd,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),T.jsx("p",{className:"text-muted-foreground",children:"No Transactions"}),T.jsx("p",{className:"text-sm text-muted-foreground",children:"Start earning coins to redeem rewards!"})]})}):T.jsx("div",{className:"space-y-3",children:i.map(u=>T.jsx(ln,{className:"card-hover",children:T.jsx(un,{className:"p-4",children:T.jsx("div",{className:"flex items-start justify-between",children:T.jsxs("div",{className:"flex-1 space-y-1",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h3",{className:"font-medium text-foreground",children:u.title}),T.jsxs("span",{className:"font-semibold text-destructive",children:[u.amount," coins"]})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsxs(Cu,{className:`text-xs ${e(u.status)}`,children:[t(u.status),T.jsx("span",{className:"ml-1 capitalize",children:u.status})]}),T.jsx("span",{className:"text-xs text-muted-foreground",children:r(u.date)})]}),u.description&&T.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:u.description})]})})})},u.id))})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center",children:[T.jsx(cu,{className:"h-5 w-5 mr-2 text-primary"}),"Recent Earnings"]}),a.length===0?T.jsx(ln,{className:"bg-muted/50",children:T.jsxs(un,{className:"p-6 text-center",children:[T.jsx(cu,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),T.jsx("p",{className:"text-muted-foreground",children:"No Earnings Yet"}),T.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete tasks to start earning coins!"})]})}):T.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(u=>T.jsx(ln,{className:"card-hover",children:T.jsx(un,{className:"p-4",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"space-y-1",children:[T.jsx("h3",{className:"font-medium text-foreground",children:u.title}),T.jsx("span",{className:"text-xs text-muted-foreground",children:r(u.date)})]}),T.jsxs("div",{className:"text-right",children:[T.jsxs("span",{className:"font-semibold text-success",children:["+",u.amount," coins"]}),T.jsxs(Cu,{className:`ml-2 text-xs ${e(u.status)}`,children:[t(u.status),T.jsx("span",{className:"ml-1",children:"Completed"})]})]})]})})},u.id))})]})]})}function f4(n,e){const t=C.createContext(e),r=a=>{const{children:u,...d}=a,f=C.useMemo(()=>d,Object.values(d));return T.jsx(t.Provider,{value:f,children:u})};r.displayName=n+"Provider";function i(a){const u=C.useContext(t);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,i]}function p4(n,e=[]){let t=[];function r(a,u){const d=C.createContext(u),f=t.length;t=[...t,u];const p=_=>{var M;const{scope:w,children:I,...R}=_,A=((M=w==null?void 0:w[n])==null?void 0:M[f])||d,x=C.useMemo(()=>R,Object.values(R));return T.jsx(A.Provider,{value:x,children:I})};p.displayName=a+"Provider";function v(_,w){var A;const I=((A=w==null?void 0:w[n])==null?void 0:A[f])||d,R=C.useContext(I);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${a}\``)}return[p,v]}const i=()=>{const a=t.map(u=>C.createContext(u));return function(d){const f=(d==null?void 0:d[n])||a;return C.useMemo(()=>({[`__scope${n}`]:{...d,[n]:f}}),[d,f])}};return i.scopeName=n,[r,m4(i,...e)]}function m4(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=r.reduce((d,{useScope:f,scopeName:p})=>{const _=f(a)[`__scope${p}`];return{...d,..._}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}var sm="focusScope.autoFocusOnMount",im="focusScope.autoFocusOnUnmount",B_={bubbles:!1,cancelable:!0},g4="FocusScope",FS=C.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...u}=n,[d,f]=C.useState(null),p=wn(i),v=wn(a),_=C.useRef(null),w=jt(e,A=>f(A)),I=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let A=function($){if(I.paused||!d)return;const W=$.target;d.contains(W)?_.current=W:mi(_.current,{select:!0})},x=function($){if(I.paused||!d)return;const W=$.relatedTarget;W!==null&&(d.contains(W)||mi(_.current,{select:!0}))},M=function($){if(document.activeElement===document.body)for(const Q of $)Q.removedNodes.length>0&&mi(d)};document.addEventListener("focusin",A),document.addEventListener("focusout",x);const V=new MutationObserver(M);return d&&V.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",x),V.disconnect()}}},[r,d,I.paused]),C.useEffect(()=>{if(d){H_.add(I);const A=document.activeElement;if(!d.contains(A)){const M=new CustomEvent(sm,B_);d.addEventListener(sm,p),d.dispatchEvent(M),M.defaultPrevented||(y4(T4(US(d)),{select:!0}),document.activeElement===A&&mi(d))}return()=>{d.removeEventListener(sm,p),setTimeout(()=>{const M=new CustomEvent(im,B_);d.addEventListener(im,v),d.dispatchEvent(M),M.defaultPrevented||mi(A??document.body,{select:!0}),d.removeEventListener(im,v),H_.remove(I)},0)}}},[d,p,v,I]);const R=C.useCallback(A=>{if(!t&&!r||I.paused)return;const x=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,M=document.activeElement;if(x&&M){const V=A.currentTarget,[$,W]=v4(V);$&&W?!A.shiftKey&&M===W?(A.preventDefault(),t&&mi($,{select:!0})):A.shiftKey&&M===$&&(A.preventDefault(),t&&mi(W,{select:!0})):M===V&&A.preventDefault()}},[t,r,I.paused]);return T.jsx(at.div,{tabIndex:-1,...u,ref:w,onKeyDown:R})});FS.displayName=g4;function y4(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(mi(r,{select:e}),document.activeElement!==t)return}function v4(n){const e=US(n),t=W_(e,n),r=W_(e.reverse(),n);return[t,r]}function US(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function W_(n,e){for(const t of n)if(!w4(t,{upTo:e}))return t}function w4(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function _4(n){return n instanceof HTMLInputElement&&"select"in n}function mi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&_4(n)&&e&&n.select()}}var H_=E4();function E4(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=q_(n,e),n.unshift(e)},remove(e){var t;n=q_(n,e),(t=n[0])==null||t.resume()}}}function q_(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function T4(n){return n.filter(e=>e.tagName!=="A")}function x4(n,e){return C.useReducer((t,r)=>e[t][r]??t,n)}var nf=n=>{const{present:e,children:t}=n,r=S4(e),i=typeof t=="function"?t({present:r.isPresent}):C.Children.only(t),a=jt(r.ref,I4(i));return typeof t=="function"||r.isPresent?C.cloneElement(i,{ref:a}):null};nf.displayName="Presence";function S4(n){const[e,t]=C.useState(),r=C.useRef({}),i=C.useRef(n),a=C.useRef("none"),u=n?"mounted":"unmounted",[d,f]=x4(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=bd(r.current);a.current=d==="mounted"?p:"none"},[d]),_n(()=>{const p=r.current,v=i.current;if(v!==n){const w=a.current,I=bd(p);n?f("MOUNT"):I==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(v&&w!==I?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),_n(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,_=I=>{const A=bd(r.current).includes(I.animationName);if(I.target===e&&A&&(f("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},w=I=>{I.target===e&&(a.current=bd(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:C.useCallback(p=>{p&&(r.current=getComputedStyle(p)),t(p)},[])}}function bd(n){return(n==null?void 0:n.animationName)||"none"}function I4(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var om=0;function C4(){C.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??G_()),document.body.insertAdjacentElement("beforeend",n[1]??G_()),om++,()=>{om===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),om--}},[])}function G_(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var qd="right-scroll-bar-position",Gd="width-before-scroll-bar",A4="with-scroll-bars-hidden",b4="--removed-body-scroll-bar-size";function am(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function R4(n,e){var t=C.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var P4=typeof window<"u"?C.useLayoutEffect:C.useEffect,K_=new WeakMap;function k4(n,e){var t=R4(null,function(r){return n.forEach(function(i){return am(i,r)})});return P4(function(){var r=K_.get(t);if(r){var i=new Set(r),a=new Set(n),u=t.current;i.forEach(function(d){a.has(d)||am(d,null)}),a.forEach(function(d){i.has(d)||am(d,u)})}K_.set(t,n)},[n]),t}function N4(n){return n}function O4(n,e){e===void 0&&(e=N4);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var u=e(a,r);return t.push(u),function(){t=t.filter(function(d){return d!==u})}},assignSyncMedium:function(a){for(r=!0;t.length;){var u=t;t=[],u.forEach(a)}t={push:function(d){return a(d)},filter:function(){return t}}},assignMedium:function(a){r=!0;var u=[];if(t.length){var d=t;t=[],d.forEach(a),u=t}var f=function(){var v=u;u=[],v.forEach(a)},p=function(){return Promise.resolve().then(f)};p(),t={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),t}}}};return i}function D4(n){n===void 0&&(n={});var e=O4(null);return e.options=Jr({async:!0,ssr:!1},n),e}var zS=function(n){var e=n.sideCar,t=$u(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,Jr({},t))};zS.isSideCarExport=!0;function M4(n,e){return n.useMedium(e),zS}var $S=D4(),lm=function(){},rf=C.forwardRef(function(n,e){var t=C.useRef(null),r=C.useState({onScrollCapture:lm,onWheelCapture:lm,onTouchMoveCapture:lm}),i=r[0],a=r[1],u=n.forwardProps,d=n.children,f=n.className,p=n.removeScrollBar,v=n.enabled,_=n.shards,w=n.sideCar,I=n.noIsolation,R=n.inert,A=n.allowPinchZoom,x=n.as,M=x===void 0?"div":x,V=n.gapMode,$=$u(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),W=w,Q=k4([t,e]),Z=Jr(Jr({},$),i);return C.createElement(C.Fragment,null,v&&C.createElement(W,{sideCar:$S,removeScrollBar:p,shards:_,noIsolation:I,inert:R,setCallbacks:a,allowPinchZoom:!!A,lockRef:t,gapMode:V}),u?C.cloneElement(C.Children.only(d),Jr(Jr({},Z),{ref:Q})):C.createElement(M,Jr({},Z,{className:f,ref:Q}),d))});rf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rf.classNames={fullWidth:Gd,zeroRight:qd};var L4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function V4(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=L4();return e&&n.setAttribute("nonce",e),n}function j4(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function F4(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var U4=function(){var n=0,e=null;return{add:function(t){n==0&&(e=V4())&&(j4(e,t),F4(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},z4=function(){var n=U4();return function(e,t){C.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},BS=function(){var n=z4(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},$4={left:0,top:0,right:0,gap:0},um=function(n){return parseInt(n||"",10)||0},B4=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[um(t),um(r),um(i)]},W4=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return $4;var e=B4(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},H4=BS(),Fa="data-scroll-locked",q4=function(n,e,t,r){var i=n.left,a=n.top,u=n.right,d=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(A4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(Fa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qd,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Gd,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(qd," .").concat(qd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gd," .").concat(Gd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fa,`] {
    `).concat(b4,": ").concat(d,`px;
  }
`)},Q_=function(){var n=parseInt(document.body.getAttribute(Fa)||"0",10);return isFinite(n)?n:0},G4=function(){C.useEffect(function(){return document.body.setAttribute(Fa,(Q_()+1).toString()),function(){var n=Q_()-1;n<=0?document.body.removeAttribute(Fa):document.body.setAttribute(Fa,n.toString())}},[])},K4=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;G4();var a=C.useMemo(function(){return W4(i)},[i]);return C.createElement(H4,{styles:q4(a,!e,i,t?"":"!important")})},Zm=!1;if(typeof window<"u")try{var Rd=Object.defineProperty({},"passive",{get:function(){return Zm=!0,!0}});window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{Zm=!1}var Sa=Zm?{passive:!1}:!1,Q4=function(n){return n.tagName==="TEXTAREA"},WS=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Q4(n)&&t[e]==="visible")},Y4=function(n){return WS(n,"overflowY")},X4=function(n){return WS(n,"overflowX")},Y_=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=HS(n,r);if(i){var a=qS(n,r),u=a[1],d=a[2];if(u>d)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},J4=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},Z4=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},HS=function(n,e){return n==="v"?Y4(e):X4(e)},qS=function(n,e){return n==="v"?J4(e):Z4(e)},ej=function(n,e){return n==="h"&&e==="rtl"?-1:1},tj=function(n,e,t,r,i){var a=ej(n,window.getComputedStyle(e).direction),u=a*r,d=t.target,f=e.contains(d),p=!1,v=u>0,_=0,w=0;do{var I=qS(n,d),R=I[0],A=I[1],x=I[2],M=A-x-a*R;(R||M)&&HS(n,d)&&(_+=M,w+=R),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(v&&Math.abs(_)<1||!v&&Math.abs(w)<1)&&(p=!0),p},Pd=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},X_=function(n){return[n.deltaX,n.deltaY]},J_=function(n){return n&&"current"in n?n.current:n},nj=function(n,e){return n[0]===e[0]&&n[1]===e[1]},rj=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},sj=0,Ia=[];function ij(n){var e=C.useRef([]),t=C.useRef([0,0]),r=C.useRef(),i=C.useState(sj++)[0],a=C.useState(BS)[0],u=C.useRef(n);C.useEffect(function(){u.current=n},[n]),C.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var A=O2([n.lockRef.current],(n.shards||[]).map(J_),!0).filter(Boolean);return A.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),A.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var d=C.useCallback(function(A,x){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!u.current.allowPinchZoom;var M=Pd(A),V=t.current,$="deltaX"in A?A.deltaX:V[0]-M[0],W="deltaY"in A?A.deltaY:V[1]-M[1],Q,Z=A.target,N=Math.abs($)>Math.abs(W)?"h":"v";if("touches"in A&&N==="h"&&Z.type==="range")return!1;var P=Y_(N,Z);if(!P)return!0;if(P?Q=N:(Q=N==="v"?"h":"v",P=Y_(N,Z)),!P)return!1;if(!r.current&&"changedTouches"in A&&($||W)&&(r.current=Q),!Q)return!0;var k=r.current||Q;return tj(k,x,A,k==="h"?$:W)},[]),f=C.useCallback(function(A){var x=A;if(!(!Ia.length||Ia[Ia.length-1]!==a)){var M="deltaY"in x?X_(x):Pd(x),V=e.current.filter(function(Q){return Q.name===x.type&&(Q.target===x.target||x.target===Q.shadowParent)&&nj(Q.delta,M)})[0];if(V&&V.should){x.cancelable&&x.preventDefault();return}if(!V){var $=(u.current.shards||[]).map(J_).filter(Boolean).filter(function(Q){return Q.contains(x.target)}),W=$.length>0?d(x,$[0]):!u.current.noIsolation;W&&x.cancelable&&x.preventDefault()}}},[]),p=C.useCallback(function(A,x,M,V){var $={name:A,delta:x,target:M,should:V,shadowParent:oj(M)};e.current.push($),setTimeout(function(){e.current=e.current.filter(function(W){return W!==$})},1)},[]),v=C.useCallback(function(A){t.current=Pd(A),r.current=void 0},[]),_=C.useCallback(function(A){p(A.type,X_(A),A.target,d(A,n.lockRef.current))},[]),w=C.useCallback(function(A){p(A.type,Pd(A),A.target,d(A,n.lockRef.current))},[]);C.useEffect(function(){return Ia.push(a),n.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:w}),document.addEventListener("wheel",f,Sa),document.addEventListener("touchmove",f,Sa),document.addEventListener("touchstart",v,Sa),function(){Ia=Ia.filter(function(A){return A!==a}),document.removeEventListener("wheel",f,Sa),document.removeEventListener("touchmove",f,Sa),document.removeEventListener("touchstart",v,Sa)}},[]);var I=n.removeScrollBar,R=n.inert;return C.createElement(C.Fragment,null,R?C.createElement(a,{styles:rj(i)}):null,I?C.createElement(K4,{gapMode:n.gapMode}):null)}function oj(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const aj=M4($S,ij);var GS=C.forwardRef(function(n,e){return C.createElement(rf,Jr({},n,{ref:e,sideCar:aj}))});GS.classNames=rf.classNames;var lj=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Ca=new WeakMap,kd=new WeakMap,Nd={},cm=0,KS=function(n){return n&&(n.host||KS(n.parentNode))},uj=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=KS(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},cj=function(n,e,t,r){var i=uj(e,Array.isArray(n)?n:[n]);Nd[t]||(Nd[t]=new WeakMap);var a=Nd[t],u=[],d=new Set,f=new Set(i),p=function(_){!_||d.has(_)||(d.add(_),p(_.parentNode))};i.forEach(p);var v=function(_){!_||f.has(_)||Array.prototype.forEach.call(_.children,function(w){if(d.has(w))v(w);else try{var I=w.getAttribute(r),R=I!==null&&I!=="false",A=(Ca.get(w)||0)+1,x=(a.get(w)||0)+1;Ca.set(w,A),a.set(w,x),u.push(w),A===1&&R&&kd.set(w,!0),x===1&&w.setAttribute(t,"true"),R||w.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",w,M)}})};return v(e),d.clear(),cm++,function(){u.forEach(function(_){var w=Ca.get(_)-1,I=a.get(_)-1;Ca.set(_,w),a.set(_,I),w||(kd.has(_)||_.removeAttribute(r),kd.delete(_)),I||_.removeAttribute(t)}),cm--,cm||(Ca=new WeakMap,Ca=new WeakMap,kd=new WeakMap,Nd={})}},dj=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=lj(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),cj(r,i,t,"aria-hidden")):function(){return null}},my="Dialog",[QS,Kj]=p4(my),[hj,Vr]=QS(my),YS=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:a,modal:u=!0}=n,d=C.useRef(null),f=C.useRef(null),[p=!1,v]=wE({prop:r,defaultProp:i,onChange:a});return T.jsx(hj,{scope:e,triggerRef:d,contentRef:f,contentId:zp(),titleId:zp(),descriptionId:zp(),open:p,onOpenChange:v,onOpenToggle:C.useCallback(()=>v(_=>!_),[v]),modal:u,children:t})};YS.displayName=my;var XS="DialogTrigger",fj=C.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Vr(XS,t),a=jt(e,i.triggerRef);return T.jsx(at.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":vy(i.open),...r,ref:a,onClick:nt(n.onClick,i.onOpenToggle)})});fj.displayName=XS;var gy="DialogPortal",[pj,JS]=QS(gy,{forceMount:void 0}),ZS=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,a=Vr(gy,e);return T.jsx(pj,{scope:e,forceMount:t,children:C.Children.map(r,u=>T.jsx(nf,{present:t||a.open,children:T.jsx(TT,{asChild:!0,container:i,children:u})}))})};ZS.displayName=gy;var vh="DialogOverlay",eI=C.forwardRef((n,e)=>{const t=JS(vh,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=Vr(vh,n.__scopeDialog);return a.modal?T.jsx(nf,{present:r||a.open,children:T.jsx(mj,{...i,ref:e})}):null});eI.displayName=vh;var mj=C.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Vr(vh,t);return T.jsx(GS,{as:Qa,allowPinchZoom:!0,shards:[i.contentRef],children:T.jsx(at.div,{"data-state":vy(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Vo="DialogContent",tI=C.forwardRef((n,e)=>{const t=JS(Vo,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=Vr(Vo,n.__scopeDialog);return T.jsx(nf,{present:r||a.open,children:a.modal?T.jsx(gj,{...i,ref:e}):T.jsx(yj,{...i,ref:e})})});tI.displayName=Vo;var gj=C.forwardRef((n,e)=>{const t=Vr(Vo,n.__scopeDialog),r=C.useRef(null),i=jt(e,t.contentRef,r);return C.useEffect(()=>{const a=r.current;if(a)return dj(a)},[]),T.jsx(nI,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(n.onCloseAutoFocus,a=>{var u;a.preventDefault(),(u=t.triggerRef.current)==null||u.focus()}),onPointerDownOutside:nt(n.onPointerDownOutside,a=>{const u=a.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&a.preventDefault()}),onFocusOutside:nt(n.onFocusOutside,a=>a.preventDefault())})}),yj=C.forwardRef((n,e)=>{const t=Vr(Vo,n.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return T.jsx(nI,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var u,d;(u=n.onCloseAutoFocus)==null||u.call(n,a),a.defaultPrevented||(r.current||(d=t.triggerRef.current)==null||d.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var f,p;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=a.target;((p=t.triggerRef.current)==null?void 0:p.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),nI=C.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...u}=n,d=Vr(Vo,t),f=C.useRef(null),p=jt(e,f);return C4(),T.jsxs(T.Fragment,{children:[T.jsx(FS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:T.jsx(lg,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":vy(d.open),...u,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),T.jsxs(T.Fragment,{children:[T.jsx(vj,{titleId:d.titleId}),T.jsx(_j,{contentRef:f,descriptionId:d.descriptionId})]})]})}),yy="DialogTitle",rI=C.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Vr(yy,t);return T.jsx(at.h2,{id:i.titleId,...r,ref:e})});rI.displayName=yy;var sI="DialogDescription",iI=C.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Vr(sI,t);return T.jsx(at.p,{id:i.descriptionId,...r,ref:e})});iI.displayName=sI;var oI="DialogClose",aI=C.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Vr(oI,t);return T.jsx(at.button,{type:"button",...r,ref:e,onClick:nt(n.onClick,()=>i.onOpenChange(!1))})});aI.displayName=oI;function vy(n){return n?"open":"closed"}var lI="DialogTitleWarning",[Qj,uI]=f4(lI,{contentName:Vo,titleName:yy,docsSlug:"dialog"}),vj=({titleId:n})=>{const e=uI(lI),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},wj="DialogDescriptionWarning",_j=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uI(wj).contentName}}.`;return C.useEffect(()=>{var a;const i=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},Ej=YS,Tj=ZS,cI=eI,dI=tI,hI=rI,fI=iI,xj=aI;const Sj=Ej,Ij=Tj,pI=C.forwardRef(({className:n,...e},t)=>T.jsx(cI,{ref:t,className:ot("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));pI.displayName=cI.displayName;const mI=C.forwardRef(({className:n,children:e,...t},r)=>T.jsxs(Ij,{children:[T.jsx(pI,{}),T.jsxs(dI,{ref:r,className:ot("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,T.jsxs(xj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[T.jsx(WE,{className:"h-4 w-4"}),T.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mI.displayName=dI.displayName;const gI=({className:n,...e})=>T.jsx("div",{className:ot("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});gI.displayName="DialogHeader";const yI=C.forwardRef(({className:n,...e},t)=>T.jsx(hI,{ref:t,className:ot("text-lg font-semibold leading-none tracking-tight",n),...e}));yI.displayName=hI.displayName;const Cj=C.forwardRef(({className:n,...e},t)=>T.jsx(fI,{ref:t,className:ot("text-sm text-muted-foreground",n),...e}));Cj.displayName=fI.displayName;const Aa=[{number:2,color:"from-purple-600 to-purple-400"},{number:3,color:"from-blue-600 to-blue-400"},{number:4,color:"from-indigo-600 to-indigo-400"},{number:5,color:"from-violet-600 to-violet-400"},{number:6,color:"from-cyan-600 to-cyan-400"},{number:7,color:"from-amber-600 to-amber-400"},{number:8,color:"from-emerald-600 to-emerald-400"}];function Aj(){const{state:n,addCoins:e,useSpins:t}=qu(),[r,i]=C.useState(!1),[a,u]=C.useState(0),[d,f]=C.useState(0),[p,v]=C.useState(!1),{toast:_}=Vu(),w=n.spinsLeft>0&&!r,I=()=>{if(!w)return;i(!0);const A=Math.floor(Math.random()*360),M=a+1440+A;u(M);const V=360/Aa.length,$=(360-M%360)%360,W=Math.floor($/V),Q=Aa[W];setTimeout(()=>{i(!1),t(1),e(Q.number,"Spin & Win",`Won ${Q.number} coins from wheel spin`),f(Q.number),v(!0),_({title:"🎉 Congratulations!",description:`You won ${Q.number} coins!`})},3e3)},R=()=>{v(!1)};return T.jsxs("div",{className:"p-4 space-y-6 max-w-md mx-auto min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900",children:[T.jsxs("div",{className:"text-center space-y-3 pt-4",children:[T.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[T.jsx(gm,{className:"h-6 w-6 text-purple-400"}),T.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Spin & Win Coins"})]}),T.jsx("p",{className:"text-muted-foreground",children:"Try your luck and win up to 8 coins!"}),T.jsx("div",{className:"flex items-center justify-center space-x-4",children:T.jsxs(Cu,{variant:"secondary",className:"bg-purple-900/50 text-purple-300 border-purple-600/50",children:[T.jsx($E,{className:"h-3 w-3 mr-1"}),"Spins left today: ",n.spinsLeft]})})]}),T.jsx(ln,{className:"bg-gradient-to-br from-slate-800/50 to-purple-900/30 border-purple-600/30 backdrop-blur-sm",children:T.jsx(un,{className:"p-8",children:T.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1 z-10",children:T.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-8 border-l-transparent border-r-transparent border-b-yellow-400 drop-shadow-lg"})}),T.jsx("div",{className:"relative w-64 h-64",children:T.jsxs("svg",{className:`w-full h-full transition-transform duration-3000 ease-out ${r?"animate-spin-custom":""}`,style:{transform:`rotate(${a}deg)`,filter:"drop-shadow(0 0 20px rgba(168, 85, 247, 0.3))"},viewBox:"0 0 200 200",children:[Aa.map((A,x)=>{const M=360/Aa.length*x,V=360/Aa.length*(x+1),$=100+90*Math.cos(M*Math.PI/180),W=100+90*Math.sin(M*Math.PI/180),Q=100+90*Math.cos(V*Math.PI/180),Z=100+90*Math.sin(V*Math.PI/180),N=V-M>180?1:0,P=["M 100 100",`L ${$} ${W}`,`A 90 90 0 ${N} 1 ${Q} ${Z}`,"Z"].join(" "),k=M+360/Aa.length/2,L=100+60*Math.cos(k*Math.PI/180),F=100+60*Math.sin(k*Math.PI/180);return T.jsxs("g",{children:[T.jsx("defs",{children:T.jsxs("linearGradient",{id:`grad-${x}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[T.jsx("stop",{offset:"0%",style:{stopColor:bj(A.color)}}),T.jsx("stop",{offset:"100%",style:{stopColor:Rj(A.color)}})]})}),T.jsx("path",{d:P,fill:`url(#grad-${x})`,stroke:"#1e293b",strokeWidth:"2"}),T.jsx("text",{x:L,y:F,textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"16",fontWeight:"bold",style:{filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.8))"},children:A.number})]},x)}),T.jsx("circle",{cx:"100",cy:"100",r:"20",fill:"url(#center-grad)",stroke:"#fbbf24",strokeWidth:"3"}),T.jsx("defs",{children:T.jsxs("radialGradient",{id:"center-grad",children:[T.jsx("stop",{offset:"0%",style:{stopColor:"#fbbf24"}}),T.jsx("stop",{offset:"100%",style:{stopColor:"#f59e0b"}})]})})]})})]}),T.jsx(Ri,{onClick:I,disabled:!w,size:"lg",className:`w-32 h-12 text-lg font-bold transition-all duration-300 ${w?"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-500 hover:to-blue-500 shadow-lg hover:shadow-purple-500/25":"bg-gray-600 cursor-not-allowed"}`,children:r?T.jsxs(T.Fragment,{children:[T.jsx(gm,{className:"h-5 w-5 mr-2 animate-spin"}),"SPINNING..."]}):n.spinsLeft===0?"NO SPINS LEFT":"SPIN"}),n.spinsLeft===0&&T.jsxs("div",{className:"text-center space-y-2",children:[T.jsx("p",{className:"text-yellow-400 font-medium",children:"Come back tomorrow!"}),T.jsx("p",{className:"text-sm text-muted-foreground",children:"Your spins will reset at midnight"})]})]})})}),T.jsx(ln,{className:"bg-gradient-to-r from-slate-800/50 to-purple-900/30 border-purple-600/30 backdrop-blur-sm",children:T.jsx(un,{className:"p-4",children:T.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-2xl font-bold text-purple-400",children:n.totalSpinsToday}),T.jsx("div",{className:"text-xs text-muted-foreground",children:"Spins Used"})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[20-n.spinsLeft,"/20"]}),T.jsx("div",{className:"text-xs text-muted-foreground",children:"Daily Progress"})]})]})})}),T.jsx(Sj,{open:p,onOpenChange:v,children:T.jsxs(mI,{className:"bg-gradient-to-br from-slate-800 to-purple-900 border-purple-600/50",children:[T.jsx(gI,{className:"text-center",children:T.jsxs(yI,{className:"flex items-center justify-center space-x-2 text-2xl",children:[T.jsx(RA,{className:"h-6 w-6 text-yellow-400"}),T.jsx("span",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:"Congratulations!"})]})}),T.jsxs("div",{className:"text-center text-lg pt-4",children:[T.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[T.jsx(Ya,{className:"h-8 w-8 text-yellow-400"}),T.jsxs("span",{className:"text-3xl font-bold text-yellow-400",children:["+",d]}),T.jsx("span",{className:"text-xl text-muted-foreground",children:"coins"})]}),T.jsx("p",{className:"text-muted-foreground",children:"Your coins have been added to your balance!"})]}),T.jsx("div",{className:"flex justify-center pt-4",children:T.jsx(Ri,{onClick:R,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-500 hover:to-blue-500",children:"Awesome!"})})]})})]})}function bj(n){return{"from-purple-600 to-purple-400":"#9333ea","from-blue-600 to-blue-400":"#2563eb","from-indigo-600 to-indigo-400":"#4f46e5","from-violet-600 to-violet-400":"#7c3aed","from-cyan-600 to-cyan-400":"#0891b2","from-amber-600 to-amber-400":"#d97706","from-emerald-600 to-emerald-400":"#059669"}[n]||"#9333ea"}function Rj(n){return{"from-purple-600 to-purple-400":"#c084fc","from-blue-600 to-blue-400":"#60a5fa","from-indigo-600 to-indigo-400":"#818cf8","from-violet-600 to-violet-400":"#a78bfa","from-cyan-600 to-cyan-400":"#22d3ee","from-amber-600 to-amber-400":"#fbbf24","from-emerald-600 to-emerald-400":"#34d399"}[n]||"#c084fc"}const Pj=()=>T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92..."}),T.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57..."}),T.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09..."}),T.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15..."})]});function kj({onLogin:n}){const[e,t]=C.useState(!1),{toast:r}=Vu(),i=async u=>{try{const d=Xh(tf,"users",u.email);(await MS(d)).exists()?console.log("👋 Welcome Back"):(await fy(d,{name:u.name,email:u.email,picture:u.picture,coins:0,createdAt:LS()}),console.log("✅ Welcome"))}catch(d){console.error("❌ An Error Occurred:",d)}},a=async()=>{t(!0);try{const d=(await o4()).user,f={name:d.displayName||"User",email:d.email||"",picture:d.photoURL||"/placeholder.svg"};await i(f),n(f),r({title:"Welcome!",description:`Successfully signed in as ${f.name}`})}catch(u){console.error("Sign-in error:",u);let d="Failed to sign in with Google";u.code==="auth/operation-not-allowed"?d="Google Sign-In is disabled in Firebase. Check console for setup instructions.":u.code==="auth/network-request-failed"?d="Network error. Please check your connection and try again.":u.code==="auth/unauthorized-domain"?d="This domain is not authorized. Please contact support.":u.message&&(d=u.message),r({title:"Sign-in Failed",description:d,variant:"destructive"})}finally{t(!1)}};return T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:T.jsxs("div",{className:"w-full max-w-md space-y-8",children:[T.jsxs("div",{className:"text-center space-y-4",children:[T.jsx("div",{className:"flex justify-center",children:T.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:T.jsx(Ya,{className:"w-10 h-10 text-white"})})}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Welcome to"}),T.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:"Reward Coins App"}),T.jsx("p",{className:"text-slate-600 text-lg",children:"Sign in to continue and earn rewards"})]})]}),T.jsx(ln,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:T.jsxs(un,{className:"p-8 space-y-6",children:[T.jsx(Ri,{onClick:a,disabled:e,className:"w-full h-14 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 shadow-md hover:shadow-lg transition-all duration-200 disabled:opacity-50",size:"lg",children:T.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[T.jsx(Pj,{}),T.jsx("span",{className:"text-lg font-medium",children:e?"Signing in...":"Sign in with Google"})]})}),T.jsx("div",{className:"text-center space-y-3",children:T.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:"We use your Google account to sync your rewards and provide a secure experience."})})]})}),T.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:T.jsx(Ya,{className:"w-4 h-4 text-primary"})}),T.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Earn Coins"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:T.jsx("span",{className:"text-primary text-xs font-bold",children:"🎁"})}),T.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Redeem Rewards"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:T.jsx("span",{className:"text-primary text-xs font-bold",children:"📱"})}),T.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Track History"})]})]})]})})}const Nj=()=>{const n=Oh();return C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:T.jsxs("div",{className:"text-center",children:[T.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),T.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),T.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Oj=new YP,Dj=()=>{const{state:n,login:e}=qu();return n.isAuthenticated?T.jsx(Qk,{children:T.jsxs(Bk,{children:[T.jsx(ba,{path:"/",element:T.jsx(u4,{})}),T.jsx(ba,{path:"/redeem",element:T.jsx(d4,{})}),T.jsx(ba,{path:"/history",element:T.jsx(h4,{})}),T.jsx(ba,{path:"/spin-win",element:T.jsx(Aj,{})}),T.jsx(ba,{path:"*",element:T.jsx(Nj,{})})]})}):T.jsx(kj,{onLogin:e})},Mj=()=>T.jsx(JP,{client:Oj,children:T.jsx(DD,{children:T.jsxs(bP,{children:[T.jsx(db,{}),T.jsx($b,{}),T.jsx(qk,{children:T.jsx(Dj,{})})]})})});fb.createRoot(document.getElementById("root")).render(T.jsx(Mj,{}));
